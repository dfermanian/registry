  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (272.4ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (455.6ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (170.8ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (145.2ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (23.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (2.1ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-24 14:54:15) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering brides/index

ActionView::TemplateError (undefined method `title' for #<ActionView::Base:0x103330118>) on line #1 of app/views/brides/index.html.erb:
1: <% title "Brides" %>
2: 
3: <table>
4:   <tr>

    app/views/brides/index.html.erb:1
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (131.9ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (23.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:22:13) [GET]
  [4;35;1mBride Load (35.1ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering brides/index

ActionView::TemplateError (undefined method `title' for #<ActionView::Base:0x103330668>) on line #1 of app/views/brides/index.html.erb:
1: <% title "Brides" %>
2: 
3: <table>
4:   <tr>

    app/views/brides/index.html.erb:1
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (126.6ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:22:48) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering brides/index

ActionView::TemplateError (undefined method `title' for #<ActionView::Base:0x10352c5e8>) on line #1 of app/views/brides/index.html.erb:
1: <%= title "Brides" %>
2: 
3: <table>
4:   <tr>

    app/views/brides/index.html.erb:1
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:22:58) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering brides/index
Completed in 11ms (View: 5, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:23:00) [GET]
  [4;35;1mBride Columns (16.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Rendering brides/new

ActionView::TemplateError (undefined method `title' for #<ActionView::Base:0x103644de0>) on line #1 of app/views/brides/new.html.erb:
1: <% title "New Bride" %>
2: 
3: <%= render :partial => 'form' %>
4: 

    app/views/brides/new.html.erb:1
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:23:58) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 28ms (View: 15, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:24:00) [GET]
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (118.1ms)
Completed in 207ms (View: 199, DB: 2) | 200 OK [http://localhost/brides/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:24:08) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jane", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "wedding_day(5i)"=>"24"}}
  [4;35;1mBride Columns (90.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (13.6ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jane', '2010-08-25 17:24:08', '2010-08-25 17:24:08', '2010-08-25 17:24:00')[0m
  [4;36;1mSQL (28.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 143ms (DB: 132) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:24:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
Completed in 36ms (View: 28, DB: 2) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:24:10) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 6, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:24:12) [GET]
  [4;36;1mBride Columns (38.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (18.8ms)
Completed in 65ms (View: 21, DB: 38) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:24:18) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jill", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "wedding_day(5i)"=>"24"}}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBride Create (0.2ms)[0m   [0;1mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jill', '2010-08-25 17:24:18', '2010-08-25 17:24:18', '2010-08-25 17:24:00')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/2
Completed in 13ms (DB: 3) | 302 Found [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:24:18) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.7ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
Completed in 13ms (View: 5, DB: 3) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:24:19) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 16ms (View: 8, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:24:25) [GET]
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (17.1ms)
Completed in 26ms (View: 19, DB: 2) | 200 OK [http://localhost/brides/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:24:40) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jen", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"12", "wedding_day(3i)"=>"18", "wedding_day(4i)"=>"17", "wedding_day(5i)"=>"24"}}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jen', '2010-08-25 17:24:40', '2010-08-25 17:24:40', '2010-12-18 17:24:00')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/3
Completed in 12ms (DB: 3) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:24:40) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/show
Completed in 13ms (View: 5, DB: 2) | 200 OK [http://localhost/brides/3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:24:41) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#index (for 127.0.0.1 at 2010-08-25 10:24:49) [GET]
  [4;36;1mGift Load (15.9ms)[0m   [0;1mSELECT * FROM `gifts` [0m
Rendering template within layouts/application
Rendering gifts/index
Completed in 46ms (View: 25, DB: 16) | 200 OK [http://localhost/gifts]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#new (for 127.0.0.1 at 2010-08-25 10:24:51) [GET]
  [4;36;1mGift Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering gifts/new
Rendered gifts/_form (7.3ms)
Completed in 26ms (View: 18, DB: 2) | 200 OK [http://localhost/gifts/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#create (for 127.0.0.1 at 2010-08-25 10:24:56) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "gift"=>{"price"=>"400.00", "name"=>"iPhone", "total_donations"=>"0"}}
  [4;36;1mGift Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mGift Create (50.3ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `total_donations`) VALUES('iPhone', 400.0, '2010-08-25 17:24:56', '2010-08-25 17:24:56', 0.0)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/gifts/1
Completed in 63ms (DB: 54) | 302 Found [http://localhost/gifts]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#show (for 127.0.0.1 at 2010-08-25 10:24:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 1) [0m
Rendering template within layouts/application
Rendering gifts/show
Completed in 36ms (View: 28, DB: 2) | 200 OK [http://localhost/gifts/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#index (for 127.0.0.1 at 2010-08-25 10:24:58) [GET]
  [4;36;1mGift Load (0.9ms)[0m   [0;1mSELECT * FROM `gifts` [0m
Rendering template within layouts/application
Rendering gifts/index
  [4;35;1mGift Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 15ms (View: 7, DB: 3) | 200 OK [http://localhost/gifts]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#new (for 127.0.0.1 at 2010-08-25 10:24:59) [GET]
  [4;35;1mGift Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering gifts/new
Rendered gifts/_form (5.8ms)
Completed in 16ms (View: 8, DB: 2) | 200 OK [http://localhost/gifts/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#create (for 127.0.0.1 at 2010-08-25 10:25:18) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "gift"=>{"price"=>"100.00", "name"=>"Purse", "total_donations"=>"0"}}
  [4;35;1mGift Columns (87.2ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Create (0.3ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `total_donations`) VALUES('Purse', 100.0, '2010-08-25 17:25:18', '2010-08-25 17:25:18', 0.0)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/gifts/2
Completed in 99ms (DB: 89) | 302 Found [http://localhost/gifts]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#show (for 127.0.0.1 at 2010-08-25 10:25:19) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mGift Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendering template within layouts/application
Rendering gifts/show
Completed in 13ms (View: 5, DB: 2) | 200 OK [http://localhost/gifts/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#index (for 127.0.0.1 at 2010-08-25 10:25:20) [GET]
  [4;35;1mGift Load (0.6ms)[0m   [0mSELECT * FROM `gifts` [0m
Rendering template within layouts/application
Rendering gifts/index
  [4;36;1mGift Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 16ms (View: 8, DB: 3) | 200 OK [http://localhost/gifts]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:28:14) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:28:16) [GET]
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (96.7ms)
Completed in 112ms (View: 99, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:29:07) [GET]
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (18.8ms)
Completed in 40ms (View: 26, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:29:18) [GET]
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (19.0ms)
Completed in 39ms (View: 24, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:29:45) [GET]
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (18.7ms)
Completed in 38ms (View: 24, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:30:33) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"10", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"300.00", "name"=>"Sunglasses", "total_donations"=>"0"}, "1"=>{"price"=>"100.00", "name"=>"Bikini", "total_donations"=>"0"}, "2"=>{"price"=>"50.00", "name"=>"Sandals", "total_donations"=>"0"}}, "wedding_day(5i)"=>"29"}}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
WARNING: Can't mass-assign these protected attributes: gifts_attributes
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Barbie', '2010-08-25 17:30:33', '2010-08-25 17:30:33', '2010-10-25 17:29:00')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/4
Completed in 13ms (DB: 4) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:30:33) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 4) [0m
Rendering template within layouts/application
Rendering brides/show
Completed in 14ms (View: 6, DB: 2) | 200 OK [http://localhost/brides/4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:30:35) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 21ms (View: 14, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:30:38) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 4) [0m
Rendering template within layouts/application
Rendering brides/show
Completed in 14ms (View: 5, DB: 3) | 200 OK [http://localhost/brides/4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:32:50) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 4) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'gifts.bride_id' in 'where clause': SELECT * FROM `gifts` WHERE (`gifts`.bride_id = 4) [0m

ActionView::TemplateError (Mysql::Error: Unknown column 'gifts.bride_id' in 'where clause': SELECT * FROM `gifts` WHERE (`gifts`.bride_id = 4) ) on line #13 of app/views/brides/show.html.erb:
10: </p>
11: <p>
12:   <strong>Gifts:</strong>
13: 	<% @bride.gifts.each do |g| %>
14: 		<%= g.name %>
15: 		<%= g.total_donations %>
16: 		<% g.price %>

    app/views/brides/show.html.erb:13
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (144.4ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (124.4ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (319.7ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (35.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (100.7ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (95.9ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#index (for 127.0.0.1 at 2010-08-25 10:35:02) [GET]
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` [0m
Rendering template within layouts/application
Rendering gifts/index
Completed in 24ms (View: 16, DB: 1) | 200 OK [http://localhost/gifts]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#new (for 127.0.0.1 at 2010-08-25 10:35:03) [GET]
  [4;35;1mGift Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering gifts/new
Rendered gifts/_form (6.7ms)
Completed in 97ms (View: 88, DB: 2) | 200 OK [http://localhost/gifts/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#create (for 127.0.0.1 at 2010-08-25 10:35:14) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "gift"=>{"price"=>"400.00", "name"=>"iPhone", "total_donations"=>"0"}}
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Create (0.3ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `total_donations`) VALUES('iPhone', 400.0, '2010-08-25 17:35:14', '2010-08-25 17:35:14', 0.0)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/gifts/1
Completed in 12ms (DB: 3) | 302 Found [http://localhost/gifts]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GiftsController#show (for 127.0.0.1 at 2010-08-25 10:35:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGift Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 1) [0m
Rendering template within layouts/application
Rendering gifts/show
Completed in 18ms (View: 10, DB: 2) | 200 OK [http://localhost/gifts/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:35:19) [GET]
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:35:20) [GET]
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (24.0ms)
Completed in 49ms (View: 35, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:35:57) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jen", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"112.23", "name"=>"Purse", "total_donations"=>"0"}, "1"=>{"price"=>"12.21", "name"=>"Sandals", "total_donations"=>"0"}, "2"=>{"price"=>"800.00", "name"=>"Sunglasses", "total_donations"=>"0"}}, "wedding_day(5i)"=>"35"}}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
WARNING: Can't mass-assign these protected attributes: gifts_attributes
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBride Create (0.3ms)[0m   [0;1mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jen', '2010-08-25 17:35:57', '2010-08-25 17:35:57', '2010-08-25 17:35:00')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 13ms (DB: 4) | 302 Found [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:35:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'gifts.bride_id' in 'where clause': SELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m

ActionView::TemplateError (Mysql::Error: Unknown column 'gifts.bride_id' in 'where clause': SELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) ) on line #13 of app/views/brides/show.html.erb:
10: </p>
11: <p>
12:   <strong>Gifts:</strong>
13: 	<% @bride.gifts.each do |g| %>
14: 		<%= g.name %>
15: 		<%= g.total_donations %>
16: 		<% g.price %>

    app/views/brides/show.html.erb:13
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (67.2ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (43.4ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (268.9ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (114.9ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (117.8ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (1.8ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (25.6ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:39:14) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 28ms (View: 15, DB: 1) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:39:15) [GET]
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (20.8ms)
Completed in 117ms (View: 30, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:39:39) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jen", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"1212.12", "name"=>"Purse", "total_donations"=>"0"}, "1"=>{"price"=>"13.12", "name"=>"Sandals", "total_donations"=>"0"}}, "wedding_day(5i)"=>"39"}}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
WARNING: Can't mass-assign these protected attributes: gifts_attributes
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBride Create (0.3ms)[0m   [0;1mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jen', '2010-08-25 17:39:39', '2010-08-25 17:39:39', '2010-08-25 17:39:00')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 13ms (DB: 4) | 302 Found [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:39:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.8ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (15.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
Completed in 44ms (View: 20, DB: 18) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:39:43) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 13ms (View: 6, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:39:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:40:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (13.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (15.6ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
Completed in 127ms (View: 14, DB: 30) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:40:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
Completed in 18ms (View: 10, DB: 3) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:40:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
Completed in 23ms (View: 15, DB: 3) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:40:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
Completed in 18ms (View: 10, DB: 3) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:40:58) [GET]
  [4;36;1mBride Load (0.7ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 6, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:40:59) [GET]
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (17.3ms)
Completed in 111ms (View: 20, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:41:23) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jill", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"1231.12", "name"=>"Necklace", "total_donations"=>"0"}, "1"=>{"price"=>"321.123", "name"=>"Watch", "total_donations"=>"0"}}, "wedding_day(5i)"=>"40"}}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
WARNING: Can't mass-assign these protected attributes: gifts_attributes
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBride Create (0.3ms)[0m   [0;1mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jill', '2010-08-25 17:41:23', '2010-08-25 17:41:23', '2010-08-25 17:40:00')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/2
Completed in 13ms (DB: 3) | 302 Found [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:41:23) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
Completed in 20ms (View: 12, DB: 3) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` [0m
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.2ms)[0m   [0mSELECT * FROM `brides` LIMIT 1[0m
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` [0m
  [4;36;1mGift Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mGift Create (0.5ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('shirt', 12.12, '2010-08-25 17:46:32', '2010-08-25 17:46:32', 1, 0.0)[0m
  [4;35;1mSQL (43.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mGift Create (0.5ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('shorts', 43.21, '2010-08-25 17:47:56', '2010-08-25 17:47:56', 1, 0.0)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:48:34) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (24.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 76ms (View: 33, DB: 25) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:48:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 102ms (View: 17, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:49:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (1.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
ERROR: compiling _run_erb_app47views47brides47show46html46erb RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/brides/show.html.erb:14: syntax error, unexpected tIDENTIFIER, expecting ')'
...put_buffer.concat(( "Name: " g.name ).to_s); @output_buffer....
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/brides/show.html.erb:15: syntax error, unexpected tIDENTIFIER, expecting ')'
...concat(( "Total Donations: " g.total_donations ).to_s); @out...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/brides/show.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ut_buffer.concat(( "Price: " g.price ).to_s); @output_buffer...
                              ^
Function body:           def _run_erb_app47views47brides47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "Bride" ; @output_buffer.concat "\n\n<p>\n  <strong>Name:</strong>\n  "



; @output_buffer.concat((h @bride.name ).to_s); @output_buffer.concat "\n</p>\n<p>\n  <strong>Wedding Day:</strong>\n  "



; @output_buffer.concat((h @bride.wedding_day ).to_s); @output_buffer.concat "\n</p>\n<p>\n  <strong>Gifts:</strong>\n\t"



;  @bride.gifts.each do |g| ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat(( "Name: " g.name ).to_s); @output_buffer.concat "<br/>\n\t\t"
; @output_buffer.concat(( "Total Donations: " g.total_donations ).to_s); @output_buffer.concat "<br/>\n\t\t"
; @output_buffer.concat(( "Price: " g.price ).to_s); @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n</p>\n\n<p>\n  "



; @output_buffer.concat(( link_to "Edit", edit_bride_path(@bride) ).to_s); @output_buffer.concat " |\n  "
; @output_buffer.concat(( link_to "Destroy", @bride, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat " |\n  "
; @output_buffer.concat(( link_to "View All", brides_path ).to_s); @output_buffer.concat "\n</p>\n"

; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/brides/show.html.erb:28:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/brides/show.html.erb:14: syntax error, unexpected tIDENTIFIER, expecting ')'
...put_buffer.concat(( "Name: " g.name ).to_s); @output_buffer....
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/brides/show.html.erb:15: syntax error, unexpected tIDENTIFIER, expecting ')'
...concat(( "Total Donations: " g.total_donations ).to_s); @out...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/brides/show.html.erb:16: syntax error, unexpected tIDENTIFIER, expecting ')'
...ut_buffer.concat(( "Price: " g.price ).to_s); @output_buffer...
                              ^) on line #14 of app/views/brides/show.html.erb:
11: <p>
12:   <strong>Gifts:</strong>
13: 	<% @bride.gifts.each do |g| %>
14: 		<%= "Name: " g.name %><br/>
15: 		<%= "Total Donations: " g.total_donations %><br/>
16: 		<%= "Price: " g.price %>
17: 	<% end %>

    app/views/brides/show.html.erb:28:in `compile!'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.9ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:50:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 112ms (View: 100, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:50:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 27ms (View: 17, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:51:15) [GET]
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 16ms (View: 8, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:51:17) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
Completed in 20ms (View: 11, DB: 3) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#destroy (for 127.0.0.1 at 2010-08-25 10:51:21) [DELETE]
  Parameters: {"authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "id"=>"2"}
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBride Destroy (0.2ms)[0m   [0;1mDELETE FROM `brides` WHERE `id` = 2[0m
  [4;35;1mSQL (20.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides
Completed in 33ms (DB: 24) | 302 Found [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:51:21) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 13ms (View: 6, DB: 2) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:51:23) [GET]
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (17.4ms)
Completed in 123ms (View: 28, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:51:44) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jane", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"123.21", "name"=>"Shoes", "total_donations"=>"0"}, "1"=>{"price"=>"4333.33", "name"=>"Ring", "total_donations"=>"0"}}, "wedding_day(5i)"=>"51"}}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
WARNING: Can't mass-assign these protected attributes: gifts_attributes
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jane', '2010-08-25 17:51:44', '2010-08-25 17:51:44', '2010-08-25 17:51:00')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/3
Completed in 14ms (DB: 4) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:51:45) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 3) [0m
Completed in 17ms (View: 10, DB: 2) | 200 OK [http://localhost/brides/3]
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#destroy (for 127.0.0.1 at 2010-08-25 10:52:25) [DELETE]
  Parameters: {"authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "id"=>"3"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Destroy (0.2ms)[0m   [0mDELETE FROM `brides` WHERE `id` = 3[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides
Completed in 11ms (DB: 4) | 302 Found [http://localhost/brides/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:52:25) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 13ms (View: 6, DB: 2) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:52:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 101ms (View: 91, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:52:29) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 6, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:52:30) [GET]
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (17.7ms)
Completed in 33ms (View: 20, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:52:45) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jane", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"12.21", "name"=>"Wallet", "total_donations"=>"0"}, "1"=>{"price"=>"89.99", "name"=>"Purse", "total_donations"=>"0"}}, "wedding_day(5i)"=>"52"}}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (4.4ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jane', '2010-08-25 17:52:45', '2010-08-25 17:52:45', '2010-08-25 17:52:00')[0m
  [4;36;1mGift Create (0.2ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('Wallet', 12.21, '2010-08-25 17:52:45', '2010-08-25 17:52:45', 4, 0.0)[0m
  [4;35;1mGift Create (2.3ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('Purse', 89.99, '2010-08-25 17:52:45', '2010-08-25 17:52:45', 4, 0.0)[0m
  [4;36;1mSQL (24.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/4
Completed in 60ms (DB: 35) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:52:45) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 4) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 4) [0m
  [4;35;1mGift Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 38ms (View: 14, DB: 7) | 200 OK [http://localhost/brides/4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:52:56) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 94ms (View: 87, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:53:08) [GET]
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (18.2ms)
Completed in 34ms (View: 20, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:53:35) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"89.99", "name"=>"Shoes", "total_donations"=>"0"}, "1"=>{"price"=>"78.99", "name"=>"Scarf", "total_donations"=>"0"}}, "wedding_day(5i)"=>"53"}}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
WARNING: Can't mass-assign these protected attributes: gifts_attributes
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Barbie', '2010-08-25 17:53:35', '2010-08-25 17:53:35', '2010-08-25 17:53:00')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/5
Completed in 13ms (DB: 3) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:53:35) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 5) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.9ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 5) [0m
Completed in 17ms (View: 9, DB: 3) | 200 OK [http://localhost/brides/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#destroy (for 127.0.0.1 at 2010-08-25 10:53:40) [DELETE]
  Parameters: {"authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "id"=>"5"}
  [4;36;1mBride Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Destroy (0.3ms)[0m   [0mDELETE FROM `brides` WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides
Completed in 12ms (DB: 4) | 302 Found [http://localhost/brides/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:53:40) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 20ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 10:53:52) [GET]
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (51.4ms)
Completed in 69ms (View: 54, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 10:54:09) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"32.99", "name"=>"Pruse", "total_donations"=>"0"}, "1"=>{"price"=>"89.99", "name"=>"Shorts", "total_donations"=>"0"}}, "wedding_day(5i)"=>"53"}}
  [4;36;1mBride Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Barbie', '2010-08-25 17:54:09', '2010-08-25 17:54:09', '2010-08-25 17:53:00')[0m
  [4;36;1mGift Create (0.2ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('Pruse', 32.99, '2010-08-25 17:54:09', '2010-08-25 17:54:09', 6, 0.0)[0m
  [4;35;1mGift Create (0.1ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('Shorts', 89.99, '2010-08-25 17:54:09', '2010-08-25 17:54:09', 6, 0.0)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/6
Completed in 25ms (DB: 6) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:54:09) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 6) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 6) [0m
  [4;35;1mGift Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 21ms (View: 11, DB: 5) | 200 OK [http://localhost/brides/6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:54:11) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:54:22) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 6) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 6) [0m
  [4;35;1mGift Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 22ms (View: 11, DB: 6) | 200 OK [http://localhost/brides/6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:54:54) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:54:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 22ms (View: 11, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:56:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 26ms (View: 15, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:56:15) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-08-25 10:56:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (20.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_form (123.8ms)
Completed in 149ms (View: 121, DB: 23) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-08-25 10:56:24) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "id"=>"1", "bride"=>{"name"=>"Jen", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"12.12", "name"=>"shirt", "id"=>"1", "total_donations"=>"0"}, "1"=>{"price"=>"45.45", "name"=>"shorts", "id"=>"2", "total_donations"=>"0"}}, "wedding_day(5i)"=>"39"}}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;36;1mGift Load (89.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('1','2')) AND (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Update (12.9ms)[0m   [0mUPDATE `gifts` SET `updated_at` = '2010-08-25 17:56:24', `price` = 45.45 WHERE `id` = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 128ms (DB: 108) | 302 Found [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:56:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 25ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:56:29) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:56:30) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 4) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 4) [0m
  [4;35;1mGift Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 22ms (View: 10, DB: 6) | 200 OK [http://localhost/brides/4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-08-25 10:56:34) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 4) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 4) [0m
  [4;36;1mGift Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_form (109.3ms)
Completed in 120ms (View: 109, DB: 6) | 200 OK [http://localhost/brides/4/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-08-25 10:56:38) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "id"=>"4", "bride"=>{"name"=>"Jane", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"17", "gifts_attributes"=>{"0"=>{"price"=>"12.21", "name"=>"Wallet", "id"=>"3", "total_donations"=>"0"}, "1"=>{"price"=>"89.99", "name"=>"Purse", "id"=>"4", "total_donations"=>"10.00"}}, "wedding_day(5i)"=>"52"}}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 4) [0m
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('3','4')) AND (`gifts`.bride_id = 4) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Update (0.3ms)[0m   [0mUPDATE `gifts` SET `updated_at` = '2010-08-25 17:56:38', `total_donations` = 10.0 WHERE `id` = 4[0m
  [4;36;1mSQL (26.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/4
Completed in 50ms (DB: 31) | 302 Found [http://localhost/brides/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:56:38) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 4) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.6ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 4) [0m
  [4;35;1mGift Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 26ms (View: 14, DB: 7) | 200 OK [http://localhost/brides/4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 10:56:41) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 20ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 10:57:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 23ms (View: 11, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (45.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
Migrating to CreateBrides (20100824213338)
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (142.2ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bride_id` int(11), `gift_id` int(11), `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (44.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (2.5ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mdescribe `donations`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW KEYS FROM `donations`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (1.9ms)[0m   [0mdescribe `gifts`[0m
  [4;36;1mSQL (32.8ms)[0m   [0;1mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:05:26) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (137.6ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:05:33) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:06:09) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (162.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:08:37) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:08:39) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (138.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:08:47) [GET]
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (48.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 685ms (View: 158, DB: 49) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 12:10:38) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBride Columns (51.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 6) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 6) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 256ms (View: 196, DB: 55) | 200 OK [http://localhost/brides/6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-25 12:10:41) [GET]

NoMethodError (undefined method `assert_valid_keys' for :bride:Symbol):
  (eval):3:in `belongs_to'
  app/models/donation.rb:3
  app/controllers/donations_controller.rb:11:in `new'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-25 12:11:22) [GET]
  [4;35;1mDonation Columns (24.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (116.1ms)
Completed in 161ms (View: 130, DB: 25) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 12:32:14) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"25", "card_verification"=>"", "card_type"=>"", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>""}}
  [4;35;1mDonation Columns (38.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2010-08-25', '2010-08-25 19:32:14', '', '2010-08-25 19:32:14', NULL, '', '127.0.0.1', '')[0m
  [4;36;1mSQL (62.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations/1
Completed in 143ms (DB: 101) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-25 12:32:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (9.0ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 393ms (View: 37, DB: 11) | 200 OK [http://localhost/donations/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-25 12:32:25) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 19ms (View: 12, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-25 12:32:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDonation Columns (4.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 7, DB: 5) | 200 OK [http://localhost/donations/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (94.6ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (313.1ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (113.9ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (117.5ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (171.0ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bride_id` int(11), `gift_id` int(11), `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `amount` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (1.9ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (11.6ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (14.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mdescribe `donations`[0m
  [4;35;1mSQL (3.7ms)[0m   [0mSHOW KEYS FROM `donations`[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (3.5ms)[0m   [0mdescribe `gifts`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:50:15) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (137.1ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:51:28) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:51:30) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (140.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:51:31) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:51:32) [GET]

NoMethodError (undefined method `assert_valid_keys' for :donations:Symbol):
  (eval):3:in `has_many'
  app/models/bride.rb:3
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (138.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 12:52:06) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 375ms (View: 117, DB: 1) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-25 12:52:08) [GET]
  [4;36;1mBride Columns (39.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (57.3ms)
Completed in 201ms (View: 85, DB: 41) | 200 OK [http://localhost/brides/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-25 12:53:15) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "bride"=>{"name"=>"Jen", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"19", "gifts_attributes"=>{"0"=>{"price"=>"12.21", "name"=>"bag", "total_donations"=>"0"}, "1"=>{"price"=>"32.43", "name"=>"hat", "total_donations"=>"0"}}, "wedding_day(5i)"=>"52"}}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBride Create (0.3ms)[0m   [0;1mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jen', '2010-08-25 19:53:15', '2010-08-25 19:53:15', '2010-08-25')[0m
  [4;35;1mGift Create (0.2ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('bag', 12.21, '2010-08-25 19:53:15', '2010-08-25 19:53:15', 1, 0.0)[0m
  [4;36;1mGift Create (0.1ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('hat', 32.43, '2010-08-25 19:53:15', '2010-08-25 19:53:15', 1, 0.0)[0m
  [4;35;1mSQL (66.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 94ms (DB: 72) | 302 Found [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 12:53:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 46ms (View: 36, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-25 12:53:18) [GET]
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (21.5ms)
Completed in 55ms (View: 47, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-25 12:53:58) [GET]
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (94.1ms)
Completed in 107ms (View: 100, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 13:05:32) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (35.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 57ms (View: 15, DB: 36) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 13:05:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 23ms (View: 12, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-25 13:05:35) [GET]
  [4;36;1mDonation Columns (32.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (82.5ms)
Completed in 143ms (View: 85, DB: 33) | 200 OK [http://localhost/donations/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 13:25:03) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>""}}
  [4;36;1mDonation Columns (28.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (41.0ms)
Completed in 119ms (View: 61, DB: 29) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 13:25:38) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"12", "card_number"=>"1234432114322341", "last_name"=>"hernando", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>"Fred"}}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.5ms)
Completed in 110ms (View: 16, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 13:25:46) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"master", "amount"=>"12", "card_number"=>"1234432114322341", "last_name"=>"hernando", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>"Fred"}}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.3ms)
Completed in 27ms (View: 14, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 13:25:50) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"discover", "amount"=>"12", "card_number"=>"1234432114322341", "last_name"=>"hernando", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>"Fred"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.6ms)
Completed in 25ms (View: 13, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 13:25:53) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"american express", "amount"=>"12", "card_number"=>"1234432114322341", "last_name"=>"hernando", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>"Fred"}}
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.6ms)
Completed in 27ms (View: 14, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 13:25:57) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"12", "card_number"=>"1234432114322341", "last_name"=>"hernando", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>"Fred"}}
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.5ms)
Completed in 27ms (View: 14, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 13:27:28) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"12.99", "card_number"=>"4809096053705631", "last_name"=>"hernando", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Fred"}}
  [4;36;1mDonation Columns (44.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 20:27:28', 'visa', '2010-08-25 20:27:28', NULL, 12.99, 'hernando', '127.0.0.1', 'Fred')[0m
  [4;35;1mSQL (30.5ms)[0m   [0mCOMMIT[0m

NoMethodError (undefined method `purchase' for #<Donation:0x1036442a0>):
  app/controllers/donations_controller.rb:18:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 13:28:08) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"12.99", "card_number"=>"4809096053705631", "last_name"=>"hernando", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Fred"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 20:28:08', 'visa', '2010-08-25 20:28:08', NULL, 12.99, 'hernando', '127.0.0.1', 'Fred')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1830ms (View: 32, DB: 4) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 14:56:55) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (26.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 123ms (View: 62, DB: 27) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 14:56:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 122ms (View: 111, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-25 14:57:00) [GET]
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (32.7ms)
Completed in 98ms (View: 90, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 14:57:25) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"50.00", "card_number"=>"4809096053705631", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 21:57:25', 'visa', '2010-08-25 21:57:25', NULL, 50.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (30.2ms)[0m   [0;1mCOMMIT[0m

NameError (uninitialized constant Donation::GATEWAY):
  app/models/donation.rb:14:in `submit_donation'
  app/controllers/donations_controller.rb:18:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.0ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 15:03:31) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"50.00", "card_number"=>"4809096053705631", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;36;1mDonation Columns (27.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 22:03:32', 'visa', '2010-08-25 22:03:32', NULL, 50.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;35;1mSQL (17.5ms)[0m   [0mCOMMIT[0m

NameError (uninitialized constant Donation::GATEWAY):
  app/models/donation.rb:14:in `submit_donation'
  app/controllers/donations_controller.rb:18:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (115.4ms)
Rendered rescues/_request_and_response (46.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 15:03:35) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"50.00", "card_number"=>"4809096053705631", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 22:03:35', 'visa', '2010-08-25 22:03:35', NULL, 50.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (29.4ms)[0m   [0;1mCOMMIT[0m

NameError (uninitialized constant Donation::GATEWAY):
  app/models/donation.rb:14:in `submit_donation'
  app/controllers/donations_controller.rb:18:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (643.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 15:36:16) [GET]
  [4;35;1mBride Load (39.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (49.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 319ms (View: 157, DB: 89) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 15:36:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (78.8ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 233ms (View: 143, DB: 83) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-25 15:36:23) [GET]
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (65.1ms)
Completed in 127ms (View: 101, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 15:38:10) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;35;1mDonation Columns (40.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 22:38:11', 'visa', '2010-08-25 22:38:11', NULL, 555.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (27.7ms)[0m   [0;1mCOMMIT[0m

NameError (uninitialized constant Donation::GATEWAY):
  app/models/donation.rb:14:in `submit_donation'
  app/controllers/donations_controller.rb:18:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.6ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 15:41:51) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 22:41:51', 'visa', '2010-08-25 22:41:51', NULL, 555.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m

NameError (undefined local variable or method `gateway' for #<Donation:0x1036265e8>):
  app/models/donation.rb:14:in `submit_donation'
  app/controllers/donations_controller.rb:18:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 15:42:04) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (18.2ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 22:42:04', 'visa', '2010-08-25 22:42:04', NULL, 555.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (17.9ms)[0m   [0;1mCOMMIT[0m

NameError (uninitialized constant Donation::GATEWAY):
  app/models/donation.rb:14:in `submit_donation'
  app/controllers/donations_controller.rb:18:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (136.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 15:44:12) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;36;1mDonation Columns (54.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.5ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 22:44:12', 'visa', '2010-08-25 22:44:12', NULL, 555.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;35;1mSQL (85.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (0.0ms)[0m   [0;1mMysql::Error: Table 'ptn_db.donation_transactions' doesn't exist: SHOW FIELDS FROM `donation_transactions`[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'ptn_db.donation_transactions' doesn't exist: SHOW FIELDS FROM `donation_transactions`):
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:18:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (54.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (63.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
Migrating to CreateBrides (20100824213338)
Migrating to CreateDonations (20100825185248)
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (288.8ms)[0m   [0mCREATE TABLE `donation_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `donation_id` int(11), `action` varchar(255), `amount` float, `success` tinyint(1), `authorization` varchar(255), `message` varchar(255), `params` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825203335')[0m
  [4;35;1mSQL (24.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (23.3ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (12.7ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mdescribe `donation_transactions`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `donation_transactions`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (4.5ms)[0m   [0mdescribe `donations`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW KEYS FROM `donations`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-25 15:45:41) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 77ms (View: 35, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-25 15:45:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 172ms (View: 161, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-25 15:45:49) [GET]
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (56.5ms)
Completed in 96ms (View: 87, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 15:46:13) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 22:46:13', 'visa', '2010-08-25 22:46:13', NULL, 555.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (18.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (20.5ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-25 22:46:14', '2010-08-25 22:46:14', 'submit_donation', 55500.0, NULL, 0, 10, '--- \npayment_status: None\ncorrelation_id: 9229b5a324abe\ntimestamp: \"2010-08-25T22:46:14Z\"\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10001\"\nversion: \"59.0\"\nack: Failure\nmessage: Internal Error\npayment_type: none\nreason_code: none\n', 'Internal Error')[0m
  [4;36;1mSQL (19.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 892ms (View: 28, DB: 64) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-25 15:56:33) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"kHfqrCPL1z0XP8s7rCY4P8Lhtv5FR/h6zPyz8W8gzzw=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (33.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.5ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-25 22:56:33', 'visa', '2010-08-25 22:56:33', NULL, 555.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (28.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-25 22:56:34', '2010-08-25 22:56:34', 'submit_donation', 55500.0, NULL, 0, 11, '--- \npayment_status: None\ncorrelation_id: af21b3db91820\ntimestamp: \"2010-08-25T22:56:33Z\"\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10001\"\nversion: \"59.0\"\nack: Failure\nmessage: Internal Error\npayment_type: none\nreason_code: none\n', 'Internal Error')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1007ms (View: 62, DB: 66) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (170.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 10:24:00) [GET]
  [4;35;1mBride Load (330.1ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (103.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 850ms (View: 283, DB: 604) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 10:24:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (31.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (70.8ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 297ms (View: 183, DB: 106) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 10:24:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 27ms (View: 17, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 10:24:45) [GET]
  [4;36;1mDonation Columns (141.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (58.8ms)
Completed in 282ms (View: 134, DB: 142) | 200 OK [http://localhost/donations/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 10:25:31) [GET]
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.5ms)
Completed in 25ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 10:25:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 28ms (View: 18, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 10:27:36) [GET]
  [4;35;1mDonation Columns (46.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.5ms)
Completed in 127ms (View: 74, DB: 47) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 10:30:48) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (40.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (119.1ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 17:30:48', 'visa', '2010-08-26 17:30:48', NULL, 555.0, 'hernandez', '127.0.0.1', 'fred')[0m
  [4;36;1mSQL (18.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (49.6ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 17:30:50', '2010-08-26 17:30:50', 'submit_donation', 55500.0, NULL, 0, 12, '--- \npayment_status: None\ntimestamp: \"2010-08-26T17:30:50Z\"\ncorrelation_id: 18330ef0df696\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10001\"\nversion: \"59.0\"\nack: Failure\nmessage: Internal Error\nreason_code: none\npayment_type: none\n', 'Internal Error')[0m
  [4;36;1mSQL (20.5ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 2264ms (View: 72, DB: 251) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 10:32:54) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (39.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 100ms (View: 53, DB: 40) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-08-26 10:32:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_form (80.1ms)
Completed in 141ms (View: 129, DB: 4) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-08-26 10:33:09) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "id"=>"1", "bride"=>{"name"=>"Jen", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"25", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"12.21", "name"=>"bag", "id"=>"1", "total_donations"=>"0"}, "1"=>{"price"=>"32.43", "name"=>"hat", "id"=>"2", "total_donations"=>"0"}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.1ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;36;1mGift Load (50.2ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('1','2')) AND (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 77ms (DB: 56) | 302 Found [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 10:33:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (2.7ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 26ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 10:33:27) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 6, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 10:34:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (32.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 102ms (View: 60, DB: 36) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 10:34:45) [GET]
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.0ms)
Completed in 54ms (View: 45, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 10:35:15) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 17:35:15', 'visa', '2010-08-26 17:35:15', NULL, 555.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (80.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 17:35:16', '2010-08-26 17:35:16', 'submit_donation', 55500.0, NULL, 0, 13, '--- \npayment_status: None\ntimestamp: \"2010-08-26T17:35:16Z\"\ncorrelation_id: 70a4599e3350\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10001\"\nversion: \"59.0\"\nack: Failure\nmessage: Internal Error\nreason_code: none\npayment_type: none\n', 'Internal Error')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1025ms (View: 1, DB: 87) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (18.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 11:22:10) [GET]
  [4;35;1mBride Load (26.1ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (462.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 863ms (View: 307, DB: 507) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 11:22:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.9ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 191ms (View: 178, DB: 7) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 11:22:15) [GET]
  [4;35;1mDonation Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (237.2ms)
Completed in 309ms (View: 299, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 11:22:59) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;35;1mDonation Columns (66.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (29.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 18:22:59', 'visa', '2010-08-26 18:22:59', NULL, 555.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (61.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (1.2ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 18:23:00', '2010-08-26 18:23:00', 'submit_donation', 55500.0, NULL, 0, 14, '--- \ntimestamp: \"2010-08-26T18:23:00Z\"\ncorrelation_id: de5ba1102c473\namount: \"555.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10501\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed due to an invalid merchant configuration.\n', 'This transaction cannot be processed due to an invalid merchant configuration.')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1279ms (View: 33, DB: 162) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 11:33:16) [GET]
  [4;35;1mBride Load (0.6ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (64.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 206ms (View: 86, DB: 66) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 11:33:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 190ms (View: 178, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 11:33:19) [GET]
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (59.2ms)
Completed in 158ms (View: 150, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 11:34:31) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"123", "card_type"=>"visa", "amount"=>"555.00", "card_number"=>"4809096053705631", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 18:34:31', 'visa', '2010-08-26 18:34:31', NULL, 555.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (84.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 18:34:32', '2010-08-26 18:34:32', 'submit_donation', 55500.0, NULL, 0, 15, '--- \ntimestamp: \"2010-08-26T18:34:32Z\"\ncorrelation_id: 447296ea5e847\namount: \"555.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10501\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed due to an invalid merchant configuration.\n', 'This transaction cannot be processed due to an invalid merchant configuration.')[0m
  [4;36;1mSQL (22.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1552ms (View: 36, DB: 113) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 13:45:09) [GET]
  [4;35;1mBride Load (0.8ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (26.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 180ms (View: 108, DB: 28) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 13:45:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 175ms (View: 163, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 13:45:13) [GET]
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (59.2ms)
Completed in 118ms (View: 109, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 13:45:51) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"99.00", "card_number"=>"4179594208683937", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 20:45:51', 'visa', '2010-08-26 20:45:51', NULL, 99.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (87.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (49.8ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 20:45:54', '2010-08-26 20:45:54', 'submit_donation', 9900.0, '5Y399661T3592761M', 1, 16, '--- \ntimestamp: \"2010-08-26T20:45:54Z\"\ncorrelation_id: d75f015911f6e\namount: \"99.00\"\namount_currency_id: USD\ntransaction_id: 5Y399661T3592761M\nbuild: \"1469275\"\nerror_codes: \"10751\"\nversion: \"59.0\"\navs_code: X\nack: SuccessWithWarning\nmessage: There\'s an error with this transaction. Please enter a valid state in the billing address.\ncvv2_code: M\n', 'There\'s an error with this transaction. Please enter a valid state in the billing address.')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 3118ms (View: 25, DB: 143) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 13:59:08) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (35.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 134ms (View: 9, DB: 36) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 13:59:10) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (2.0ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 25ms (View: 12, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:00:59) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (31.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 237ms (View: 192, DB: 33) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:01:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (8.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 125ms (View: 100, DB: 19) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:01:03) [GET]
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (42.2ms)
Completed in 64ms (View: 55, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 14:01:34) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"99.00", "card_number"=>"4776573891924680", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 21:01:34', 'visa', '2010-08-26 21:01:34', NULL, 99.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:01:39', '2010-08-26 21:01:39', 'submit_donation', 9900.0, '8CN35625KW605405E', 1, 17, '--- \ntimestamp: \"2010-08-26T21:01:39Z\"\ncorrelation_id: 793dd2a8efc28\namount: \"99.00\"\namount_currency_id: USD\ntransaction_id: 8CN35625KW605405E\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 5245ms (View: 6, DB: 8) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:05:26) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 36ms (View: 20, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:05:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 106ms (View: 94, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:05:29) [GET]
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.5ms)
Completed in 37ms (View: 29, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 14:05:46) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"99.00", "card_number"=>"4776573891924680", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 21:05:46', 'visa', '2010-08-26 21:05:46', NULL, 99.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (77.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:05:48', '2010-08-26 21:05:48', 'submit_donation', 9900.0, '6J25988173334323V', 1, 18, '--- \ntimestamp: \"2010-08-26T21:05:48Z\"\ncorrelation_id: 2b2aa4a696a4b\namount: \"99.00\"\namount_currency_id: USD\ntransaction_id: 6J25988173334323V\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (33.8ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 3305ms (View: 6, DB: 117) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:08:59) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 37ms (View: 21, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:09:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 106ms (View: 92, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:09:02) [GET]
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (18.1ms)
Completed in 38ms (View: 29, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 14:09:31) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Fo8hNTGeHE4dODgwSdghKgLaEk3fukQP9gZ/pwOWfVI=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123.12", "card_number"=>"4776573891924680", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 21:09:31', 'visa', '2010-08-26 21:09:31', NULL, 123.12, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:09:34', '2010-08-26 21:09:34', 'submit_donation', 12312.0, '30X854554M6272439', 1, 19, '--- \ntimestamp: \"2010-08-26T21:09:34Z\"\ncorrelation_id: fa424effd109c\namount: \"123.12\"\namount_currency_id: USD\ntransaction_id: 30X854554M6272439\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 3900ms (View: 6, DB: 7) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:21:02) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 169ms (View: 142, DB: 14) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:21:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 104ms (View: 93, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:21:05) [GET]
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.2ms)
Completed in 37ms (View: 28, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 14:21:29) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"55.00", "card_number"=>"4776573891924680", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 21:21:29', 'visa', '2010-08-26 21:21:29', NULL, 55.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (74.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:21:32', '2010-08-26 21:21:32', 'submit_donation', 5500.0, '5WH21935DB6808616', 1, 20, '--- \ncorrelation_id: b45bba7dd4841\ntimestamp: \"2010-08-26T21:21:32Z\"\namount: \"55.00\"\ntransaction_id: 5WH21935DB6808616\namount_currency_id: USD\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (26.3ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 4583ms (View: 6, DB: 106) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:23:04) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 42ms (View: 24, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:23:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (9.9ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 117ms (View: 95, DB: 15) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:23:07) [GET]
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.4ms)
Completed in 37ms (View: 28, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 14:23:29) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123.32", "card_number"=>"4776573891924680", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 21:23:29', 'visa', '2010-08-26 21:23:29', NULL, 123.32, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:23:32', '2010-08-26 21:23:32', 'submit_donation', 12332.0, '69F95928PH512894F', 1, 21, '--- \ntimestamp: \"2010-08-26T21:23:32Z\"\ncorrelation_id: e810610135086\namount: \"123.32\"\namount_currency_id: USD\ntransaction_id: 69F95928PH512894F\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:23:33', '2010-08-26 21:23:33', 'submit_donation', 12332.0, NULL, 0, 21, '--- \npayment_status: None\ntimestamp: \"2010-08-26T21:23:33Z\"\ncorrelation_id: a16e61f67118f\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10001\"\nversion: \"59.0\"\nack: Failure\nmessage: Internal Error\nreason_code: none\npayment_type: none\n', 'Internal Error')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 3802ms (View: 90, DB: 9) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 14:23:33) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123.32", "card_number"=>"4776573891924680", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 21:23:33', 'visa', '2010-08-26 21:23:33', NULL, 123.32, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:23:36', '2010-08-26 21:23:36', 'submit_donation', 12332.0, '7SP95927HP525764L', 1, 22, '--- \ntimestamp: \"2010-08-26T21:23:36Z\"\ncorrelation_id: 63a28f964f023\namount: \"123.32\"\namount_currency_id: USD\ntransaction_id: 7SP95927HP525764L\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:23:38', '2010-08-26 21:23:38', 'submit_donation', 12332.0, NULL, 0, 22, '--- \npayment_status: None\ntimestamp: \"2010-08-26T21:23:38Z\"\ncorrelation_id: 2807f256e5d72\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10001\"\nversion: \"59.0\"\nack: Failure\nmessage: Internal Error\nreason_code: none\npayment_type: none\n', 'Internal Error')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 4512ms (View: 1, DB: 9) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:26:47) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (13.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 77ms (View: 49, DB: 15) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:26:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 105ms (View: 93, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:26:50) [GET]
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.6ms)
Completed in 77ms (View: 68, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 14:27:15) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123.00", "card_number"=>"4776573891924680", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 21:27:15', 'visa', '2010-08-26 21:27:15', NULL, 123.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (73.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:27:19', '2010-08-26 21:27:19', 'submit_donation', 12300.0, '0RH28638HG8092054', 1, 23, '--- \ntimestamp: \"2010-08-26T21:27:19Z\"\ncorrelation_id: 9abffab746702\namount: \"123.00\"\namount_currency_id: USD\ntransaction_id: 0RH28638HG8092054\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:27:25', '2010-08-26 21:27:25', 'submit_donation', 12300.0, '00479278DT0546811', 1, 23, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ntimestamp: \"2010-08-26T21:27:25Z\"\ncorrelation_id: 4dd78d9d1d7b9\npending_reason: none\ntransaction_id: 00479278DT0546811\nbuild: \"1468257\"\ntransaction_type: web-accept\ntax_amount: \"0.00\"\nauthorization_id: 0RH28638HG8092054\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: 0864-3954-8902-0619\ngross_amount_currency_id: USD\nexchange_rate: \ngross_amount: \"123.00\"\nfee_amount: \"3.87\"\nparent_transaction_id: 0RH28638HG8092054\nack: Success\npayment_date: \"2010-08-26T21:27:23Z\"\nprotection_eligibility: Ineligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (24.7ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 9985ms (View: 28, DB: 106) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:28:08) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (8.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 25ms (View: 10, DB: 10) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:28:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 25ms (View: 12, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:28:12) [GET]
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.9ms)
Completed in 29ms (View: 20, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-26 14:28:31) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123.22", "card_number"=>"4776573891924680", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `updated_at`, `bride_id`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-26 21:28:31', 'visa', '2010-08-26 21:28:31', NULL, 123.22, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:28:34', '2010-08-26 21:28:34', 'submit_donation', 12322.0, '38V74272NX496932R', 1, 24, '--- \ntimestamp: \"2010-08-26T21:28:34Z\"\ncorrelation_id: 7ac6d3b4d761f\namount: \"123.22\"\namount_currency_id: USD\ntransaction_id: 38V74272NX496932R\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.5ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-26 21:28:38', '2010-08-26 21:28:38', 'submit_donation', 12322.0, '0GK31709VT123502R', 1, 24, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ntimestamp: \"2010-08-26T21:28:37Z\"\ncorrelation_id: 5838c82632fc3\npending_reason: none\ntransaction_id: 0GK31709VT123502R\nbuild: \"1468257\"\ntransaction_type: web-accept\ntax_amount: \"0.00\"\nauthorization_id: 38V74272NX496932R\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: 0196-4678-0912-0194\ngross_amount_currency_id: USD\nexchange_rate: \ngross_amount: \"123.22\"\nfee_amount: \"3.87\"\nparent_transaction_id: 38V74272NX496932R\nack: Success\npayment_date: \"2010-08-26T21:28:37Z\"\nprotection_eligibility: Ineligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 6640ms (View: 2, DB: 10) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:30:33) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 109ms (View: 101, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:30:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 23ms (View: 12, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:46:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Completed in 24ms (View: 12, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:46:42) [GET]
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (62.9ms)
Completed in 156ms (View: 65, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 14:51:24) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 36ms (View: 21, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:51:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Completed in 106ms (View: 95, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:51:28) [GET]
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.5ms)
Completed in 38ms (View: 29, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:55:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (1.1ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.1ms)
Completed in 35ms (View: 24, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:55:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.0ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.1ms)
Rendered gifts/_gift_listing (0.1ms)
Completed in 24ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:55:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.2ms)
Rendered gifts/_gift_listing (0.1ms)
Completed in 24ms (View: 12, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:55:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.7ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.0ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.1ms)
Rendered gifts/_gift_listing (0.1ms)
Completed in 24ms (View: 12, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:56:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.7ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.0ms)
Rendered gifts/_gift_listing (0.2ms)
Completed in 34ms (View: 23, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 14:57:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.7ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.5ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 111ms (View: 100, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 14:57:24) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.8ms)
Completed in 24ms (View: 16, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 15:00:35) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.1ms)
Completed in 28ms (View: 18, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 15:00:39) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.5ms)
Completed in 24ms (View: 13, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 15:02:23) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 65ms (View: 58, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 15:02:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 107ms (View: 97, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 15:02:26) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (71.4ms)
Completed in 84ms (View: 73, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:02:29) [GET]
  [4;35;1mDonation Load (23.1ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 124ms (View: 93, DB: 25) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:32) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (99.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 1[0m
  [4;36;1mSQL (19.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 131ms (DB: 122) | 302 Found [http://localhost/donations/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:32) [GET]
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 164ms (View: 68, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:34) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"2"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.8ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 2[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 5) | 302 Found [http://localhost/donations/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:34) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (25.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 97ms (View: 65, DB: 26) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:35) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"3"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (18.6ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 3[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 110ms (DB: 23) | 302 Found [http://localhost/donations/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:35) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (5.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 75ms (View: 63, DB: 6) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:36) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"4"}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 4[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 15ms (DB: 4) | 302 Found [http://localhost/donations/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:36) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (6.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 69ms (View: 57, DB: 7) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:37) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"5"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 4) | 302 Found [http://localhost/donations/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:37) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 66ms (View: 58, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:42) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"6"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.3ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 6[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 4) | 302 Found [http://localhost/donations/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:42) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 142ms (View: 132, DB: 4) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:43) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"7"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 7[0m
  [4;36;1mSQL (21.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 33ms (DB: 25) | 302 Found [http://localhost/donations/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:43) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 62ms (View: 54, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:44) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"8"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 8) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 8[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 11ms (DB: 4) | 302 Found [http://localhost/donations/8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:44) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 136ms (View: 129, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:44) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"9"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.2ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 9) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.4ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 9[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 16ms (DB: 7) | 302 Found [http://localhost/donations/9]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:44) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 58ms (View: 50, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:45) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"10"}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 10[0m
  [4;35;1mSQL (18.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 29ms (DB: 21) | 302 Found [http://localhost/donations/10]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:45) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 54ms (View: 46, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:46) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"11"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 11[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 4) | 302 Found [http://localhost/donations/11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:46) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 51ms (View: 43, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:47) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"12"}
  [4;35;1mDonation Columns (4.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.8ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 12) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 12[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 15ms (DB: 7) | 302 Found [http://localhost/donations/12]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:47) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 48ms (View: 41, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:50) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"13"}
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 13) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 13[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 4) | 302 Found [http://localhost/donations/13]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:50) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 44ms (View: 36, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:52) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"14"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 14[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 5) | 302 Found [http://localhost/donations/14]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:52) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 44ms (View: 36, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:53) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"15"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.9ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 15[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 5) | 302 Found [http://localhost/donations/15]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:54) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 39ms (View: 30, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:55) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"16"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.1ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 16[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 14ms (DB: 5) | 302 Found [http://localhost/donations/16]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:55) [GET]
  [4;35;1mDonation Load (12.3ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 49ms (View: 27, DB: 14) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:57) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"17"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 17) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 17[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 15ms (DB: 4) | 302 Found [http://localhost/donations/17]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:57) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 113ms (View: 106, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:58) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"18"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 18) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 18[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 4) | 302 Found [http://localhost/donations/18]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:58) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 34ms (View: 26, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:03:59) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"19"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 19) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 19[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 4) | 302 Found [http://localhost/donations/19]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:03:59) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 28ms (View: 20, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:04:00) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"20"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 20) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.3ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 20[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 92ms (DB: 4) | 302 Found [http://localhost/donations/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:04:00) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 26ms (View: 18, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:04:01) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"21"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (2.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 21[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 14ms (DB: 6) | 302 Found [http://localhost/donations/21]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:04:01) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 27ms (View: 18, DB: 4) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:04:02) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"22"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 22) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.3ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 22[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 4) | 302 Found [http://localhost/donations/22]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:04:02) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 22ms (View: 14, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:04:03) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"23"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 23) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (78.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 23[0m
  [4;36;1mSQL (18.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 108ms (DB: 99) | 302 Found [http://localhost/donations/23]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:04:03) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 20ms (View: 10, DB: 5) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-26 15:04:04) [DELETE]
  Parameters: {"authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"24"}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 24) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 24[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 5) | 302 Found [http://localhost/donations/24]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-26 15:04:04) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
Completed in 8ms (View: 2, DB: 1) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 15:05:43) [GET]
  [4;35;1mBride Load (0.0ms)[0m   [0mMysql::Error: Table 'ptn_db.brides' doesn't exist: SELECT * FROM `brides` [0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'ptn_db.brides' doesn't exist: SELECT * FROM `brides` ):
  app/controllers/brides_controller.rb:3:in `index'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (40.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (176.7ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (546.8ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (157.7ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (112.5ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (106.4ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `amount` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (106.5ms)[0m   [0mCREATE TABLE `donation_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `donation_id` int(11), `action` varchar(255), `amount` float, `success` tinyint(1), `authorization` varchar(255), `message` varchar(255), `params` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825203335')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (2.2ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (2.7ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mdescribe `donation_transactions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `donation_transactions`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mdescribe `donations`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `donations`[0m
  [4;35;1mSQL (2.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 15:06:15) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 28ms (View: 15, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-26 15:06:16) [GET]
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (51.3ms)
Completed in 179ms (View: 161, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-26 15:07:10) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "bride"=>{"name"=>"Jenny", "wedding_day(1i)"=>"2011", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"26", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"200.00", "name"=>"bag", "total_donations"=>"0"}, "1"=>{"price"=>"400.00", "name"=>"hat", "total_donations"=>"0"}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jenny', '2010-08-26 22:07:10', '2010-08-26 22:07:10', '2011-08-26')[0m
  [4;36;1mGift Create (0.2ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('bag', 200.0, '2010-08-26 22:07:10', '2010-08-26 22:07:10', 1, 0.0)[0m
  [4;35;1mGift Create (0.1ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('hat', 400.0, '2010-08-26 22:07:10', '2010-08-26 22:07:10', 1, 0.0)[0m
  [4;36;1mSQL (68.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 94ms (DB: 73) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 15:07:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.6ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.3ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 40ms (View: 30, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 15:07:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (83.3ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 114ms (View: 102, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 15:07:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 29ms (View: 18, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 15:07:51) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActiveRecord::UnknownAttributeError (unknown attribute: gift_id):
  app/controllers/donations_controller.rb:11:in `new'
  app/controllers/donations_controller.rb:11:in `new'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.1ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 15:08:45) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActiveRecord::UnknownAttributeError (unknown attribute: gift_id):
  app/controllers/donations_controller.rb:11:in `new'
  app/controllers/donations_controller.rb:11:in `new'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (48.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 15:08:48) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActiveRecord::UnknownAttributeError (unknown attribute: gift_id):
  app/controllers/donations_controller.rb:11:in `new'
  app/controllers/donations_controller.rb:11:in `new'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
Migrating to CreateBrides (20100824213338)
Migrating to CreateDonations (20100825185248)
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (2.5ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mdescribe `donation_transactions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `donation_transactions`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mdescribe `donations`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW KEYS FROM `donations`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (70.3ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (266.7ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (90.4ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (117.9ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (117.7ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gift_id` int(11), `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `amount` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (117.7ms)[0m   [0mCREATE TABLE `donation_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `donation_id` int(11), `action` varchar(255), `amount` float, `success` tinyint(1), `authorization` varchar(255), `message` varchar(255), `params` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825203335')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (1.9ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mdescribe `donation_transactions`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW KEYS FROM `donation_transactions`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mdescribe `donations`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW KEYS FROM `donations`[0m
  [4;35;1mSQL (2.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-26 15:10:11) [GET]
  [4;35;1mBride Load (1.6ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 31ms (View: 16, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-26 15:10:12) [GET]
  [4;35;1mBride Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (21.6ms)
Completed in 138ms (View: 120, DB: 5) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-26 15:10:16) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "bride"=>{"name"=>"Jenny", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"26", "wedding_day(4i)"=>"22", "gifts_attributes"=>{"0"=>{"price"=>"", "name"=>"", "total_donations"=>""}, "1"=>{"price"=>"", "name"=>"", "total_donations"=>""}}, "wedding_day(5i)"=>"10"}}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jenny', '2010-08-26 22:10:16', '2010-08-26 22:10:16', '2010-08-26')[0m
  [4;36;1mGift Create (0.3ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('', NULL, '2010-08-26 22:10:16', '2010-08-26 22:10:16', 1, NULL)[0m
  [4;35;1mGift Create (0.2ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('', NULL, '2010-08-26 22:10:16', '2010-08-26 22:10:16', 1, NULL)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 27ms (DB: 6) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 15:10:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (3.1ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.3ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 40ms (View: 27, DB: 7) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-08-26 15:10:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_form (115.1ms)
Completed in 159ms (View: 147, DB: 6) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-08-26 15:10:41) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"B3tKIAwkon8oAbbAM2zV5zXTVAsxsDU4LXDmZhob7p8=", "id"=>"1", "bride"=>{"name"=>"Jenny", "wedding_day(1i)"=>"2012", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"26", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"400.00", "name"=>"phone", "id"=>"1", "total_donations"=>"0"}, "1"=>{"price"=>"300.00", "name"=>"sunglasses", "id"=>"2", "total_donations"=>"0"}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('1','2')) AND (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Update (72.9ms)[0m   [0mUPDATE `brides` SET `updated_at` = '2010-08-26 22:10:41', `wedding_day` = '2012-08-26' WHERE `id` = 1[0m
  [4;36;1mGift Update (0.5ms)[0m   [0;1mUPDATE `gifts` SET `updated_at` = '2010-08-26 22:10:41', `name` = 'phone', `price` = 400.0, `total_donations` = 0.0 WHERE `id` = 1[0m
  [4;35;1mGift Update (0.4ms)[0m   [0mUPDATE `gifts` SET `updated_at` = '2010-08-26 22:10:41', `name` = 'sunglasses', `price` = 300.0, `total_donations` = 0.0 WHERE `id` = 2[0m
  [4;36;1mSQL (16.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 120ms (DB: 96) | 302 Found [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-26 15:10:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (3.0ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 29ms (View: 16, DB: 8) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-26 15:10:43) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.5ms)
Completed in 34ms (View: 23, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (138.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 11:07:24) [GET]
  [4;35;1mBride Load (596.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (319.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 1494ms (View: 462, DB: 1055) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 11:07:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (22.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (33.6ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (49.1ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (2.9ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 297ms (View: 177, DB: 107) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 11:08:57) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (126.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (71.2ms)
Completed in 341ms (View: 143, DB: 127) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-08-30 11:17:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (35.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (15.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_form (109.8ms)
Completed in 210ms (View: 152, DB: 52) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-08-30 11:17:36) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "id"=>"1", "bride"=>{"name"=>"Jenny", "wedding_day(1i)"=>"2012", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"26", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"400", "name"=>"phone", "id"=>"1", "total_donations"=>"0"}, "1"=>{"price"=>"300", "name"=>"sunglasses", "id"=>"2", "total_donations"=>"10"}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.9ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;36;1mGift Load (244.0ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('1','2')) AND (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (44.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Update (200.3ms)[0m   [0mUPDATE `gifts` SET `updated_at` = '2010-08-30 18:17:36', `total_donations` = 10.0 WHERE `id` = 2[0m
  [4;36;1mSQL (44.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 659ms (DB: 538) | 302 Found [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 11:17:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.6ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.3ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 41ms (View: 22, DB: 13) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 11:17:41) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 7, DB: 2) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 11:17:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 11:19:12) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (20.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.9ms)
Completed in 113ms (View: 68, DB: 21) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 11:28:39) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (32.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (50.4ms)

ActionView::TemplateError (undefined local variable or method `express_new_order_path' for #<ActionView::Base:0x103676890>) on line #5 of app/views/donations/new.html.erb:
2: 
3: <%= render :partial => 'form' %>
4: 
5: <%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), express_new_order_path %>
6: 
7: <p><%= link_to "Back to List", donations_path %></p>

    app/views/donations/new.html.erb:5
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.9ms)
Rendered rescues/_request_and_response (16.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 11:28:56) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (99.7ms)
Completed in 117ms (View: 107, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:29:00) [GET]

NoMethodError (undefined method `amount' for nil:NilClass):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:29:08) [GET]

NoMethodError (undefined method `amount' for nil:NilClass):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:29:17) [GET]

NoMethodError (undefined method `amount' for nil:NilClass):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:31:37) [GET]

NameError (undefined local variable or method `amount' for #<DonationsController:0x1032fd150>):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:33:59) [GET]

NameError (undefined local variable or method `this' for #<DonationsController:0x103052518>):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:34:12) [GET]

NoMethodError (undefined method `amount' for nil:NilClass):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (48.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:44:24) [GET]

NoMethodError (undefined method `price_in_cents' for nil:NilClass):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (373.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:44:34) [GET]

NameError (undefined local variable or method `price_in_cents' for #<DonationsController:0x103424f88>):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (93.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:44:34) [GET]

NameError (undefined local variable or method `price_in_cents' for #<DonationsController:0x103119140>):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (134.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:44:36) [GET]

NameError (undefined local variable or method `price_in_cents' for #<DonationsController:0x1034acc30>):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:47:44) [GET]

NameError (undefined local variable or method `this' for #<DonationsController:0x10315d318>):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (134.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:49:53) [GET]

NameError (undefined local variable or method `new_order_url' for #<DonationsController:0x10355d828>):
  app/controllers/donations_controller.rb:12:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 11:50:12) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7T997204VL708752Y
Completed in 1570ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 11:59:18) [GET]
  Parameters: {"token"=>"EC-7T997204VL708752Y", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;36;1mDonation Columns (50.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (125.3ms)
Completed in 238ms (View: 160, DB: 50) | 200 OK [http://localhost/donations/new?token=EC-7T997204VL708752Y&PayerID=PRXZ9RLUV4G84]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:26:08) [GET]
  Parameters: {"token"=>"EC-7T997204VL708752Y", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;36;1mDonation Columns (94.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m

ActiveRecord::UnknownAttributeError (unknown attribute: express_token):
  app/controllers/donations_controller.rb:17:in `new'
  app/controllers/donations_controller.rb:17:in `new'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (44.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (266.5ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (457.3ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (88.2ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (20.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (188.8ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (154.8ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gift_id` int(11), `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `amount` float, `express_token` varchar(255), `express_payer_id` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (150.0ms)[0m   [0mCREATE TABLE `donation_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `donation_id` int(11), `action` varchar(255), `amount` float, `success` tinyint(1), `authorization` varchar(255), `message` varchar(255), `params` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825203335')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (21.7ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mdescribe `donation_transactions`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `donation_transactions`[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (2.3ms)[0m   [0mdescribe `donations`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW KEYS FROM `donations`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 12:28:05) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 143ms (View: 78, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-30 12:28:07) [GET]
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (62.5ms)
Completed in 245ms (View: 177, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-30 12:28:40) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "bride"=>{"name"=>"Jill", "wedding_day(1i)"=>"2012", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"30", "wedding_day(4i)"=>"19", "gifts_attributes"=>{"0"=>{"price"=>"500.00", "name"=>"phone", "total_donations"=>"0"}, "1"=>{"price"=>"800.00", "name"=>"camera", "total_donations"=>"0"}}, "wedding_day(5i)"=>"28"}}
  [4;36;1mBride Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Jill', '2010-08-30 19:28:40', '2010-08-30 19:28:40', '2012-08-30')[0m
  [4;36;1mGift Create (0.2ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('phone', 500.0, '2010-08-30 19:28:40', '2010-08-30 19:28:40', 1, 0.0)[0m
  [4;35;1mGift Create (0.1ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('camera', 800.0, '2010-08-30 19:28:40', '2010-08-30 19:28:40', 1, 0.0)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 28ms (DB: 6) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 12:28:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (8.4ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 64ms (View: 54, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:28:44) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (98.3ms)
Completed in 134ms (View: 124, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 12:28:47) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5V071551L26267104
Completed in 662ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:29:19) [GET]
  Parameters: {"token"=>"EC-5V071551L26267104", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (6.0ms)
Completed in 18ms (View: 9, DB: 2) | 200 OK [http://localhost/donations/new?token=EC-5V071551L26267104&PayerID=PRXZ9RLUV4G84]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 12:29:28) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "donation"=>{"gift_id"=>"", "amount"=>"50.00"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `month' for nil:NilClass):
  app/models/donation.rb:57:in `credit_card'
  app/models/donation.rb:45:in `validate_card'
  app/controllers/donations_controller.rb:23:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (154.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:40:34) [GET]
  Parameters: {"token"=>"EC-5V071551L26267104", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;36;1mDonation Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:39: syntax error, unexpected tCONSTANT, expecting kDO or '{' or '('
...(( f.submit, Complete Donation ).to_s); @output_buffer.conca...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\t"
;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t"

;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat "\n\t  <p>\n\t    "

; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t  </p>\n\t  <p>\n\t    "


; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit, Complete Donation ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:44:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:39: syntax error, unexpected tCONSTANT, expecting kDO or '{' or '('
...(( f.submit, Complete Donation ).to_s); @output_buffer.conca...
                              ^) on line #39 of app/views/donations/_form.html.erb:
36: 	  </p>
37: 	<% end %>
38: 
39:   <p><%= f.submit, Complete Donation %></p>
40: <% end %>

    app/views/donations/_form.html.erb:44:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (65.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 12:40:46) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (7.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 116ms (View: 103, DB: 8) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 12:40:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.1ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:40:48) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:39: syntax error, unexpected tCONSTANT, expecting kDO or '{' or '('
...(( f.submit, Complete Donation ).to_s); @output_buffer.conca...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\t"
;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t"

;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat "\n\t  <p>\n\t    "

; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t  </p>\n\t  <p>\n\t    "


; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit, Complete Donation ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:44:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:39: syntax error, unexpected tCONSTANT, expecting kDO or '{' or '('
...(( f.submit, Complete Donation ).to_s); @output_buffer.conca...
                              ^) on line #39 of app/views/donations/_form.html.erb:
36: 	  </p>
37: 	<% end %>
38: 
39:   <p><%= f.submit, Complete Donation %></p>
40: <% end %>

    app/views/donations/_form.html.erb:44:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:41:09) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (25.3ms)
Completed in 62ms (View: 32, DB: 18) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 12:41:13) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3KD29067LB746291X
Completed in 775ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:41:40) [GET]
  Parameters: {"token"=>"EC-3KD29067LB746291X", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.2ms)
Completed in 20ms (View: 10, DB: 2) | 200 OK [http://localhost/donations/new?token=EC-3KD29067LB746291X&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:42:03) [GET]
  Parameters: {"token"=>"EC-3KD29067LB746291X", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.6ms)
Completed in 24ms (View: 13, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-3KD29067LB746291X&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:42:36) [GET]
  Parameters: {"token"=>"EC-3KD29067LB746291X", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (6.2ms)
Completed in 19ms (View: 8, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-3KD29067LB746291X&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:43:30) [GET]
  Parameters: {"token"=>"EC-3KD29067LB746291X", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (26.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.0ms)
Completed in 75ms (View: 39, DB: 26) | 200 OK [http://localhost/donations/new?token=EC-3KD29067LB746291X&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:43:41) [GET]
  Parameters: {"token"=>"EC-3KD29067LB746291X", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (6.7ms)
Completed in 23ms (View: 12, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-3KD29067LB746291X&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:46:10) [GET]
  Parameters: {"token"=>"EC-3KD29067LB746291X", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (39.7ms)
Completed in 868ms (View: 45, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-3KD29067LB746291X&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:51:35) [GET]
  Parameters: {"token"=>"EC-3KD29067LB746291X", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.4ms)
Completed in 907ms (View: 8, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-3KD29067LB746291X&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 12:51:38) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-3KD29067LB746291X", "amount"=>""}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-30 19:51:39', NULL, 'PRXZ9RLUV4G84', 'EC-3KD29067LB746291X', '2010-08-30 19:51:39', NULL, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (80.7ms)[0m   [0;1mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:28:in `price_in_cents'
  app/models/donation.rb:47:in `process_donation'
  app/models/donation.rb:16:in `submit_donation'
  app/controllers/donations_controller.rb:24:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (135.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 12:57:17) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (27.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 71ms (View: 37, DB: 28) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 12:57:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.8ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:57:20) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (38.5ms)
Completed in 91ms (View: 80, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:59:11) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (30.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.2ms)
Completed in 62ms (View: 22, DB: 31) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 12:59:13) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4RC53962W69043325
Completed in 718ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 12:59:43) [GET]
  Parameters: {"token"=>"EC-4RC53962W69043325", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (32.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.6ms)
Completed in 899ms (View: 8, DB: 32) | 200 OK [http://localhost/donations/new?token=EC-4RC53962W69043325&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 12:59:51) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-4RC53962W69043325", "amount"=>"70.00"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-30 19:59:52', NULL, 'PRXZ9RLUV4G84', 'EC-4RC53962W69043325', '2010-08-30 19:59:52', 70.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 19:59:56', '2010-08-30 19:59:56', 'submit_donation', 7000.0, '5K657554KR986552X', 1, 2, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: ddcc6341ce1dc\ntimestamp: \"2010-08-30T19:59:55Z\"\npending_reason: none\ntoken: EC-4RC53962W69043325\ntransaction_id: 5K657554KR986552X\nbuild: \"1468257\"\nfee_amount_currency_id: USD\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"2.33\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"70.00\"\nack: Success\npayment_date: \"2010-08-30T19:59:54Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 19:59:56', '2010-08-30 19:59:56', 'submit_donation', 7000.0, NULL, 0, 2, '--- \npayment_status: None\ncorrelation_id: ab99dfd0a50dc\ntimestamp: \"2010-08-30T19:59:56Z\"\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10609\"\nversion: \"59.0\"\nack: Failure\nmessage: Transaction id is invalid.\npayment_type: none\nreason_code: none\n', 'Transaction id is invalid.')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 5448ms (View: 39, DB: 67) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 13:03:45) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-4RC53962W69043325", "amount"=>"70.00"}}
  [4;35;1mDonation Columns (51.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-30 20:03:45', NULL, 'PRXZ9RLUV4G84', 'EC-4RC53962W69043325', '2010-08-30 20:03:45', 70.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (260.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 20:03:47', '2010-08-30 20:03:47', 'submit_donation', 7000.0, NULL, 0, 3, '--- \ndo_express_checkout_payment_response_details: \ncorrelation_id: f5d78436acb04\ntimestamp: \"2010-08-30T20:03:46Z\"\nbuild: \"1468257\"\nerror_codes: \"10415\"\nversion: \"59.0\"\nack: Failure\nmessage: A successful transaction has already been completed for this token.\n', 'A successful transaction has already been completed for this token.')[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1961ms (View: 73, DB: 317) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 13:04:23) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (17.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 226ms (View: 88, DB: 18) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 13:04:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (20.4ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 176ms (View: 164, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 13:04:37) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (39.7ms)
Completed in 63ms (View: 51, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 13:04:38) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-80X21700HB6647916
Completed in 888ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 13:05:02) [GET]
  Parameters: {"token"=>"EC-80X21700HB6647916", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (96.5ms)
Completed in 983ms (View: 100, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-80X21700HB6647916&PayerID=PRXZ9RLUV4G84]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 13:05:08) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-80X21700HB6647916", "amount"=>"70.00"}}
  [4;36;1mDonation Columns (48.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-30 20:05:09', NULL, 'PRXZ9RLUV4G84', 'EC-80X21700HB6647916', '2010-08-30 20:05:09', 70.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;35;1mSQL (42.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (19.8ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 20:05:13', '2010-08-30 20:05:13', 'submit_donation', 7000.0, '9VW5230428874552B', 1, 4, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: a57fb47049edd\ntimestamp: \"2010-08-30T20:05:12Z\"\ntoken: EC-80X21700HB6647916\npending_reason: none\ntransaction_id: 9VW5230428874552B\nbuild: \"1468257\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"2.33\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"70.00\"\npayment_date: \"2010-08-30T20:05:12Z\"\nprotection_eligibility: Eligible\nack: Success\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 20:05:13', '2010-08-30 20:05:13', 'submit_donation', 7000.0, NULL, 0, 4, '--- \npayment_status: None\ncorrelation_id: 13cc5c7a937f7\ntimestamp: \"2010-08-30T20:05:13Z\"\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10609\"\nversion: \"59.0\"\nack: Failure\nmessage: Transaction id is invalid.\npayment_type: none\nreason_code: none\n', 'Transaction id is invalid.')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 4937ms (View: 35, DB: 117) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 13:21:32) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (22.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 218ms (View: 46, DB: 23) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 13:21:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (2.0ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (17.0ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (26.4ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 211ms (View: 183, DB: 21) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-08-30 13:21:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (6.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (1.0ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (6.1ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_form (78.9ms)
Completed in 139ms (View: 118, DB: 15) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 13:21:43) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 7, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-30 13:21:44) [GET]
  [4;35;1mBride Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (154.3ms)
Completed in 195ms (View: 182, DB: 3) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 13:21:52) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 15ms (View: 7, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 13:21:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.7ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 13:21:56) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.7ms)
Completed in 74ms (View: 63, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 13:26:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (44.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.6ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (15.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (22.2ms)
Rendered gifts/_gift_listing (0.9ms)
Completed in 223ms (View: 155, DB: 62) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 13:26:29) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-2G521604JK226735A
Completed in 1902ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 13:27:30) [GET]
  Parameters: {"token"=>"EC-2G521604JK226735A", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;36;1mDonation Columns (44.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (41.0ms)
Completed in 923ms (View: 87, DB: 45) | 200 OK [http://localhost/donations/new?token=EC-2G521604JK226735A&PayerID=PRXZ9RLUV4G84]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 13:27:37) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-2G521604JK226735A", "amount"=>"70.00"}}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-30 20:27:38', NULL, 'PRXZ9RLUV4G84', 'EC-2G521604JK226735A', '2010-08-30 20:27:38', 70.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;35;1mSQL (44.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 20:27:41', '2010-08-30 20:27:41', 'submit_donation', 7000.0, '05G542778Y160882C', 1, 5, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: ec9f87dbea3a\ntimestamp: \"2010-08-30T20:27:41Z\"\npending_reason: none\ntoken: EC-2G521604JK226735A\ntransaction_id: 05G542778Y160882C\nbuild: \"1468257\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"2.33\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"70.00\"\nack: Success\npayment_date: \"2010-08-30T20:27:40Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (35.6ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 20:27:42', '2010-08-30 20:27:42', 'submit_donation', 7000.0, NULL, 0, 5, '--- \npayment_status: None\ncorrelation_id: c51146087658c\ntimestamp: \"2010-08-30T20:27:42Z\"\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10609\"\nversion: \"59.0\"\nack: Failure\nmessage: Transaction id is invalid.\npayment_type: none\nreason_code: none\n', 'Transaction id is invalid.')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 5256ms (View: 39, DB: 88) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-30 13:30:10) [GET]
  Parameters: {"id"=>"index"}
  [4;36;1mDonation Columns (37.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (27.9ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Donation with ID=index):
  app/controllers/donations_controller.rb:7:in `show'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (48.1ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-30 13:30:16) [GET]
  [4;35;1mDonation Load (9.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m

ActionView::TemplateError (undefined method `bride_id' for #<Donation:0x10363d2e8>) on line #14 of app/views/donations/index.html.erb:
11:   </tr>
12:   <% for donation in @donations %>
13:     <tr>
14:       <td><%=h donation.bride_id %></td>
15:       <td><%=h donation.ip_address %></td>
16:       <td><%=h donation.first_name %></td>
17:       <td><%=h donation.last_name %></td>

    app/views/donations/index.html.erb:14
    app/views/donations/index.html.erb:12:in `each'
    app/views/donations/index.html.erb:12
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (57.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-30 13:30:19) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActionView::TemplateError (undefined method `bride_id' for #<Donation:0x1030c3b50>) on line #14 of app/views/donations/index.html.erb:
11:   </tr>
12:   <% for donation in @donations %>
13:     <tr>
14:       <td><%=h donation.bride_id %></td>
15:       <td><%=h donation.ip_address %></td>
16:       <td><%=h donation.first_name %></td>
17:       <td><%=h donation.last_name %></td>

    app/views/donations/index.html.erb:14
    app/views/donations/index.html.erb:12:in `each'
    app/views/donations/index.html.erb:12
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (145.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-30 13:31:04) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (80.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 111ms (View: 25, DB: 81) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-30 13:31:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
Rendering template within layouts/application
Rendering donations/show

ActionView::TemplateError (undefined method `bride_id' for #<Donation:0x10311f388>) on line #5 of app/views/donations/show.html.erb:
2: 
3: <p>
4:   <strong>Bride:</strong>
5:   <%=h @donation.bride_id %>
6: </p>
7: <p>
8:   <strong>Ip Address:</strong>

    app/views/donations/show.html.erb:5
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (147.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-30 13:31:23) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 27ms (View: 18, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-30 13:31:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 21ms (View: 12, DB: 3) | 200 OK [http://localhost/donations/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-30 13:31:32) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 27ms (View: 19, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 13:32:58) [GET]
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 57ms (View: 49, DB: 2) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 13:32:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.1ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 26ms (View: 15, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 13:38:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (45.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.5ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 86ms (View: 31, DB: 48) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 13:38:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.9ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.8ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 13:51:40) [GET]
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (82.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 212ms (View: 39, DB: 83) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 13:51:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (11.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (3.1ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (13.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (2.0ms)
Rendered gifts/_gift_listing (1.0ms)
Completed in 56ms (View: 22, DB: 29) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 13:51:44) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-30W380026E7714742
Completed in 642ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 13:52:13) [GET]
  Parameters: {"token"=>"EC-30W380026E7714742", "PayerID"=>"PRXZ9RLUV4G84"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (61.9ms)
Completed in 887ms (View: 108, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-30W380026E7714742&PayerID=PRXZ9RLUV4G84]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 13:52:21) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"WJivRc5JmuBtsTxPmhWegeTUP5BO5N+vYXQhT58oVDY=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-30W380026E7714742", "amount"=>"1000.00"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-30 20:52:21', NULL, 'PRXZ9RLUV4G84', 'EC-30W380026E7714742', '2010-08-30 20:52:21', 1000.0, 'Hernandez', '127.0.0.1', 'Freddy')[0m
  [4;36;1mSQL (53.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (1.2ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 20:52:25', '2010-08-30 20:52:25', 'submit_donation', 100000.0, '53157763CG559651T', 1, 6, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: 7b7026127dd9e\ntimestamp: \"2010-08-30T20:52:25Z\"\npending_reason: none\ntoken: EC-30W380026E7714742\ntransaction_id: 53157763CG559651T\nbuild: \"1468257\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"29.30\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"1000.00\"\nack: Success\npayment_date: \"2010-08-30T20:52:24Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 20:52:26', '2010-08-30 20:52:26', 'submit_donation', 100000.0, NULL, 0, 6, '--- \npayment_status: None\ncorrelation_id: b5a6b72c52f13\ntimestamp: \"2010-08-30T20:52:26Z\"\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10609\"\nversion: \"59.0\"\nack: Failure\nmessage: Transaction id is invalid.\npayment_type: none\nreason_code: none\n', 'Transaction id is invalid.')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 5390ms (View: 1, DB: 63) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 13:57:36) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (142.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 1233ms (View: 1084, DB: 143) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 14:03:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (45.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.1ms)
Rendered gifts/_gift_listing (0.8ms)
Completed in 329ms (View: 63, DB: 49) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 14:05:20) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-71N985126F630053R
Completed in 723ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 14:05:44) [GET]
  Parameters: {"token"=>"EC-71N985126F630053R", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (52.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (52.9ms)
Completed in 1049ms (View: 106, DB: 53) | 200 OK [http://localhost/donations/new?token=EC-71N985126F630053R&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 14:05:50) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-71N985126F630053R", "amount"=>"55.00"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-30 21:05:51', NULL, '2FX3NYJ7J7SM6', 'EC-71N985126F630053R', '2010-08-30 21:05:51', 55.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (61.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 21:05:54', '2010-08-30 21:05:54', 'submit_donation', 5500.0, '6S786780AD307154R', 1, 7, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: 84eb41784f2cd\ntimestamp: \"2010-08-30T21:05:54Z\"\npending_reason: none\ntoken: EC-71N985126F630053R\ntransaction_id: 6S786780AD307154R\nbuild: \"1468257\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"1.90\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"55.00\"\nack: Success\npayment_date: \"2010-08-30T21:05:54Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 21:05:55', '2010-08-30 21:05:55', 'submit_donation', 5500.0, NULL, 0, 7, '--- \npayment_status: None\ncorrelation_id: b23897a19073c\ntimestamp: \"2010-08-30T21:05:55Z\"\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10609\"\nversion: \"59.0\"\nack: Failure\nmessage: Transaction id is invalid.\npayment_type: none\nreason_code: none\n', 'Transaction id is invalid.')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 5202ms (View: 2, DB: 70) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-30 14:18:54) [GET]
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (27.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 71ms (View: 37, DB: 28) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 14:18:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.0ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 26ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 14:19:05) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9D181526690325708
Completed in 759ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 14:19:28) [GET]
  Parameters: {"token"=>"EC-9D181526690325708", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (33.0ms)
Completed in 935ms (View: 68, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-9D181526690325708&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-30 14:19:36) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-9D181526690325708", "amount"=>"55.00"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-30 21:19:36', NULL, '2FX3NYJ7J7SM6', 'EC-9D181526690325708', '2010-08-30 21:19:36', 55.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (49.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 21:19:40', '2010-08-30 21:19:40', 'submit_donation', 5500.0, '4JW38546EF308672X', 1, 8, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: 2651ae51604ca\ntimestamp: \"2010-08-30T21:19:39Z\"\npending_reason: none\ntoken: EC-9D181526690325708\ntransaction_id: 4JW38546EF308672X\nbuild: \"1468257\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"1.90\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"55.00\"\nack: Success\npayment_date: \"2010-08-30T21:19:39Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (21.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-30 21:19:40', '2010-08-30 21:19:40', 'submit_donation', 5500.0, NULL, 0, 8, '--- \npayment_status: None\ncorrelation_id: 41eed047b6129\ntimestamp: \"2010-08-30T21:19:40Z\"\npending_reason: none\nbuild: \"1468257\"\ntransaction_type: none\nerror_codes: \"10609\"\nversion: \"59.0\"\nack: Failure\nmessage: Transaction id is invalid.\npayment_type: none\nreason_code: none\n', 'Transaction id is invalid.')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 4874ms (View: 2, DB: 80) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 14:20:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.8ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.0ms)
Rendered gifts/_gift_listing (0.8ms)
Completed in 26ms (View: 15, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 14:28:43) [GET]

ActiveRecord::RecordNotFound (Couldn't find Donation without an ID):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-30 14:28:50) [GET]

ActiveRecord::RecordNotFound (Couldn't find Donation without an ID):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 14:31:36) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.3ms)
Completed in 24ms (View: 14, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 14:31:43) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (10.7ms)
Completed in 23ms (View: 13, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 14:32:28) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.9ms)
Completed in 111ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-30 14:33:13) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.5ms)
Completed in 24ms (View: 13, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-30 14:39:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (3.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.3ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 36ms (View: 19, DB: 8) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 10:16:12) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (46.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (152.6ms)
Completed in 325ms (View: 248, DB: 47) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 10:30:20) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.4ms)
Completed in 210ms (View: 198, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 10:32:09) [GET]
  [4;35;1mBride Load (20.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 173ms (View: 75, DB: 23) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 10:32:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (20.5ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 188ms (View: 177, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 10:32:14) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (31.3ms)
Completed in 86ms (View: 75, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 10:33:02) [POST]
  Parameters: {"commit"=>"Complete Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"50", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>""}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.7ms)
Completed in 29ms (View: 16, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 10:33:05) [GET]

ActiveRecord::RecordNotFound (Couldn't find Donation without an ID):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (133.7ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 10:42:30) [GET]

ActiveRecord::RecordNotFound (Couldn't find Donation without an ID):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 10:43:16) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-89D121339E092151M
Completed in 4177ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 10:50:10) [GET]
  [4;36;1mBride Load (0.7ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (37.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 1008ms (View: 811, DB: 39) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 10:50:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.0ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 76ms (View: 65, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 10:50:15) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (40.7ms)
Completed in 114ms (View: 102, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 10:51:23) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9B92347318089322F
Completed in 2486ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 10:52:08) [GET]
  Parameters: {"token"=>"EC-9B92347318089322F", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (43.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (6.7ms)
Completed in 2292ms (View: 39, DB: 43) | 200 OK [http://localhost/donations/new?token=EC-9B92347318089322F&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 10:52:34) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9WH109763G2192846
Completed in 2452ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 10:53:24) [GET]
  Parameters: {"token"=>"EC-9WH109763G2192846", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.3ms)
Completed in 845ms (View: 10, DB: 2) | 200 OK [http://localhost/donations/new?token=EC-9WH109763G2192846&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 10:54:32) [GET]
  Parameters: {"token"=>"EC-9WH109763G2192846", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (4.5ms)
Completed in 2358ms (View: 12, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-9WH109763G2192846&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:06:11) [GET]
  Parameters: {"token"=>"EC-9WH109763G2192846", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (53.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (49.9ms)
Completed in 2397ms (View: 105, DB: 54) | 200 OK [http://localhost/donations/new?token=EC-9WH109763G2192846&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 11:06:16) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-9WH109763G2192846"}}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 18:06:17', NULL, '2FX3NYJ7J7SM6', 'EC-9WH109763G2192846', '2010-08-31 18:06:17', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (41.9ms)[0m   [0mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:25:in `price_in_cents'
  app/models/donation.rb:44:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (690.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 11:28:03) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (28.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 158ms (View: 80, DB: 29) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 11:28:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.8ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 40ms (View: 30, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:28:06) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (177.2ms)
Completed in 208ms (View: 195, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:29:40) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6T416107B29346103
Completed in 742ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:30:58) [GET]
  Parameters: {"token"=>"EC-6T416107B29346103", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.5ms)
Completed in 3060ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-6T416107B29346103&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 11:32:35) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-6T416107B29346103"}}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.6ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 18:32:38', NULL, '2FX3NYJ7J7SM6', 'EC-6T416107B29346103', '2010-08-31 18:32:38', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (245.5ms)[0m   [0mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:25:in `price_in_cents'
  app/models/donation.rb:44:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (136.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 11:32:58) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (10.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 29ms (View: 13, DB: 11) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 11:33:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.8ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:33:02) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.6ms)
Completed in 25ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:35:52) [GET]

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.save):
  app/controllers/donations_controller.rb:16:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:36:22) [GET]

ActiveMerchant::ResponseError (Failed with 500 Internal Server Error):
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:155:in `handle_response'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:74:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:25:in `setup_purchase'
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:36:26) [GET]

NameError (undefined local variable or method `save' for #<DonationsController:0x1031787d0>):
  app/controllers/donations_controller.rb:16:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (139.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:38:00) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-29J37238D3880012J
Completed in 621ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:38:26) [GET]
  Parameters: {"token"=>"EC-29J37238D3880012J", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.7ms)
Completed in 883ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-29J37238D3880012J&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 11:38:36) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-29J37238D3880012J"}}
  [4;35;1mDonation Columns (66.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 18:38:37', NULL, '2FX3NYJ7J7SM6', 'EC-29J37238D3880012J', '2010-08-31 18:38:37', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:25:in `price_in_cents'
  app/models/donation.rb:44:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 11:39:31) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 56ms (View: 48, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 11:39:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:39:34) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (51.7ms)
Completed in 204ms (View: 194, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:39:38) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-74157705DB709693L
Completed in 2662ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:40:20) [GET]
  Parameters: {"token"=>"EC-74157705DB709693L", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.9ms)
Completed in 2061ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-74157705DB709693L&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 11:40:25) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-74157705DB709693L"}}
  [4;35;1mDonation Columns (48.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 18:40:28', NULL, '2FX3NYJ7J7SM6', 'EC-74157705DB709693L', '2010-08-31 18:40:28', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (66.7ms)[0m   [0;1mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:19:in `price_in_cents'
  app/models/donation.rb:38:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 11:43:52) [GET]
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 50ms (View: 43, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 11:43:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:43:56) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.9ms)
Completed in 24ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:44:01) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0H486182YX5707827
Completed in 2717ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:44:43) [GET]
  Parameters: {"token"=>"EC-0H486182YX5707827", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.6ms)
Completed in 2771ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-0H486182YX5707827&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:44:50) [GET]
  [4;35;1mDonation Load (29.7ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 98ms (View: 60, DB: 32) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:44:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 63ms (View: 39, DB: 3) | 200 OK [http://localhost/donations/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:44:55) [GET]
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 44ms (View: 35, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:44:56) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 2) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 16ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:44:57) [GET]
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 67ms (View: 38, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:45:00) [GET]
  Parameters: {"id"=>"12"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 12) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 15ms (View: 6, DB: 2) | 200 OK [http://localhost/donations/12]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:45:01) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 123ms (View: 115, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:45:45) [GET]
  [4;36;1mDonation Load (1.1ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 49ms (View: 36, DB: 5) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:45:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 20ms (View: 11, DB: 3) | 200 OK [http://localhost/donations/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:45:51) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 43ms (View: 34, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:45:52) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 2) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 16ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:45:54) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 43ms (View: 35, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:45:55) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 3) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 16ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:45:56) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 44ms (View: 35, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:45:57) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 4) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 15ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/4]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:45:58) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 45ms (View: 36, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:45:59) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 5) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 15ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/5]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:00) [GET]
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 44ms (View: 35, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:46:01) [GET]
  Parameters: {"id"=>"12"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 12) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 15ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/12]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:02) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 126ms (View: 118, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:46:03) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mDonation Columns (75.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.7ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 11) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 90ms (View: 7, DB: 76) | 200 OK [http://localhost/donations/11]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:04) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 42ms (View: 34, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 11:46:05) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 10) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 16ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/10]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:07) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 42ms (View: 33, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:38) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 50ms (View: 41, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:46:52) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"1"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (49.6ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 63ms (DB: 54) | 302 Found [http://localhost/donations/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:52) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 41ms (View: 33, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:46:53) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"2"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.7ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 2[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 19ms (DB: 5) | 302 Found [http://localhost/donations/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:53) [GET]
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 39ms (View: 30, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:46:55) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"3"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.7ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 3[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 14ms (DB: 6) | 302 Found [http://localhost/donations/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:55) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 38ms (View: 29, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:46:56) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"4"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 4[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 4) | 302 Found [http://localhost/donations/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:56) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 117ms (View: 109, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:46:57) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"6"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 6[0m
  [4;36;1mSQL (29.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 45ms (DB: 34) | 302 Found [http://localhost/donations/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:57) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (5.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 35ms (View: 23, DB: 6) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:46:59) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"7"}
  [4;35;1mDonation Columns (5.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 7[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 17ms (DB: 7) | 302 Found [http://localhost/donations/7]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:46:59) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 29ms (View: 21, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:47:00) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"8"}
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 8) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 8[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 101ms (DB: 4) | 302 Found [http://localhost/donations/8]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:47:00) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 29ms (View: 20, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:47:01) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"9"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 9) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 9[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 4) | 302 Found [http://localhost/donations/9]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:47:01) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 27ms (View: 19, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:47:03) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"10"}
  [4;36;1mDonation Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.7ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 10[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 15ms (DB: 6) | 302 Found [http://localhost/donations/10]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:47:03) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 26ms (View: 16, DB: 4) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:47:04) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"11"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 11[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 5) | 302 Found [http://localhost/donations/11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:47:04) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 21ms (View: 12, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:47:05) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"12"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (3.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 12[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 16ms (DB: 7) | 302 Found [http://localhost/donations/12]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:47:05) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:47:06) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"5"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.6ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 5[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 5) | 302 Found [http://localhost/donations/5]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:47:07) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
Completed in 8ms (View: 2, DB: 1) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 11:47:11) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 15ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 11:47:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:47:20) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.1ms)
Completed in 24ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:47:25) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-2DS13605C4842974D
Completed in 2603ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:48:11) [GET]
  Parameters: {"token"=>"EC-2DS13605C4842974D", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.6ms)
Completed in 3994ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-2DS13605C4842974D&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 11:48:18) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-2DS13605C4842974D"}}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.6ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 18:48:22', NULL, '2FX3NYJ7J7SM6', 'EC-2DS13605C4842974D', '2010-08-31 18:48:22', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:19:in `price_in_cents'
  app/models/donation.rb:38:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:48:25) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 105ms (View: 8, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 11:49:00) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"13"}
  [4;36;1mDonation Columns (80.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 13) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 13[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 92ms (DB: 82) | 302 Found [http://localhost/donations/13]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 11:49:00) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
Completed in 9ms (View: 2, DB: 1) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 11:49:03) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 11:49:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:49:05) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.1ms)
Completed in 24ms (View: 13, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:49:08) [GET]

ArgumentError (Missing required parameter: return_url):
  activemerchant (1.7.1) lib/active_merchant/common/requires_parameters.rb:11:in `requires!'
  activemerchant (1.7.1) lib/active_merchant/common/requires_parameters.rb:4:in `each'
  activemerchant (1.7.1) lib/active_merchant/common/requires_parameters.rb:4:in `requires!'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:23:in `setup_purchase'
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:49:30) [GET]

NameError (undefined local variable or method `price_in_cents' for #<DonationsController:0x103314e68>):
  app/controllers/donations_controller.rb:11:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 11:49:56) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7FV546367N214812L
Completed in 753ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:50:31) [GET]
  Parameters: {"token"=>"EC-7FV546367N214812L", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (98.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.2ms)
Completed in 4156ms (View: 89, DB: 98) | 200 OK [http://localhost/donations/new?token=EC-7FV546367N214812L&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (22.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 11:54:47) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"gift_id"=>"", "express_token"=>"EC-7FV546367N214812L"}}
  [4;35;1mDonation Columns (64.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 18:54:50', NULL, '2FX3NYJ7J7SM6', 'EC-7FV546367N214812L', '2010-08-31 18:54:50', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (34.7ms)[0m   [0;1mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:19:in `price_in_cents'
  app/models/donation.rb:38:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:26:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (137.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 11:55:22) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 72ms (View: 64, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 11:55:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (33.2ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 59ms (View: 15, DB: 38) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 11:55:25) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (40.4ms)
Completed in 76ms (View: 66, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 12:01:14) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"699", "card_number"=>"4023375661095860", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (37.8ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-31 19:01:14', 'visa', NULL, NULL, '2010-08-31 19:01:14', 699.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (44.6ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.7ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-31 19:01:21', '2010-08-31 19:01:21', 'submit_donation', 69900.0, '02R9431862314434T', 1, 15, '--- \ncorrelation_id: 8b3cdd0349cba\ntimestamp: \"2010-08-31T19:01:20Z\"\namount: \"699.00\"\namount_currency_id: USD\ntransaction_id: 02R9431862314434T\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 6849ms (View: 29, DB: 90) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 12:05:21) [GET]
  [4;35;1mBride Load (0.9ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 12:05:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:05:26) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.7ms)
Completed in 25ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 12:08:28) [GET]
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-53K58856FC0046729
Completed in 2242ms (DB: 0) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:10:17) [GET]
  Parameters: {"token"=>"EC-53K58856FC0046729", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.9ms)
Completed in 3425ms (View: 10, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-53K58856FC0046729&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 12:10:32) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"card_expiration(3i)"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"799", "card_number"=>"4023375661095860", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, '2015-08-01', '2010-08-31 19:10:32', 'visa', NULL, NULL, '2010-08-31 19:10:32', 799.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-31 19:10:37', '2010-08-31 19:10:37', 'submit_donation', 79900.0, '13425171GK3241106', 1, 16, '--- \ncorrelation_id: fa0674fd811a8\ntimestamp: \"2010-08-31T19:10:36Z\"\namount: \"799.00\"\namount_currency_id: USD\ntransaction_id: 13425171GK3241106\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 4403ms (View: 2, DB: 8) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 12:12:10) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 12:12:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (145.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 259ms (View: 105, DB: 148) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:12:13) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.2ms)
Completed in 30ms (View: 20, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 12:12:33) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"544", "card_number"=>"4023375661095860", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (19.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(1, '2015-08-01', '2010-08-31 19:12:33', 'visa', NULL, NULL, '2010-08-31 19:12:33', 544.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (23.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-31 19:12:38', '2010-08-31 19:12:38', 'submit_donation', 54400.0, '6XP21916BJ266141G', 1, 17, '--- \ncorrelation_id: a84338c2855e\ntimestamp: \"2010-08-31T19:12:38Z\"\namount: \"544.00\"\namount_currency_id: USD\ntransaction_id: 6XP21916BJ266141G\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 5154ms (View: 2, DB: 48) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 12:13:19) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 26ms (View: 17, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 12:13:24) [DELETE]
  Parameters: {"authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "id"=>"14"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.0ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.3ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 14[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 103ms (DB: 4) | 302 Found [http://localhost/donations/14]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 12:13:25) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 27ms (View: 18, DB: 4) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 12:13:26) [GET]
  Parameters: {"id"=>"17"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 17) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 17ms (View: 7, DB: 3) | 200 OK [http://localhost/donations/17]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 12:13:28) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 22ms (View: 14, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 12:13:36) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 6, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 12:13:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (32.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 57ms (View: 15, DB: 37) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:13:38) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.9ms)
Completed in 25ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 12:25:49) [GET]
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-1MB907173T833281S
Completed in 2191ms (DB: 3) | 302 Found [http://localhost/donations/new/express]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:26:27) [GET]
  Parameters: {"token"=>"EC-1MB907173T833281S", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.9ms)
Completed in 1803ms (View: 9, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-1MB907173T833281S&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 12:26:58) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"express_token"=>"EC-1MB907173T833281S"}}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 19:27:02', NULL, '2FX3NYJ7J7SM6', 'EC-1MB907173T833281S', '2010-08-31 19:27:02', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:19:in `price_in_cents'
  app/models/donation.rb:38:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 12:27:26) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"Tmu+lyOO29UQD8WJkTEFk8q+Kx5sDEfQQzRApIdvHeA=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"322", "card_number"=>"", "last_name"=>"Hernandez", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>"Freddy"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.1ms)
Completed in 29ms (View: 16, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 12:27:30) [GET]
  Parameters: {"gift_id"=>"1", "amount"=>"322.0", "last_name"=>"Hernandez", "first_name"=>"Freddy"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NoMethodError (undefined method `month' for nil:NilClass):
  app/models/donation.rb:77:in `credit_card'
  app/models/donation.rb:65:in `validate_card'
  app/controllers/donations_controller.rb:12:in `express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (148.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 12:34:54) [GET]
  Parameters: {"gift_id"=>"1", "amount"=>"322.0", "last_name"=>"Hernandez", "first_name"=>"Freddy"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-8DV95264CL679014M
Completed in 3190ms (DB: 2) | 302 Found [http://localhost/donations/new/express?amount=322.0&first_name=Freddy&gift_id=1&last_name=Hernandez]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new to #<donation:0x103340108> (for 127.0.0.1 at 2010-08-31 12:37:52) [GET]
  Parameters: {"token"=>"EC-8DV95264CL679014M", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (21.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActionView::MissingTemplate (Missing template donations/new.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new to #<donation:0x103340108> (for 127.0.0.1 at 2010-08-31 12:38:30) [GET]
  Parameters: {"token"=>"EC-8DV95264CL679014M", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActionView::MissingTemplate (Missing template donations/new.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 12:40:28) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 53ms (View: 46, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 12:40:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:40:31) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (56.0ms)
Completed in 68ms (View: 58, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 12:40:44) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-00200010MF8867244
Completed in 2754ms (DB: 3) | 302 Found [http://localhost/donations/new/express?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 12:47:38) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 208ms (View: 171, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 12:47:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (19.5ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 147ms (View: 134, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:47:42) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (19.9ms)
Completed in 60ms (View: 49, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 12:47:53) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4S099179A3832184M
Completed in 772ms (DB: 3) | 302 Found [http://localhost/donations/new/express?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:48:16) [GET]
  Parameters: {"token"=>"EC-4S099179A3832184M", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.4ms)
Completed in 964ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-4S099179A3832184M&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 12:48:26) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "donation"=>{"express_token"=>"EC-4S099179A3832184M"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 19:48:27', NULL, '2FX3NYJ7J7SM6', 'EC-4S099179A3832184M', '2010-08-31 19:48:27', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (44.9ms)[0m   [0;1mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:19:in `price_in_cents'
  app/models/donation.rb:38:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.0ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 12:52:42) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6KR03461Y1397030X
Completed in 843ms (DB: 2) | 302 Found [http://localhost/donations/new/express?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:53:04) [GET]
  Parameters: {"token"=>"EC-6KR03461Y1397030X", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.0ms)
Completed in 831ms (View: 37, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-6KR03461Y1397030X&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 12:53:10) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "donation"=>{"express_token"=>"EC-6KR03461Y1397030X"}}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (1.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 19:53:10', NULL, '2FX3NYJ7J7SM6', 'EC-6KR03461Y1397030X', '2010-08-31 19:53:10', NULL, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;35;1mSQL (42.6ms)[0m   [0mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:19:in `price_in_cents'
  app/models/donation.rb:38:in `process_donation'
  app/models/donation.rb:13:in `submit_donation'
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (137.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:53:29) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (44.1ms)
Completed in 56ms (View: 46, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 12:57:53) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (26.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-97E280881S2665450
Completed in 867ms (DB: 27) | 302 Found [http://localhost/donations/new/express?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 12:58:44) [GET]
  Parameters: {"token"=>"EC-97E280881S2665450", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.5ms)
Completed in 1014ms (View: 36, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-97E280881S2665450&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 13:19:15) [GET]
  [4;35;1mBride Load (0.6ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (39.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 131ms (View: 34, DB: 41) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 13:19:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 13:19:18) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (40.6ms)
Completed in 93ms (View: 83, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#express (for 127.0.0.1 at 2010-08-31 13:19:31) [GET]
  Parameters: {"gift_id"=>"1"}

ActionController::UnknownAction (No action responded to express. Actions: create, create_express, destroy, edit, index, new, show, and update):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-31 13:20:09) [GET]
  Parameters: {"gift_id"=>"1"}

ActionController::RoutingError (No route matches "/donations/new/express" with {:method=>:get}):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-31 13:20:28) [GET]
  Parameters: {"gift_id"=>"1"}

ActionController::RoutingError (No route matches "/donations/new/express" with {:method=>:get}):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-31 13:21:58) [GET]
  Parameters: {"gift_id"=>"1"}

ActionController::RoutingError (No route matches "/donations/new/express" with {:method=>:get}):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-31 13:29:17) [GET]
  Parameters: {"gift_id"=>"1"}

ActionController::RoutingError (No route matches "/donations/new/express" with {:method=>:get}):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 13:29:52) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (25.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 144ms (View: 86, DB: 26) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 13:29:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (20.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 182ms (View: 171, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 13:29:55) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (61.2ms)
Completed in 125ms (View: 114, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 13:30:04) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.1ms)
Completed in 33ms (View: 19, DB: 3) | 200 OK [http://localhost/donations/new/create_express?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 13:30:13) [GET]
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (16.4ms)
Completed in 30ms (View: 18, DB: 3) | 200 OK [http://localhost/donations/new/create_express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 13:30:17) [GET]
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.3ms)
Completed in 115ms (View: 19, DB: 3) | 200 OK [http://localhost/donations/new/create_express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 14:12:06) [GET]
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.9ms)
Completed in 30ms (View: 18, DB: 3) | 200 OK [http://localhost/donations/new/create_express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 14:12:21) [GET]
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (16.0ms)
Completed in 30ms (View: 18, DB: 3) | 200 OK [http://localhost/donations/new/create_express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 14:14:16) [GET]
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.6ms)
Completed in 29ms (View: 18, DB: 3) | 200 OK [http://localhost/donations/new/create_express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 14:16:54) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 51ms (View: 22, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 14:16:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (2.9ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 45ms (View: 32, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 14:16:58) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (20.7ms)
Completed in 45ms (View: 33, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 14:17:07) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mDonation Load (1.6ms)[0m   [0;1mSELECT * FROM `donations` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.8ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(NULL, NULL, '2010-08-31 21:22:43', NULL, NULL, NULL, '2010-08-31 21:22:43', 12.0, NULL, '127.0.0.1', NULL)[0m
  [4;35;1mSQL (95.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5JP34049L63789315
Completed in 412530ms (DB: 102) | 302 Found [http://localhost/donations/new/create_express?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 14:24:22) [GET]
  Parameters: {"token"=>"EC-5JP34049L63789315", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.8ms)
Completed in 789ms (View: 5, DB: 2) | 200 OK [http://localhost/donations/new?token=EC-5JP34049L63789315&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 14:24:50) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "donation"=>{"express_token"=>"EC-5JP34049L63789315"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.3ms)
Completed in 789ms (View: 10, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 14:25:01) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 16ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 14:25:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 28ms (View: 15, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 14:25:06) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.1ms)
Completed in 30ms (View: 17, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 14:25:27) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (20.8ms)
Completed in 255059ms (View: 120, DB: 3) | 200 OK [http://localhost/donations/new/create_express?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 14:29:57) [GET]
  [4;35;1mDonation Columns (47.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (61.3ms)
Completed in 5726ms (View: 65, DB: 48) | 200 OK [http://localhost/donations/new/create_express]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 14:55:33) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (28.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 69ms (View: 33, DB: 29) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 14:55:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 113ms (View: 102, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 14:55:36) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (50.2ms)
Completed in 69ms (View: 57, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 14:55:48) [POST]
  Parameters: {"authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"500", "card_number"=>"", "last_name"=>"hernandez", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"8", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`) VALUES(1, '2010-08-01', '2010-08-31 21:55:48', 'visa', NULL, NULL, '2010-08-31 21:55:48', 500.0, 'hernandez', '127.0.0.1', 'freddy')[0m
  [4;36;1mSQL (94.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-08-31 21:55:49', '2010-08-31 21:55:49', 'submit_donation', 50000.0, NULL, 0, 22, '--- \ntimestamp: \"2010-08-31T21:55:49Z\"\ncorrelation_id: b618d0b1e7398\namount: \"500.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1077ms (View: 27, DB: 101) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (50.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (222.2ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (313.2ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (176.2ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (27.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (121.4ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (149.6ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gift_id` int(11), `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `amount` float, `express_token` varchar(255), `express_payer_id` varchar(255), `paypal_donation` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (142.0ms)[0m   [0mCREATE TABLE `donation_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `donation_id` int(11), `action` varchar(255), `amount` float, `success` tinyint(1), `authorization` varchar(255), `message` varchar(255), `params` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825203335')[0m
  [4;35;1mSQL (24.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (42.8ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (2.5ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mdescribe `donation_transactions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `donation_transactions`[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (2.1ms)[0m   [0mdescribe `donations`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW KEYS FROM `donations`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 15:46:10) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 186ms (View: 121, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-08-31 15:46:12) [GET]
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (67.3ms)
Completed in 232ms (View: 181, DB: 4) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-08-31 15:46:31) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "bride"=>{"name"=>"jen", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"8", "wedding_day(3i)"=>"31", "wedding_day(4i)"=>"22", "gifts_attributes"=>{"0"=>{"price"=>"899.00", "name"=>"bag", "total_donations"=>"0"}, "1"=>{"price"=>"900", "name"=>"hat", "total_donations"=>"0"}}, "wedding_day(5i)"=>"46"}}
  [4;36;1mBride Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('jen', '2010-08-31 22:46:31', '2010-08-31 22:46:31', '2010-08-31')[0m
  [4;36;1mGift Create (0.2ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('bag', 899.0, '2010-08-31 22:46:31', '2010-08-31 22:46:31', 1, 0.0)[0m
  [4;35;1mGift Create (0.1ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('hat', 900.0, '2010-08-31 22:46:31', '2010-08-31 22:46:31', 1, 0.0)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 27ms (DB: 6) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 15:46:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (22.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 74ms (View: 64, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 15:46:34) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (99.7ms)
Completed in 179ms (View: 143, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 15:47:13) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.6ms)
Completed in 31ms (View: 20, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 15:47:28) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (16.6ms)
Completed in 30ms (View: 18, DB: 2) | 200 OK [http://localhost/donations/new/create_express?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 15:47:50) [GET]
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 22:47:50', NULL, NULL, NULL, '2010-08-31 22:47:50', NULL, NULL, '127.0.0.1', NULL, NULL)[0m
  [4;36;1mSQL (41.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5X695549XT789215S
Completed in 2081ms (DB: 45) | 302 Found [http://localhost/donations/new/create_express]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 15:48:16) [GET]
  Parameters: {"token"=>"EC-5X695549XT789215S", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.4ms)
Completed in 876ms (View: 43, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-5X695549XT789215S&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-08-31 15:48:20) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "donation"=>{"express_token"=>"EC-5X695549XT789215S"}}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 22:48:21', NULL, '2FX3NYJ7J7SM6', 'EC-5X695549XT789215S', '2010-08-31 22:48:21', NULL, 'hernandez', '127.0.0.1', 'freddy', NULL)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:21:in `price_in_cents'
  app/models/donation.rb:44:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:33:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.8ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 15:49:12) [GET]
  Parameters: {"token"=>"EC-5X695549XT789215S", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (45.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.1ms)
Completed in 869ms (View: 44, DB: 46) | 200 OK [http://localhost/donations/new?token=EC-5X695549XT789215S&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 15:49:22) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 61ms (View: 54, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 15:49:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 15:49:25) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.2ms)
Completed in 51ms (View: 16, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 15:49:34) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 22:49:34', NULL, NULL, NULL, '2010-08-31 22:49:34', NULL, NULL, '127.0.0.1', NULL, NULL)[0m
  [4;36;1mSQL (70.6ms)[0m   [0;1mCOMMIT[0m

ActiveRecord::RecordNotFound (Couldn't find Donation without an ID):
  app/controllers/donations_controller.rb:16:in `create_express'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 15:50:05) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 22:50:05', NULL, NULL, NULL, '2010-08-31 22:50:05', NULL, NULL, '127.0.0.1', NULL, NULL)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 4) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9K126645LB9954929
Completed in 819ms (DB: 4) | 302 Found [http://localhost/donations/new/create_express?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 15:50:28) [GET]
  Parameters: {"token"=>"EC-9K126645LB9954929", "id"=>"4", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 4) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 75ms (View: 65, DB: 3) | 200 OK [http://localhost/donations/4?token=EC-9K126645LB9954929&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:50:47) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 141ms (View: 43, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 15:50:48) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 4) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 16ms (View: 7, DB: 3) | 200 OK [http://localhost/donations/4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:50:49) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 25ms (View: 16, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 15:50:51) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 2) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 16ms (View: 7, DB: 3) | 200 OK [http://localhost/donations/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:50:52) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 25ms (View: 16, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 15:53:01) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 142ms (View: 134, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 15:53:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (1.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 27ms (View: 15, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 15:53:04) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (67.9ms)
Completed in 330ms (View: 74, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 15:53:13) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 22:53:13', NULL, NULL, NULL, '2010-08-31 22:53:13', NULL, NULL, '127.0.0.1', NULL, NULL)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 5) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9G229480EU720331V
Completed in 729ms (DB: 4) | 302 Found [http://localhost/donations/new/create_express?gift_id=1&paypal_donation=true]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 15:53:38) [GET]
  Parameters: {"token"=>"EC-9G229480EU720331V", "id"=>"5", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 5) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 48ms (View: 39, DB: 2) | 200 OK [http://localhost/donations/5?token=EC-9G229480EU720331V&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:53:43) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 113ms (View: 19, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 15:54:22) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 57ms (View: 49, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 15:54:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 15:54:24) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.5ms)
Completed in 26ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 15:57:31) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (46.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 22:57:31', NULL, NULL, NULL, '2010-08-31 22:57:31', NULL, NULL, '127.0.0.1', NULL, NULL)[0m
  [4;35;1mSQL (19.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 6) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3EE37524T8972030S
Completed in 715ms (DB: 67) | 302 Found [http://localhost/donations/new/create_express?gift_id=1&paypal_donation=true]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#create_express (for 127.0.0.1 at 2010-08-31 15:58:27) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}

SyntaxError (/Users/FreddyHernandezJr/code/profile/app/controllers/donations_controller.rb:63: syntax error, unexpected kEND, expecting $end):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 15:59:00) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 22:59:00', NULL, NULL, NULL, '2010-08-31 22:59:00', NULL, NULL, '127.0.0.1', NULL, NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 7) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-638321845L334182J
Completed in 735ms (DB: 5) | 302 Found [http://localhost/donations/new/create_express?gift_id=1&paypal_donation=true]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 15:59:27) [GET]
  Parameters: {"token"=>"EC-638321845L334182J", "id"=>"7", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 7) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 65ms (View: 56, DB: 3) | 200 OK [http://localhost/donations/7?token=EC-638321845L334182J&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:37) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 32ms (View: 24, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 15:59:40) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mDonation Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 7) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 8, DB: 4) | 200 OK [http://localhost/donations/7]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:41) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 32ms (View: 23, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 15:59:42) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.8ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 6) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 17ms (View: 7, DB: 4) | 200 OK [http://localhost/donations/6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:43) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 33ms (View: 24, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-08-31 15:59:44) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 2) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 8, DB: 3) | 200 OK [http://localhost/donations/2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:45) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 33ms (View: 23, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 15:59:48) [DELETE]
  Parameters: {"authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 14ms (DB: 5) | 302 Found [http://localhost/donations/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:48) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 35ms (View: 27, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 15:59:50) [DELETE]
  Parameters: {"authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "id"=>"2"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 14ms (DB: 5) | 302 Found [http://localhost/donations/2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:50) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 31ms (View: 22, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 15:59:51) [DELETE]
  Parameters: {"authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "id"=>"3"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 3[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 4) | 302 Found [http://localhost/donations/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:51) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 32ms (View: 22, DB: 4) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 15:59:52) [DELETE]
  Parameters: {"authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "id"=>"5"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 5[0m
  [4;36;1mSQL (34.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 46ms (DB: 37) | 302 Found [http://localhost/donations/5]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:52) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 27ms (View: 19, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 15:59:53) [DELETE]
  Parameters: {"authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "id"=>"4"}
  [4;35;1mDonation Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.3ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 4[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 16ms (DB: 7) | 302 Found [http://localhost/donations/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:53) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (6.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 110ms (View: 98, DB: 7) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 15:59:55) [DELETE]
  Parameters: {"authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "id"=>"6"}
  [4;36;1mDonation Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.3ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 6[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 15ms (DB: 6) | 302 Found [http://localhost/donations/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:55) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-08-31 15:59:56) [DELETE]
  Parameters: {"authenticity_token"=>"ZFRWCY08xpp1JRjyL80fK2gC71PvqMwMLzOsD+x6ckg=", "id"=>"7"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 7[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 4) | 302 Found [http://localhost/donations/7]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-08-31 15:59:56) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
Completed in 10ms (View: 2, DB: 1) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 16:00:16) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 107ms (View: 100, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 16:00:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 108ms (View: 97, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 16:00:19) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (42.2ms)
Completed in 56ms (View: 44, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 16:00:28) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 23:00:28', NULL, NULL, NULL, '2010-08-31 23:00:28', NULL, NULL, '127.0.0.1', NULL, NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 8) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3GC3402025358012D
Completed in 636ms (DB: 4) | 302 Found [http://localhost/donations/new/create_express?gift_id=1&paypal_donation=true]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 16:02:18) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (28.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 69ms (View: 35, DB: 29) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 16:02:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 16:02:33) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.2ms)
Completed in 150ms (View: 53, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 16:02:41) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 23:02:41', NULL, NULL, NULL, '2010-08-31 23:02:41', NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (26.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 9) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-8LX782898D011164N
Completed in 692ms (DB: 32) | 302 Found [http://localhost/donations/new/create_express?gift_id=1&paypal_donation=true]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 16:08:51) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (47.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 218ms (View: 95, DB: 49) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 16:08:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (20.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 207ms (View: 195, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 16:08:54) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (67.5ms)
Completed in 121ms (View: 111, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-08-31 16:09:03) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-08-31 23:09:03', NULL, NULL, NULL, '2010-08-31 23:09:03', NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (26.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 10) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3NH59371XA271994D
Completed in 748ms (DB: 30) | 302 Found [http://localhost/donations/new/create_express?gift_id=1&paypal_donation=true]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-08-31 22:17:54) [GET]
  [4;35;1mBride Load (17.9ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (171.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 393ms (View: 141, DB: 189) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-08-31 22:17:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (28.0ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 209ms (View: 198, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-08-31 22:18:17) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (69.2ms)
Completed in 166ms (View: 132, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 10:58:01) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (25.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 374ms (View: 286, DB: 27) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 10:58:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (37.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 462ms (View: 442, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 10:58:05) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (46.7ms)
Completed in 153ms (View: 133, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-09-01 10:58:18) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (235.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-09-01 17:58:19', NULL, NULL, NULL, '2010-09-01 17:58:19', NULL, NULL, '127.0.0.1', NULL, NULL)[0m
  [4;36;1mSQL (407.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 11) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5BT65819L3266222T
Completed in 1934ms (DB: 645) | 302 Found [http://localhost/donations/new/create_express?gift_id=1&paypal_donation=true]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-01 10:58:58) [GET]
  Parameters: {"token"=>"EC-5BT65819L3266222T", "id"=>"11", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (27.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 11) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 105ms (View: 60, DB: 28) | 200 OK [http://localhost/donations/11?token=EC-5BT65819L3266222T&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-01 10:59:54) [DELETE]
  Parameters: {"authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "id"=>"11"}
  [4;36;1mDonation Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 11) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (38.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 11[0m
  [4;36;1mSQL (21.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 72ms (DB: 64) | 302 Found [http://localhost/donations/11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-01 10:59:54) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 52ms (View: 43, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-01 10:59:57) [DELETE]
  Parameters: {"authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "id"=>"10"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 10[0m
  [4;35;1mSQL (33.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 46ms (DB: 36) | 302 Found [http://localhost/donations/10]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-01 10:59:57) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 21ms (View: 12, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-01 10:59:58) [DELETE]
  Parameters: {"authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "id"=>"9"}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.1ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 9[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 5) | 302 Found [http://localhost/donations/9]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-01 10:59:58) [GET]
  [4;36;1mDonation Load (0.7ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 126ms (View: 15, DB: 4) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-01 11:00:00) [DELETE]
  Parameters: {"authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "id"=>"8"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 8) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 8[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 3) | 302 Found [http://localhost/donations/8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-01 11:00:00) [GET]
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
Completed in 8ms (View: 2, DB: 1) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:00:05) [GET]
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.5ms)
Completed in 25ms (View: 15, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:00:43) [GET]
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.9ms)
Completed in 25ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-09-01 11:00:52) [GET]
  Parameters: {"paypal_donation"=>"true"}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-8CX376481H112542W
Completed in 696ms (DB: 0) | 302 Found [http://localhost/donations/new/create_express?paypal_donation=true]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:01:16) [GET]
  Parameters: {"token"=>"EC-8CX376481H112542W", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (24.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.4ms)
Completed in 955ms (View: 38, DB: 24) | 200 OK [http://localhost/donations/new?token=EC-8CX376481H112542W&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 11:01:36) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"express_token"=>"EC-8CX376481H112542W"}}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-09-01 18:01:37', NULL, '2FX3NYJ7J7SM6', 'EC-8CX376481H112542W', '2010-09-01 18:01:37', NULL, 'hernandez', '127.0.0.1', 'freddy', NULL)[0m
  [4;35;1mSQL (47.6ms)[0m   [0mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:21:in `price_in_cents'
  app/models/donation.rb:44:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:26:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (133.4ms)
Rendered rescues/_request_and_response (13.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 11:14:14) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (47.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 102ms (View: 49, DB: 48) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:14:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.8ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 70ms (View: 60, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2010-09-01 11:14:17) [GET]
  Parameters: {"gift_id"=>"1"}

SyntaxError (/Users/FreddyHernandezJr/code/profile/app/controllers/donations_controller.rb:59: syntax error, unexpected $end, expecting kEND):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:14:37) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (123.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ')', expecting tASSOC
..., :paypal_donation => true)  ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), :method => :post, create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)  ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ')', expecting tASSOC
..., :paypal_donation => true)  ).to_s); @output_buffer.concat ...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), :method => :post, create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)  %>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 11:15:41) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 15ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:15:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.7ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 112ms (View: 101, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:15:44) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (52.7ms)
Completed in 70ms (View: 59, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:15:50) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (32.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:16:24) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (118.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:16:32) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (33.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:16:43) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (31.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:16:57) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (123.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 11:19:10) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (28.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 76ms (View: 42, DB: 29) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (2.1ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 27ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:19:12) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.5ms)
Completed in 59ms (View: 48, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 11:19:21) [POST]
  Parameters: {"authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"111", "card_number"=>"", "last_name"=>"h", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 18:19:21', 'visa', NULL, NULL, '2010-09-01 18:19:21', 111.0, 'h', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (56.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (1.0ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 18:19:23', '2010-09-01 18:19:23', 'submit_donation', 11100.0, NULL, 0, 13, '--- \ntimestamp: \"2010-09-01T18:19:22Z\"\ncorrelation_id: 62863ccc1b85e\namount: \"111.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1846ms (View: 24, DB: 63) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 11:20:01) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (12.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 26ms (View: 8, DB: 13) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:20:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:22:28) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (70.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (62.9ms)
Completed in 148ms (View: 69, DB: 70) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:22:38) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (117.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:25:02) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (33.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:26:43) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.1ms)
Completed in 30ms (View: 20, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-09-01 11:26:49) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create_express.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:26:59) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.6ms)
Completed in 27ms (View: 16, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:28:03) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (22.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (36.3ms)
Completed in 91ms (View: 60, DB: 23) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-09-01 11:28:08) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create_express.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:28:18) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.8ms)
Completed in 26ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-09-01 11:29:06) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create_express.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:29:10) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.2ms)
Completed in 32ms (View: 21, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:29:13) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (32.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 11:40:28) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (35.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 162ms (View: 109, DB: 36) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:40:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.6ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 355ms (View: 345, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:40:31) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected ':', expecting kEND
...e=true ;  form_for @donation :html => { :method => :post} do...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected kDO, expecting kEND
...html => { :method => :post} do |f| ; @output_buffer.concat "...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation :html => { :method => :post} do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"),  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true), :method => :post  ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected ':', expecting kEND
...e=true ;  form_for @donation :html => { :method => :post} do...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected kDO, expecting kEND
...html => { :method => :post} do |f| ; @output_buffer.concat "...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45: syntax error, unexpected kENSURE, expecting $end) on line #1 of app/views/donations/_form.html.erb:
1: <% form_for @donation :html => { :method => :post} do |f| %>
2:   <%= f.error_messages %>
3: 
4: 	<% if @donation.express_token.blank? %>

    app/views/donations/_form.html.erb:45:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (65.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 11:41:29) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 9, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:41:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:41:32) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected ':', expecting kEND
...e=true ;  form_for @donation :html => { :method => "post" } ...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected kDO, expecting kEND
...ml => { :method => "post" } do |f| ; @output_buffer.concat "...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation :html => { :method => "post" } do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"),  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true), :method => :post  ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected ':', expecting kEND
...e=true ;  form_for @donation :html => { :method => "post" } ...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected kDO, expecting kEND
...ml => { :method => "post" } do |f| ; @output_buffer.concat "...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45: syntax error, unexpected kENSURE, expecting $end) on line #1 of app/views/donations/_form.html.erb:
1: <% form_for @donation :html => { :method => "post" } do |f| %>
2:   <%= f.error_messages %>
3: 
4: 	<% if @donation.express_token.blank? %>

    app/views/donations/_form.html.erb:45:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 11:42:00) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:42:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:42:04) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (53.4ms)
Completed in 69ms (View: 58, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:47:19) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (16.2ms)
Completed in 32ms (View: 21, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 11:47:24) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (114.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:47:39) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.6ms)
Completed in 31ms (View: 20, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create_express (for 127.0.0.1 at 2010-09-01 11:47:44) [GET]
  Parameters: {"gift_id"=>"1", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create_express.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 11:52:57) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (28.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 70ms (View: 36, DB: 29) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:56:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 111ms (View: 99, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:56:07) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ')', expecting tASSOC
... :paypal_donation => true)   ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), :method => :post, create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ')', expecting tASSOC
... :paypal_donation => true)   ).to_s); @output_buffer.concat ...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), :method => :post, create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   %>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:56:24) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ':', expecting ')'
...btn/btn_xpressCheckout.gif") :method => :post, create_expres...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif") :method => :post, create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ':', expecting ')'
...btn/btn_xpressCheckout.gif") :method => :post, create_expres...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif") :method => :post, create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   %>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:56:28) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ':', expecting ')'
...btn/btn_xpressCheckout.gif") :method => :post, create_expres...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif") :method => :post, create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ':', expecting ')'
...btn/btn_xpressCheckout.gif") :method => :post, create_expres...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif") :method => :post, create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   %>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (155.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:56:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:56:50) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ':', expecting ')'
...btn/btn_xpressCheckout.gif") :method => :post create_express...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif") :method => :post create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ':', expecting ')'
...btn/btn_xpressCheckout.gif") :method => :post create_express...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif") :method => :post create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   %>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (151.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:57:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:57:28) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting tASSOC
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to :method => :post, image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting tASSOC
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to :method => :post, image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   %>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (151.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:57:55) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tASSOC, expecting '}'
....concat(( link_to  {:method => :post}, image_tag("https://ww...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ',', expecting ')'
...( link_to  {:method => :post}, image_tag("https://www.paypal...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting ')'
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to  {:method => :post}, image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tASSOC, expecting '}'
....concat(( link_to  {:method => :post}, image_tag("https://ww...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ',', expecting ')'
...( link_to  {:method => :post}, image_tag("https://www.paypal...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting ')'
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to  {:method => :post}, image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true)   %>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (164.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:58:18) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting ')'
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ',', expecting ')'
...me, :paypal_donation => true),  {:method => :post}).to_s); @...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true),  {:method => :post}).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting ')'
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ',', expecting ')'
...me, :paypal_donation => true),  {:method => :post}).to_s); @...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true),  {:method => :post}%>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:58:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 112ms (View: 102, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:58:22) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting ')'
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ',', expecting ')'
...me, :paypal_donation => true),  {:method => :post}).to_s); @...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true),  {:method => :post}).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting ')'
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ',', expecting ')'
...me, :paypal_donation => true),  {:method => :post}).to_s); @...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true),  {:method => :post}%>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:58:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.8ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 111ms (View: 100, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:58:35) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting ')'
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ',', expecting ')'
...me, :paypal_donation => true), :method => :post).to_s); @out...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true), :method => :post).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:47:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected tIDENTIFIER, expecting ')'
...eate_express_new_donation_path(:gift_id => @donation.gift_id...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:34: syntax error, unexpected ',', expecting ')'
...me, :paypal_donation => true), :method => :post).to_s); @out...
                              ^) on line #34 of app/views/donations/_form.html.erb:
31: 	    <%= f.text_field :amount %>
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif")  create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true), :method => :post%>
35: 	<% else %>
36: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>
37: 	  <p>

    app/views/donations/_form.html.erb:47:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 11:58:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 112ms (View: 102, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 11:59:00) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (54.6ms)
Completed in 71ms (View: 60, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 12:00:26) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (32.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:02:40) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (29.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (16.0ms)
Completed in 82ms (View: 44, DB: 30) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 12:02:45) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (32.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:03:21) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected ':', expecting kEND
...e=true ;  form_for @donation :html => {:method => :post} do ...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected kDO, expecting kEND
...:html => {:method => :post} do |f| ; @output_buffer.concat "...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation :html => {:method => :post} do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat(( link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true), :method => :post ).to_s); @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected ':', expecting kEND
...e=true ;  form_for @donation :html => {:method => :post} do ...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:1: syntax error, unexpected kDO, expecting kEND
...:html => {:method => :post} do |f| ; @output_buffer.concat "...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:45: syntax error, unexpected kENSURE, expecting $end) on line #1 of app/views/donations/_form.html.erb:
1: <% form_for @donation :html => {:method => :post} do |f| %>
2:   <%= f.error_messages %>
3: 
4: 	<% if @donation.express_token.blank? %>

    app/views/donations/_form.html.erb:45:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (152.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 12:06:20) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 51ms (View: 43, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 12:06:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.8ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:06:22) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (69.0ms)
Completed in 85ms (View: 74, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-01 12:08:05) [POST]
  Parameters: {"gift_id"=>"1", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "paypal_donation"=>"true"}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (116.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:11:46) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.4ms)
Completed in 31ms (View: 21, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:12:37) [POST]
  Parameters: {"express_checkout"=>"paypal button", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.9ms)
Completed in 33ms (View: 20, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-01 12:15:10) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:15:14) [GET]
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.9ms)
Completed in 113ms (View: 102, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:15:17) [POST]
  Parameters: {"commit"=>"express checkout paypal", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"", "card_verification"=>"", "card_type"=>"visa", "amount"=>"", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (18.4ms)
Completed in 33ms (View: 20, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:18:19) [POST]
  Parameters: {"commit"=>"express checkout paypal", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"", "card_verification"=>"", "card_type"=>"visa", "amount"=>"", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (46.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (39.5ms)
Completed in 123ms (View: 65, DB: 47) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 12:18:26) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 62ms (View: 55, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 12:18:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 108ms (View: 97, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:18:30) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.3ms)
Completed in 27ms (View: 16, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:18:37) [POST]
  Parameters: {"commit"=>"express checkout paypal", "commit.x"=>"96", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"16", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (17.9ms)
Completed in 33ms (View: 20, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 12:20:24) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 6, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 12:20:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:20:27) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.6ms)
Completed in 113ms (View: 19, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:20:32) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"51", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"4", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"h", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:20:32', 'visa', NULL, NULL, '2010-09-01 19:20:32', 123.0, 'h', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (98.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:20:33', '2010-09-01 19:20:33', 'submit_donation', 12300.0, NULL, 0, 14, '--- \ntimestamp: \"2010-09-01T19:20:33Z\"\ncorrelation_id: 71d0f4eb20f0d\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1176ms (View: 2, DB: 105) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:21:19) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.4ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:22:45) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:35: syntax error, unexpected ')', expecting tASSOC
...te_express_new_donation_path ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat "\n\t  <p>"
; @output_buffer.concat(( f.submit "express_paypal", :type => "image", :src => "https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif", create_express_new_donation_path ).to_s); @output_buffer.concat "</p>\n\n\t"

;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:49:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:35: syntax error, unexpected ')', expecting tASSOC
...te_express_new_donation_path ).to_s); @output_buffer.concat ...
                              ^) on line #35 of app/views/donations/_form.html.erb:
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%#= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true), :method => :post %>
35: 	  <p><%= f.submit "express_paypal", :type => "image", :src => "https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif", create_express_new_donation_path %></p>
36: 
37: 	<% else %>
38: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>

    app/views/donations/_form.html.erb:49:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (150.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:22:50) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47_form46html46erb_locals_form_object RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:35: syntax error, unexpected ')', expecting tASSOC
...te_express_new_donation_path ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47donations47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];form = local_assigns[:form];;@output_buffer = '';  __in_erb_template=true ;  form_for @donation do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n\t"

;  if @donation.express_token.blank? ; @output_buffer.concat "\n\t\t<p>\n\t\t  "

; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_type ).to_s); @output_buffer.concat "<br />\n\t\t"
; @output_buffer.concat(( f.select :card_type, [["Visa", "visa"], ["MasterCard", "master"], ["Discover", "discover"], ["American Express", "american express"]]).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_number ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_number ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_verification, "Credit Verification Value (CVV)").to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.text_field :card_verification ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t\t  "


; @output_buffer.concat(( f.label :card_expiration ).to_s); @output_buffer.concat "<br />\n\t\t  "
; @output_buffer.concat(( f.date_select :card_expiration, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t<p>\n\t    "


; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat "<br />\n\t    "
; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat "\n\t\t  "
; @output_buffer.concat(( f.hidden_field :gift_id ).to_s); @output_buffer.concat "\n\t\t</p>\n\t\t"

; @output_buffer.concat "\n\t  <p>"
; @output_buffer.concat(( f.submit "express_paypal", :type => "image", :src => "https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif", create_express_new_donation_path ).to_s); @output_buffer.concat "</p>\n\n\t"

;  else ; @output_buffer.concat "\n\t\t<p> "
; @output_buffer.concat((h @donation.first_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.last_name ).to_s); @output_buffer.concat " "; @output_buffer.concat((h @donation.amount ).to_s); @output_buffer.concat " </p>\n\t  <p>\n\t\t\t"

; @output_buffer.concat(( f.hidden_field :express_token ).to_s); @output_buffer.concat "\n\t  </p>\n\t"

;  end ; @output_buffer.concat "\n\n  <p>"

; @output_buffer.concat(( f.submit "Submit Donation" ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:49:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3:in `_run_erb_app47views47donations47new46html46erb'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/_form.html.erb:35: syntax error, unexpected ')', expecting tASSOC
...te_express_new_donation_path ).to_s); @output_buffer.concat ...
                              ^) on line #35 of app/views/donations/_form.html.erb:
32: 		  <%= f.hidden_field :gift_id %>
33: 		</p>
34: 		<%#= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true), :method => :post %>
35: 	  <p><%= f.submit "express_paypal", :type => "image", :src => "https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif", create_express_new_donation_path %></p>
36: 
37: 	<% else %>
38: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name %> <%=h @donation.amount %> </p>

    app/views/donations/_form.html.erb:49:in `compile!'
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (151.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 12:22:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.6ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 12:26:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (1.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:26:15) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.9ms)
Completed in 30ms (View: 20, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:26:21) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"62", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"7", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"h", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:26:21', 'visa', NULL, NULL, '2010-09-01 19:26:21', 123.0, 'h', '127.0.0.1', 'fred', NULL)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:26:22', '2010-09-01 19:26:22', 'submit_donation', 12300.0, NULL, 0, 15, '--- \ntimestamp: \"2010-09-01T19:26:22Z\"\ncorrelation_id: f223b8e9ea91\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (39.5ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1005ms (View: 2, DB: 46) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:26:25) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.1ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:26:34) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.7ms)
Completed in 29ms (View: 19, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:26:38) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"59", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"11", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (4.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (3.0ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:26:38', 'visa', NULL, NULL, '2010-09-01 19:26:38', 123.0, 'd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:26:39', '2010-09-01 19:26:39', 'submit_donation', 12300.0, NULL, 0, 16, '--- \ntimestamp: \"2010-09-01T19:26:39Z\"\ncorrelation_id: 93a4a5d51d97d\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 877ms (View: 2, DB: 14) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:26:54) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.6ms)
Completed in 30ms (View: 19, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:26:58) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"50", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"7", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:26:58', 'visa', NULL, NULL, '2010-09-01 19:26:58', 123.0, 'd', '127.0.0.1', 'fred', NULL)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:26:59', '2010-09-01 19:26:59', 'submit_donation', 12300.0, NULL, 0, 17, '--- \ntimestamp: \"2010-09-01T19:26:59Z\"\ncorrelation_id: e81834d9a2d\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 720ms (View: 2, DB: 8) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:27:24) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.8ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:30:51) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (33.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.5ms)
Completed in 85ms (View: 42, DB: 33) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:30:56) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"77", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"24", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:30:56', 'visa', NULL, NULL, '2010-09-01 19:30:56', 123.0, 'd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (46.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:30:56', '2010-09-01 19:30:56', 'submit_donation', 12300.0, NULL, 0, 18, '--- \ntimestamp: \"2010-09-01T19:30:56Z\"\ncorrelation_id: f2f803eb623b5\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 767ms (View: 2, DB: 54) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:31:00) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.8ms)
Completed in 25ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:33:40) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (35.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (138.0ms)
Completed in 209ms (View: 164, DB: 36) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:33:46) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"80", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"24", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:33:46', 'visa', NULL, NULL, '2010-09-01 19:33:46', 1.0, 'd', '127.0.0.1', 'f', NULL)[0m
  [4;35;1mSQL (64.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:33:47', '2010-09-01 19:33:47', 'submit_donation', 100.0, NULL, 0, 19, '--- \ntimestamp: \"2010-09-01T19:33:46Z\"\ncorrelation_id: 5388333578d26\namount: \"1.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 832ms (View: 3, DB: 72) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:37:46) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (35.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.9ms)
Completed in 84ms (View: 40, DB: 35) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:37:49) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"111", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"12", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (16.0ms)
Completed in 31ms (View: 18, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:37:52) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"72", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"30", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"12", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:37:52', 'visa', NULL, NULL, '2010-09-01 19:37:52', 12.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (26.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (29.9ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:37:53', '2010-09-01 19:37:53', 'submit_donation', 1200.0, NULL, 0, 20, '--- \ntimestamp: \"2010-09-01T19:37:53Z\"\ncorrelation_id: fa3b1b6b6ed1d\namount: \"12.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;36;1mSQL (19.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1361ms (View: 2, DB: 81) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:46:49) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (33.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (39.9ms)
Completed in 117ms (View: 74, DB: 34) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:46:55) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"39", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"20", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1", "card_number"=>"", "last_name"=>"f", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"d"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.6ms)
Completed in 28ms (View: 14, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:48:16) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"72", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"18", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1", "card_number"=>"", "last_name"=>"f", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"d"}}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ArgumentError (Callbacks must be a symbol denoting the method to call, a string to be evaluated, a block to be invoked, or an object responding to the callback method.):
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (147.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:48:59) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"72", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"18", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1", "card_number"=>"", "last_name"=>"f", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"d"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:48:59', 'visa', NULL, NULL, '2010-09-01 19:48:59', 1.0, 'f', '127.0.0.1', 'd', NULL)[0m
  [4;35;1mSQL (35.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:49:08', '2010-09-01 19:49:08', 'submit_donation', 100.0, NULL, 0, 21, '--- \ntimestamp: \"2010-09-01T19:49:04Z\"\ncorrelation_id: 801127c15747b\namount: \"1.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 9019ms (View: 2, DB: 42) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 12:49:08) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 53ms (View: 46, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 12:49:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.1ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 113ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:49:11) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.1ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 12:49:16) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"98", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"17", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"12", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 19:49:16', 'visa', NULL, NULL, '2010-09-01 19:49:16', 12.0, 'd', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 19:49:17', '2010-09-01 19:49:17', 'submit_donation', 1200.0, NULL, 0, 22, '--- \ntimestamp: \"2010-09-01T19:49:16Z\"\ncorrelation_id: e5662ba75135b\namount: \"12.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;36;1mSQL (34.0ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 862ms (View: 2, DB: 41) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 12:59:11) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.9ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:24:21) [POST]
  Parameters: {"commit"=>"express_paypal", "commit.x"=>"51", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"7", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;36;1mDonation Columns (47.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 22:24:21', 'visa', NULL, NULL, '2010-09-01 22:24:21', 123.0, 'd', '127.0.0.1', 'f', NULL)[0m
  [4;35;1mSQL (40.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:24:22', '2010-09-01 22:24:22', 'submit_donation', 12300.0, NULL, 0, 23, '--- \ntimestamp: \"2010-09-01T22:24:21Z\"\ncorrelation_id: 8f21fddecb05a\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1143ms (View: 28, DB: 93) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 15:34:36) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (144.4ms)
Completed in 164ms (View: 153, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:34:40) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"50", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"9", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 22:34:40', 'visa', NULL, NULL, '2010-09-01 22:34:40', 123.0, 'd', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (1.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 24) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-09X06744VB0757736
  [4;36;1mDonationTransaction Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:34:41', '2010-09-01 22:34:41', 'submit_donation', 12300.0, NULL, 0, 24, '--- \ntimestamp: \"2010-09-01T22:34:41Z\"\ncorrelation_id: 6e621bed75112\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:36:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (138.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 15:37:21) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.9ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:38:32) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123", "card_number"=>"4023375661095860", "last_name"=>"e", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2015-08-01', '2010-09-01 22:38:32', 'visa', NULL, NULL, '2010-09-01 22:38:32', 123.0, 'e', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (33.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 25) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6BF51971DC029631A
  [4;36;1mDonationTransaction Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:38:38', '2010-09-01 22:38:38', 'submit_donation', 12300.0, '68D55868TP024541H', 1, 25, '--- \ntimestamp: \"2010-09-01T22:38:38Z\"\ncorrelation_id: 22b228a5de134\namount: \"123.00\"\ntransaction_id: 68D55868TP024541H\namount_currency_id: USD\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:34:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (48.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:40:29) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123", "card_number"=>"4023375661095860", "last_name"=>"e", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2015-08-01', '2010-09-01 22:40:29', 'visa', NULL, NULL, '2010-09-01 22:40:29', 123.0, 'e', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 26) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3VH7875063209893G
  [4;36;1mDonationTransaction Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (1.2ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:40:32', '2010-09-01 22:40:32', 'submit_donation', 12300.0, '0TS57271JP561502H', 1, 26, '--- \ntimestamp: \"2010-09-01T22:40:32Z\"\ncorrelation_id: 1afbf8f61c434\namount: \"123.00\"\ntransaction_id: 0TS57271JP561502H\namount_currency_id: USD\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;35;1mSQL (16.5ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:36:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (145.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:41:41) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123", "card_number"=>"4023375661095860", "last_name"=>"e", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2015-08-01', '2010-09-01 22:41:41', 'visa', NULL, NULL, '2010-09-01 22:41:41', 123.0, 'e', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 27) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-1W092507P62734813
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:41:47', '2010-09-01 22:41:47', 'submit_donation', 12300.0, '854904131G705091J', 1, 27, '--- \ntimestamp: \"2010-09-01T22:41:46Z\"\ncorrelation_id: 9204a866a5668\namount: \"123.00\"\ntransaction_id: 854904131G705091J\namount_currency_id: USD\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:36:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (153.1ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:44:10) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123", "card_number"=>"4023375661095860", "last_name"=>"e", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2015-08-01', '2010-09-01 22:44:10', 'visa', NULL, NULL, '2010-09-01 22:44:10', 123.0, 'e', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 28) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7MK16746U3424970B
  [4;36;1mDonationTransaction Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:44:13', '2010-09-01 22:44:13', 'submit_donation', 12300.0, '53S833549L234780V', 1, 28, '--- \ntimestamp: \"2010-09-01T22:44:13Z\"\ncorrelation_id: 695c58d5f1fb7\namount: \"123.00\"\ntransaction_id: 53S833549L234780V\namount_currency_id: USD\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:37:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:44:16) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"49", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"33", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"123", "card_number"=>"4023375661095860", "last_name"=>"e", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"8", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2015-08-01', '2010-09-01 22:44:16', 'visa', NULL, NULL, '2010-09-01 22:44:16', 123.0, 'e', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 29) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-8GV93050VM256143H
  [4;36;1mDonationTransaction Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:44:18', '2010-09-01 22:44:18', 'submit_donation', 12300.0, '1LY62845M14336716', 1, 29, '--- \ntimestamp: \"2010-09-01T22:44:18Z\"\ncorrelation_id: 610284a1861ee\namount: \"123.00\"\ntransaction_id: 1LY62845M14336716\namount_currency_id: USD\nbuild: \"1469275\"\nversion: \"59.0\"\navs_code: X\nack: Success\ncvv2_code: M\n', 'Success')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:37:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.1ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 15:46:34) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.5ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:46:39) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"59", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActiveRecord::RecordNotFound (Couldn't find Donation without an ID):
  app/controllers/donations_controller.rb:31:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 15:48:01) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.0ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:48:05) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"60", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"12", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 22:48:05', 'visa', NULL, NULL, '2010-09-01 22:48:05', 123.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 30) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9AF78235LG6375904

ActiveMerchant::ResponseError (Failed with 500 Internal Server Error):
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:155:in `handle_response'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:74:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal.rb:21:in `purchase'
  app/models/donation.rb:42:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:36:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (142.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:50:56) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"88", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 22:50:56', 'visa', NULL, NULL, '2010-09-01 22:50:56', 123.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.8ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 31) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5XV8288464125434T
  [4;36;1mDonationTransaction Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:50:58', '2010-09-01 22:50:58', 'submit_donation', 12300.0, NULL, 0, 31, '--- \ntimestamp: \"2010-09-01T22:50:57Z\"\ncorrelation_id: f3e77804cfca6\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:39:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (153.0ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:55:36) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"95", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"27", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (26.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 15:55:42) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (95.1ms)
Completed in 108ms (View: 97, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:55:46) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"44", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"9", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 15:55:58) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.8ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:56:03) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"50", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.3ms)
Completed in 28ms (View: 14, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:56:55) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"83", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"22", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (25.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (1.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 22:56:55', 'visa', NULL, NULL, '2010-09-01 22:56:55', 123.0, 'dd', '127.0.0.1', 'fredd', NULL)[0m
  [4;36;1mSQL (23.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 32) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9SB92288GM8123125
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:56:57', '2010-09-01 22:56:57', 'submit_donation', 12300.0, NULL, 0, 32, '--- \ntimestamp: \"2010-09-01T22:56:57Z\"\ncorrelation_id: 67f34ee614998\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:39:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (137.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:58:22) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"50", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (41.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 22:58:22', 'visa', NULL, NULL, '2010-09-01 22:58:22', 123.0, 'dd', '127.0.0.1', 'fredd', NULL)[0m
  [4;36;1mSQL (18.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 33) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6DJ05721YX774823W
  [4;36;1mDonationTransaction Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:58:23', '2010-09-01 22:58:23', 'submit_donation', 12300.0, NULL, 0, 33, '--- \ntimestamp: \"2010-09-01T22:58:23Z\"\ncorrelation_id: fdd4fe7074418\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:39:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 15:58:35) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.3ms)
Completed in 173ms (View: 70, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:58:39) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"67", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"3", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (4.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 22:58:39', 'visa', NULL, NULL, '2010-09-01 22:58:39', 123.0, 'dd', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 34) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-37P08336DY664592M
  [4;36;1mDonationTransaction Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 22:58:41', '2010-09-01 22:58:41', 'submit_donation', 12300.0, NULL, 0, 34, '--- \ntimestamp: \"2010-09-01T22:58:40Z\"\ncorrelation_id: 56609453c2ea7\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (33.8ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:39:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 15:59:58) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"96", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"14", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 22:59:58', 'visa', NULL, NULL, '2010-09-01 22:59:58', 123.0, 'dd', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (1.2ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 35) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-8U26953485193994W
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-01 23:00:00', '2010-09-01 23:00:00', 'submit_donation', 12300.0, NULL, 0, 35, '--- \ntimestamp: \"2010-09-01T23:00:00Z\"\ncorrelation_id: a57d5da919e13\namount: \"123.00\"\namount_currency_id: USD\nbuild: \"1469275\"\nerror_codes: \"10527\"\nversion: \"59.0\"\nack: Failure\nmessage: This transaction cannot be processed. Please enter a valid credit card number and type.\n', 'This transaction cannot be processed. Please enter a valid credit card number and type.')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/donations_controller.rb:39:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 16:00:51) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"29", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"14", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 23:00:51', 'visa', NULL, NULL, '2010-09-01 23:00:51', 123.0, 'dd', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (1.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 36) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7JT73223D4596903F
Completed in 660ms (DB: 6) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-01 16:01:11) [GET]
  Parameters: {"token"=>"EC-7JT73223D4596903F", "id"=>"36", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 36) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 8, DB: 3) | 200 OK [http://localhost/donations/36?token=EC-7JT73223D4596903F&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 16:01:30) [GET]
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 86ms (View: 49, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 16:01:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 37ms (View: 27, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 16:01:37) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (60.4ms)
Completed in 74ms (View: 63, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 16:01:46) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"102", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"9", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 23:01:46', 'visa', NULL, NULL, '2010-09-01 23:01:46', 123.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonation Load (1.9ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 37) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0UF65180CV5442618
Completed in 817ms (DB: 5) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-01 16:02:09) [GET]
  Parameters: {"token"=>"EC-0UF65180CV5442618", "id"=>"37", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 37) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 8, DB: 3) | 200 OK [http://localhost/donations/37?token=EC-0UF65180CV5442618&PayerID=2FX3NYJ7J7SM6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-01 16:03:27) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-01 16:03:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-01 16:03:33) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (6.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.5ms)
Completed in 31ms (View: 15, DB: 6) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-01 16:04:15) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"79", "authenticity_token"=>"5605JbvEd6x/Q5d5ylsfz3VuG9DolqnEqg9Wh2g/eyg=", "commit.y"=>"18", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"4444", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-01 23:04:15', 'visa', NULL, NULL, '2010-09-01 23:04:15', 4444.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (1.7ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 38) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-681080411S5912327
Completed in 651ms (DB: 6) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-01 16:04:59) [GET]
  Parameters: {"token"=>"EC-681080411S5912327", "id"=>"38", "PayerID"=>"2FX3NYJ7J7SM6"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 38) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 7, DB: 3) | 200 OK [http://localhost/donations/38?token=EC-681080411S5912327&PayerID=2FX3NYJ7J7SM6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-01 16:07:06) [GET]
  [4;36;1mDonation Load (0.8ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 86ms (View: 76, DB: 4) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-01 16:07:10) [GET]
  Parameters: {"id"=>"38"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 38) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 16ms (View: 7, DB: 3) | 200 OK [http://localhost/donations/38]
  [4;36;1mSQL (12.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 10:20:49) [GET]
  [4;35;1mBride Load (15.9ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (26.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 397ms (View: 250, DB: 54) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 10:21:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (26.5ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 533ms (View: 522, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 10:21:10) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (66.8ms)
Completed in 158ms (View: 129, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 10:21:15) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"50", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"16", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"g", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 17:21:15', 'visa', NULL, NULL, '2010-09-02 17:21:15', 123.0, 'g', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (81.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 39) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0FT05381UC4036729
Completed in 1075ms (DB: 85) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-02 10:32:23) [GET]
  Parameters: {"token"=>"EC-0FT05381UC4036729", "id"=>"39", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (32.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 39) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 176ms (View: 128, DB: 33) | 200 OK [http://localhost/donations/39?token=EC-0FT05381UC4036729&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 10:36:14) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 53ms (View: 46, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 10:36:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.9ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 64ms (View: 53, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2010-09-02 10:36:17) [GET]
  Parameters: {"gift_id"=>"1"}

SyntaxError (/Users/FreddyHernandezJr/code/profile/app/controllers/donations_controller.rb:29: syntax error, unexpected tASSOC, expecting kEND
        @donation.paypal_donation => true
                                    ^):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.8ms)
Rendered rescues/_request_and_response (14.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 10:36:29) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (68.9ms)
Completed in 82ms (View: 71, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 10:36:48) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"57", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"24", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 17:36:48', 'visa', NULL, NULL, '2010-09-02 17:36:48', 123.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (54.9ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-41U81086E35628715
Completed in 815ms (DB: 58) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 10:37:31) [GET]
  Parameters: {"card_expiration(3i)"=>"1", "card_verification"=>"", "gift_id"=>"1", "card_type"=>"visa", "token"=>"EC-41U81086E35628715", "amount"=>"123", "card_number"=>"", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.4ms)
Completed in 845ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?amount=123&card_expiration%281i%29=2010&card_expiration%282i%29=9&card_expiration%283i%29=1&card_number=&card_type=visa&card_verification=&first_name=fred&gift_id=1&last_name=dd&token=EC-41U81086E35628715&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 10:38:25) [GET]
  Parameters: {"card_expiration(3i)"=>"1", "card_verification"=>"", "gift_id"=>"1", "card_type"=>"visa", "token"=>"EC-41U81086E35628715", "amount"=>"123", "card_number"=>"", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (89.5ms)
Completed in 910ms (View: 92, DB: 3) | 200 OK [http://localhost/donations/new?amount=123&card_expiration%281i%29=2010&card_expiration%282i%29=9&card_expiration%283i%29=1&card_number=&card_type=visa&card_verification=&first_name=fred&gift_id=1&last_name=dd&token=EC-41U81086E35628715&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 10:38:34) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"82", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"26", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 17:38:34', 'visa', NULL, NULL, '2010-09-02 17:38:34', 123.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;35;1mSQL (86.0ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-1GT44885Y54760522
Completed in 820ms (DB: 89) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new to #<donation:0x1035eff70> (for 127.0.0.1 at 2010-09-02 10:39:15) [GET]
  Parameters: {"token"=>"EC-1GT44885Y54760522", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActionView::MissingTemplate (Missing template donations/new.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 10:52:33) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (117.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 271ms (View: 148, DB: 118) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 10:52:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 126ms (View: 116, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 10:52:36) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (34.3ms)
Completed in 69ms (View: 59, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 10:52:42) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"53", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1233", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 17:52:42', 'visa', NULL, NULL, '2010-09-02 17:52:42', 1233.0, 'ddd', '127.0.0.1', 'fredd', NULL)[0m
  [4;36;1mSQL (62.5ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-54041479N93283355
Completed in 1254ms (DB: 65) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 11:09:52) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (20.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 114ms (View: 56, DB: 21) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 11:09:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (18.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (2.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 159ms (View: 131, DB: 22) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 11:09:56) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (29.4ms)
Completed in 90ms (View: 80, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:10:03) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"65", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"4", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1233", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 18:10:03', 'visa', NULL, NULL, '2010-09-02 18:10:03', 1233.0, 'ddd', '127.0.0.1', 'fredd', NULL)[0m
  [4;36;1mSQL (39.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (185.0ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 18:10:03', `paypal_donation` = 1 WHERE `id` = 43[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m

ActiveMerchant::ConnectionError (The connection to the remote server timed out):
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:86:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:25:in `setup_purchase'
  app/controllers/donations_controller.rb:31:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (160.1ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:12:25) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"106", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"4", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1233", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (32.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 18:12:26', 'visa', NULL, NULL, '2010-09-02 18:12:26', 1233.0, 'ddd', '127.0.0.1', 'fredd', NULL)[0m
  [4;36;1mSQL (41.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 18:12:26', `paypal_donation` = 1 WHERE `id` = 44[0m
  [4;35;1mSQL (24.4ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-44G044058G863330M
Completed in 950ms (DB: 100) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new to #<donation:0x10353d870> (for 127.0.0.1 at 2010-09-02 11:12:53) [GET]
  Parameters: {"token"=>"EC-44G044058G863330M", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActionView::MissingTemplate (Missing template donations/new.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:16:34) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"90", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"22", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1233", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (44.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (39.2ms)
Completed in 161ms (View: 104, DB: 45) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:17:47) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"64", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"9", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1233", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 18:17:47', 'visa', NULL, NULL, '2010-09-02 18:17:47', 1233.0, 'ddd', '127.0.0.1', 'fredd', NULL)[0m
  [4;36;1mSQL (41.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.5ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 18:17:47', `paypal_donation` = 1 WHERE `id` = 45[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4H158963ES629645T
Completed in 866ms (DB: 45) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:19:10) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"87", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1233", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 18:19:10', 'visa', NULL, NULL, '2010-09-02 18:19:10', 1233.0, 'ddd', '127.0.0.1', 'fredd', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (1.0ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 18:19:10', `paypal_donation` = 1 WHERE `id` = 46[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4D979916SH296374M
Completed in 778ms (DB: 5) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new to #<donation:0x1033b4be8> (for 127.0.0.1 at 2010-09-02 11:25:07) [GET]
  Parameters: {"token"=>"EC-4D979916SH296374M", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (36.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

ActionView::MissingTemplate (Missing template donations/new.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:25:52) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"110", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"1", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1233", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 18:25:52', 'visa', NULL, NULL, '2010-09-02 18:25:52', 1233.0, 'ddd', '127.0.0.1', 'fredd', NULL)[0m
  [4;36;1mSQL (36.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.5ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 18:25:52', `paypal_donation` = 1 WHERE `id` = 47[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 47) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-289936465U573212L
Completed in 729ms (DB: 42) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 11:30:12) [GET]
  Parameters: {"token"=>"EC-289936465U573212L", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (37.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m

ActiveMerchant::ConnectionError (The connection to the remote server timed out):
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:86:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:29:in `details_for'
  app/models/donation.rb:27:in `express_token='
  app/controllers/donations_controller.rb:21:in `new'
  app/controllers/donations_controller.rb:21:in `new'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (54.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 11:37:21) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (26.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 306ms (View: 195, DB: 27) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 11:37:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (49.6ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 261ms (View: 250, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 11:37:26) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (57.4ms)
Completed in 118ms (View: 108, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:37:33) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"85", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"7", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1111", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 18:37:33', 'visa', NULL, NULL, '2010-09-02 18:37:33', 1111.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (31.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 18:37:33', `paypal_donation` = 1 WHERE `id` = 48[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 48) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-99F02494E1791370A
Completed in 14397ms (DB: 36) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 11:38:41) [GET]
  Parameters: {"token"=>"EC-99F02494E1791370A", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (133.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.9ms)
Completed in 35801ms (View: 89, DB: 134) | 200 OK [http://localhost/donations/new?token=EC-99F02494E1791370A&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-02 11:50:51) [GET]
  [4;36;1mDonation Load (18.2ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (34.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 210ms (View: 150, DB: 53) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-02 11:50:55) [GET]
  Parameters: {"id"=>"48"}
  [4;35;1mDonation Columns (20.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (9.1ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 48) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 57ms (View: 20, DB: 30) | 200 OK [http://localhost/donations/48]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-02 11:51:29) [GET]
  Parameters: {"id"=>"48"}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.1ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 48) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 105ms (View: 13, DB: 4) | 200 OK [http://localhost/donations/48]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-02 11:51:50) [GET]
  Parameters: {"id"=>"48"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.7ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 48) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 23ms (View: 13, DB: 4) | 200 OK [http://localhost/donations/48]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 11:54:51) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 70ms (View: 62, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 11:54:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 62ms (View: 51, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 11:54:55) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (97.0ms)
Completed in 112ms (View: 102, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:55:03) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"98", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"25", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"222", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-02 18:55:03', 'visa', NULL, NULL, '2010-09-02 18:55:03', 222.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;35;1mSQL (87.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-02 18:55:03', `paypal_donation` = 1 WHERE `id` = 49[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 49) [0m

ActiveMerchant::ConnectionError (The connection to the remote server timed out):
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:86:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:25:in `setup_purchase'
  app/controllers/donations_controller.rb:31:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.4ms)
Rendered rescues/_request_and_response (19.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 11:59:04) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"72", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"22", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"222", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (46.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-02 18:59:04', 'visa', NULL, NULL, '2010-09-02 18:59:04', 222.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (124.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 18:59:04', `paypal_donation` = 1 WHERE `id` = 50[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 50) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-01J76631L43847418
Completed in 40227ms (DB: 173) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 12:02:20) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"98", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"29", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"222", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (48.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-02 19:02:20', 'visa', NULL, NULL, '2010-09-02 19:02:20', 222.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;35;1mSQL (49.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-02 19:02:21', `paypal_donation` = 1 WHERE `id` = 51[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 51) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-10475152KA2605525
Completed in 1741ms (DB: 100) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 12:06:44) [GET]
  Parameters: {"token"=>"EC-10475152KA2605525", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (36.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.1ms)
Completed in 927ms (View: 43, DB: 37) | 200 OK [http://localhost/donations/new?token=EC-10475152KA2605525&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 12:06:48) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_token"=>"EC-10475152KA2605525"}}
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (79.6ms)
Completed in 27683ms (View: 82, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-02 12:07:25) [GET]
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 123ms (View: 111, DB: 5) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-02 12:07:32) [DELETE]
  Parameters: {"authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "id"=>"12"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (36.8ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 12[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 83ms (DB: 73) | 302 Found [http://localhost/donations/12]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-02 12:07:32) [GET]
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 238ms (View: 228, DB: 4) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-02 12:07:34) [DELETE]
  Parameters: {"authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "id"=>"13"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 13) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 13[0m
  [4;35;1mSQL (43.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 55ms (DB: 47) | 302 Found [http://localhost/donations/13]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-02 12:07:34) [GET]
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 117ms (View: 108, DB: 2) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-02 12:07:38) [GET]
  Parameters: {"id"=>"51"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 51) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 8, DB: 3) | 200 OK [http://localhost/donations/51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-02 12:08:41) [GET]
  Parameters: {"id"=>"51"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 51) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 21ms (View: 12, DB: 3) | 200 OK [http://localhost/donations/51]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 12:38:08) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (38.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 293ms (View: 133, DB: 39) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 12:38:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (40.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (6.7ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (39.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (42.9ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 467ms (View: 373, DB: 88) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 12:38:12) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (274.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (231.5ms)
Completed in 637ms (View: 352, DB: 275) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 12:38:17) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"67", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"5", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1111", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 19:38:17', 'visa', NULL, NULL, '2010-09-02 19:38:17', 1111.0, 'd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (23.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 19:38:17', `paypal_donation` = 1 WHERE `id` = 52[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 52) [0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6F1699336B940103E
Completed in 702ms (DB: 28) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 12:38:42) [GET]
  Parameters: {"token"=>"EC-6F1699336B940103E", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.3ms)
Completed in 907ms (View: 4, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-6F1699336B940103E&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 12:40:27) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"85", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"17", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"1111", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (44.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (1.8ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 19:40:27', 'visa', NULL, NULL, '2010-09-02 19:40:27', 1111.0, 'd', '127.0.0.1', 'fred', NULL)[0m
  [4;35;1mSQL (36.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-02 19:40:27', `paypal_donation` = 1 WHERE `id` = 53[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-1R680973DT637011Y
Completed in 834ms (DB: 85) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 12:40:29) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.7ms)
Completed in 111ms (View: 99, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 12:40:36) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"58", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"16", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"444", "card_number"=>"", "last_name"=>"dddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fff"}}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 19:40:36', 'visa', NULL, NULL, '2010-09-02 19:40:36', 444.0, 'dddd', '127.0.0.1', 'fff', NULL)[0m
  [4;35;1mSQL (27.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.3ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-02 19:40:36', `paypal_donation` = 1 WHERE `id` = 54[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-53730960C2578170B
Completed in 713ms (DB: 31) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 12:41:07) [GET]
  Parameters: {"token"=>"EC-53730960C2578170B", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.4ms)
Completed in 1350ms (View: 4, DB: 3) | 200 OK [http://localhost/donations/new?token=EC-53730960C2578170B&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 12:41:38) [GET]
  Parameters: {"token"=>"EC-53730960C2578170B", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.2ms)
Completed in 6957ms (View: 4, DB: 2) | 200 OK [http://localhost/donations/new?token=EC-53730960C2578170B&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-02 12:41:48) [GET]
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 237ms (View: 228, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 12:41:52) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 67ms (View: 59, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 12:41:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 56ms (View: 46, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 12:41:54) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.7ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 12:42:06) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"60", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"5", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"555", "card_number"=>"", "last_name"=>"dddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"ffff"}}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 19:42:06', 'visa', NULL, NULL, '2010-09-02 19:42:06', 555.0, 'dddd', '127.0.0.1', 'ffff', NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 19:42:06', `paypal_donation` = 1 WHERE `id` = 55[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-43M81790RV546260C
Completed in 10220ms (DB: 5) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 12:42:39) [GET]
  Parameters: {"card_expiration(3i)"=>"1", "card_verification"=>"", "gift_id"=>"1", "card_type"=>"visa", "token"=>"EC-43M81790RV546260C", "amount"=>"555", "card_number"=>"", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"dddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"ffff"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.7ms)
Completed in 792ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/new?amount=555&card_expiration%281i%29=2010&card_expiration%282i%29=9&card_expiration%283i%29=1&card_number=&card_type=visa&card_verification=&first_name=ffff&gift_id=1&last_name=dddd&token=EC-43M81790RV546260C&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 13:09:07) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (29.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 69ms (View: 34, DB: 30) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 13:09:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 46ms (View: 36, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2010-09-02 13:09:10) [GET]
  Parameters: {"gift_id"=>"1"}

SyntaxError (/Users/FreddyHernandezJr/code/profile/app/controllers/donations_controller.rb:33: syntax error, unexpected tASSOC, expecting ']'
...[:donation, paypal_donation => true]),
                              ^):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.7ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2010-09-02 13:09:22) [GET]
  Parameters: {"gift_id"=>"1"}

SyntaxError (/Users/FreddyHernandezJr/code/profile/app/controllers/donations_controller.rb:33: syntax error, unexpected tASSOC, expecting ']'
...:donation, :paypal_donation => true]),
                              ^):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 13:09:45) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (92.3ms)
Completed in 144ms (View: 134, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 13:09:54) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"97", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"23", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"999", "card_number"=>"", "last_name"=>"dddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"freddd"}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 20:09:54', 'visa', NULL, NULL, '2010-09-02 20:09:54', 999.0, 'dddd', '127.0.0.1', 'freddd', NULL)[0m
  [4;36;1mSQL (27.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 20:09:54', `paypal_donation` = 1 WHERE `id` = 56[0m
  [4;35;1mSQL (24.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5MT63808LY495703V
Completed in 738ms (DB: 56) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 13:10:19) [GET]
  Parameters: {"token"=>"EC-5MT63808LY495703V", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.8ms)
Completed in 844ms (View: 42, DB: 3) | 200 OK [http://localhost/donations/new?paypal_donation=true&token=EC-5MT63808LY495703V&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 13:11:15) [GET]
  Parameters: {"token"=>"EC-5MT63808LY495703V", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.4ms)
Completed in 816ms (View: 4, DB: 3) | 200 OK [http://localhost/donations/new?paypal_donation=true&token=EC-5MT63808LY495703V&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 13:11:23) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.1ms)
Completed in 26ms (View: 15, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 13:11:30) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"61", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"11", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"88", "card_number"=>"", "last_name"=>"dddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fff"}}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 20:11:30', 'visa', NULL, NULL, '2010-09-02 20:11:30', 88.0, 'dddd', '127.0.0.1', 'fff', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.3ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 20:11:30', `paypal_donation` = 1 WHERE `id` = 57[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3RK705430S079753E
Completed in 742ms (DB: 6) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 13:11:53) [GET]
  Parameters: {"token"=>"EC-3RK705430S079753E", "amount"=>"88.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.8ms)
Completed in 845ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?amount=88.0&paypal_donation=true&token=EC-3RK705430S079753E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 14:49:30) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (65.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 230ms (View: 159, DB: 66) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 14:49:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.8ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 66ms (View: 55, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 14:49:36) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (36.0ms)
Completed in 98ms (View: 86, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 14:49:42) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"74", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"10", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"555", "card_number"=>"", "last_name"=>"h", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 21:49:42', 'visa', NULL, NULL, '2010-09-02 21:49:42', 555.0, 'h', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (32.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 21:49:42', `paypal_donation` = 1 WHERE `id` = 58[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-66F11997C4772542E
Completed in 917ms (DB: 37) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 14:50:06) [GET]
  Parameters: {"token"=>"EC-66F11997C4772542E", "amount"=>"555.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"h", "first_name"=>"fred", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.3ms)
Completed in 868ms (View: 4, DB: 3) | 200 OK [http://localhost/donations/new?amount=555.0&first_name=fred&last_name=h&paypal_donation=true&token=EC-66F11997C4772542E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 14:51:01) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_token"=>"EC-66F11997C4772542E"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.7ms)
Completed in 814ms (View: 8, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 14:51:46) [GET]
  Parameters: {"token"=>"EC-66F11997C4772542E", "amount"=>"555.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"h", "first_name"=>"fred", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.8ms)
Completed in 840ms (View: 9, DB: 3) | 200 OK [http://localhost/donations/new?amount=555.0&first_name=fred&last_name=h&paypal_donation=true&token=EC-66F11997C4772542E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 14:53:25) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_token"=>"EC-66F11997C4772542E"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.7ms)
Completed in 869ms (View: 13, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 14:54:21) [GET]
  Parameters: {"token"=>"EC-66F11997C4772542E", "amount"=>"555.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"h", "first_name"=>"fred", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (44.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47new46html46erb RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...er.concat((if params[:amount]).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47donations47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "New Donation" ; @output_buffer.concat "\n\n"

; @output_buffer.concat((if params[:amount]).to_s); @output_buffer.concat "\n"
; @output_buffer.concat((params[:amount ]).to_s); @output_buffer.concat "\n\n\n"


; @output_buffer.concat(( render :partial => 'form' ).to_s); @output_buffer.concat "\n\n<p>"

; @output_buffer.concat(( link_to "Back to List", donations_path ).to_s); @output_buffer.concat "</p>\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:13:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...er.concat((if params[:amount]).to_s); @output_buffer.concat ...
                              ^) on line #3 of app/views/donations/new.html.erb:
1: <% title "New Donation" %>
2: 
3: <%=if params[:amount]%>
4: <%=params[:amount ]%>
5: 
6: 

    app/views/donations/new.html.erb:13:in `compile!'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (142.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 14:54:29) [GET]
  Parameters: {"token"=>"EC-66F11997C4772542E", "amount"=>"555.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"h", "first_name"=>"fred", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
ERROR: compiling _run_erb_app47views47donations47new46html46erb RAISED compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...er.concat((if params[:amount]).to_s); @output_buffer.concat ...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:11: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47donations47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "New Donation" ; @output_buffer.concat "\n\n"

; @output_buffer.concat((if params[:amount]).to_s); @output_buffer.concat "\n"
; @output_buffer.concat((params[:amount ]).to_s); @output_buffer.concat "\n"
; end; @output_buffer.concat "\n\n"

; @output_buffer.concat(( render :partial => 'form' ).to_s); @output_buffer.concat "\n\n<p>"

; @output_buffer.concat(( link_to "Back to List", donations_path ).to_s); @output_buffer.concat "</p>\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:11:in `compile!'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/Users/FreddyHernandezJr/.rvm/gems/ruby-1.8.7-p174/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:3: syntax error, unexpected ')', expecting kTHEN or ':' or '\n' or ';'
...er.concat((if params[:amount]).to_s); @output_buffer.concat ...
                              ^
/Users/FreddyHernandezJr/code/profile/app/views/donations/new.html.erb:11: syntax error, unexpected kENSURE, expecting $end) on line #3 of app/views/donations/new.html.erb:
1: <% title "New Donation" %>
2: 
3: <%=if params[:amount]%>
4: <%=params[:amount ]%>
5: <%end%>
6: 

    app/views/donations/new.html.erb:11:in `compile!'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (140.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 14:54:42) [GET]
  Parameters: {"token"=>"EC-66F11997C4772542E", "amount"=>"555.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"h", "first_name"=>"fred", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (2.1ms)
Completed in 826ms (View: 8, DB: 3) | 200 OK [http://localhost/donations/new?amount=555.0&first_name=fred&last_name=h&paypal_donation=true&token=EC-66F11997C4772542E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:03:08) [GET]
  Parameters: {"token"=>"EC-66F11997C4772542E", "amount"=>"555.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"h", "first_name"=>"fred", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (36.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.6ms)
Completed in 1033ms (View: 37, DB: 37) | 200 OK [http://localhost/donations/new?amount=555.0&first_name=fred&last_name=h&paypal_donation=true&token=EC-66F11997C4772542E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:03:20) [GET]
  Parameters: {"token"=>"EC-66F11997C4772542E", "amount"=>"555.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"h", "first_name"=>"fred", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.6ms)
Completed in 880ms (View: 9, DB: 3) | 200 OK [http://localhost/donations/new?amount=555.0&first_name=fred&last_name=h&paypal_donation=true&token=EC-66F11997C4772542E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:14:51) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-66F11997C4772542E", "amount"=>"555.0", "last_name"=>"h", "paypal_donation"=>"true", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (39.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-09-02 22:14:52', NULL, 'WR7XWRYN233AL', 'EC-66F11997C4772542E', '2010-09-02 22:14:52', 555.0, 'h', '127.0.0.1', 'fred', 1)[0m
  [4;36;1mSQL (39.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6AJ21926X7118933K
Completed in 1760ms (DB: 80) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:15:25) [GET]
  Parameters: {"token"=>"EC-6AJ21926X7118933K", "amount"=>"555.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"h", "first_name"=>"fred", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (4.8ms)
Completed in 1033ms (View: 40, DB: 2) | 200 OK [http://localhost/donations/new?amount=555.0&first_name=fred&last_name=h&paypal_donation=true&token=EC-6AJ21926X7118933K&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 15:19:28) [GET]
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (122.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 194ms (View: 66, DB: 123) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 15:19:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 41ms (View: 28, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:19:32) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (40.7ms)
Completed in 113ms (View: 103, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:19:41) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"91", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"22", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"199", "card_number"=>"", "last_name"=>"ger", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}

NoMethodError (undefined method `express_token' for nil:NilClass):
  app/controllers/donations_controller.rb:25:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (131.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:32:38) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (26.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (34.9ms)
Completed in 127ms (View: 91, DB: 27) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:32:44) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"95", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"24", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"655", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}

NoMethodError (undefined method `paypal_donation' for nil:NilClass):
  app/controllers/donations_controller.rb:25:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:33:28) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.9ms)
Completed in 26ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:33:35) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"75", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"6", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"322", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m

NoMethodError (undefined method `isblank?' for nil:NilClass):
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:33:49) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.6ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:33:53) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"56", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"11", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"211", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;36;1mDonation Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (41.9ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 22:33:53', 'visa', NULL, NULL, '2010-09-02 22:33:53', 211.0, 'dd', '127.0.0.1', 'fredd', NULL)[0m
  [4;35;1mSQL (41.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.5ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-02 22:33:53', `paypal_donation` = 1 WHERE `id` = 60[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-74603562JA6516337
Completed in 1183ms (DB: 88) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:34:19) [GET]
  Parameters: {"token"=>"EC-74603562JA6516337", "amount"=>"211.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"dd", "first_name"=>"fredd", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.6ms)
Completed in 811ms (View: 6, DB: 4) | 200 OK [http://localhost/donations/new?amount=211.0&first_name=fredd&last_name=dd&paypal_donation=true&token=EC-74603562JA6516337&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:34:24) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-74603562JA6516337", "amount"=>"", "last_name"=>"hernandez", "paypal_donation"=>"", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:21:in `price_in_cents'
  app/models/donation.rb:45:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:28:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 15:35:27) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (26.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 110ms (View: 77, DB: 27) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 15:35:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.8ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 66ms (View: 56, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:35:30) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.4ms)
Completed in 25ms (View: 13, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:35:38) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"56", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"11", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"211", "card_number"=>"", "last_name"=>"hernandez", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 22:35:38', 'visa', NULL, NULL, '2010-09-02 22:35:38', 211.0, 'hernandez', '127.0.0.1', 'freddy', NULL)[0m
  [4;35;1mSQL (43.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-02 22:35:38', `paypal_donation` = 1 WHERE `id` = 61[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5WL46446UU495201E
Completed in 740ms (DB: 49) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:35:56) [GET]
  Parameters: {"token"=>"EC-5WL46446UU495201E", "amount"=>"211.0", "PayerID"=>"WR7XWRYN233AL", "last_name"=>"hernandez", "first_name"=>"freddy", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.6ms)
Completed in 1425ms (View: 5, DB: 4) | 200 OK [http://localhost/donations/new?amount=211.0&first_name=freddy&last_name=hernandez&paypal_donation=true&token=EC-5WL46446UU495201E&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:36:03) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-5WL46446UU495201E", "amount"=>"", "last_name"=>"hernandez", "paypal_donation"=>"", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:21:in `price_in_cents'
  app/models/donation.rb:45:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:29:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:49:05) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (37.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (36.0ms)
Completed in 119ms (View: 72, DB: 38) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:49:11) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"62", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"23", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"322", "card_number"=>"", "last_name"=>"her", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 22:49:11', 'visa', NULL, NULL, '2010-09-02 22:49:11', 322.0, 'her', '127.0.0.1', 'fred', NULL)[0m
  [4;35;1mSQL (23.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-02 22:49:11', `paypal_donation` = 1 WHERE `id` = 62[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-92M82440E9106641C
Completed in 743ms (DB: 27) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:49:36) [GET]
  Parameters: {"token"=>"EC-92M82440E9106641C", "amount"=>"322.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.2ms)
Completed in 917ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?amount=322.0&paypal_donation=true&token=EC-92M82440E9106641C&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:49:43) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-92M82440E9106641C", "amount"=>"", "paypal_donation"=>""}}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:21:in `price_in_cents'
  app/models/donation.rb:45:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:28:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 15:52:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.0ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 35ms (View: 24, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 15:52:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (1.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.2ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 13, DB: 7) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 15:52:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.9ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 26ms (View: 15, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:52:04) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.3ms)
Completed in 25ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:52:09) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"55", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"1", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"221", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fff"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:52:26) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"83", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"23", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"221", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fff"}}
  [4;35;1mDonation Columns (6.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 15:52:54) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 18ms (View: 8, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 15:52:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:52:57) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.8ms)
Completed in 25ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:53:02) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"74", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"6", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"222", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"ff"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 22:53:02', 'visa', NULL, NULL, '2010-09-02 22:53:02', 222.0, 'ddd', '127.0.0.1', 'ff', NULL)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (1.8ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 22:53:02', `paypal_donation` = 1 WHERE `id` = 63[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7XE83893ES8863815
Completed in 840ms (DB: 6) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 15:53:31) [GET]
  Parameters: {"token"=>"EC-7XE83893ES8863815", "amount"=>"222.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.0ms)
Completed in 798ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?amount=222.0&paypal_donation=true&token=EC-7XE83893ES8863815&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:53:33) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-7XE83893ES8863815", "amount"=>"", "paypal_donation"=>""}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:21:in `price_in_cents'
  app/models/donation.rb:45:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:30:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (133.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 15:53:59) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-7XE83893ES8863815", "amount"=>"", "paypal_donation"=>""}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.*):
  app/models/donation.rb:21:in `price_in_cents'
  app/models/donation.rb:45:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:31:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-02 16:02:42) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 15ms (View: 6, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-02 16:02:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 16:02:44) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.9ms)
Completed in 30ms (View: 19, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 16:02:49) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"72", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "commit.y"=>"8", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"122", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (76.6ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-02 23:02:49', 'visa', NULL, NULL, '2010-09-02 23:02:49', 122.0, 'dd', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-02 23:02:49', `paypal_donation` = 1 WHERE `id` = 64[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-71H44442DK040940N
Completed in 792ms (DB: 82) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-02 16:03:06) [GET]
  Parameters: {"token"=>"EC-71H44442DK040940N", "amount"=>"122.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (182.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.1ms)
Completed in 1050ms (View: 5, DB: 182) | 200 OK [http://localhost/donations/new?amount=122.0&paypal_donation=true&token=EC-71H44442DK040940N&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-02 16:03:09) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"IG/FPphd0s1nN9/1TWRz6bDS4QK5Z1Q70uO9jRs2Z3s=", "donation"=>{"express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-71H44442DK040940N", "amount"=>"122.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-09-02 23:03:09', NULL, 'WR7XWRYN233AL', 'EC-71H44442DK040940N', '2010-09-02 23:03:09', 122.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (16.8ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (78.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-02 23:03:14', '2010-09-02 23:03:14', 'submit_donation', 12200.0, '2CU25036EE121700M', 1, 65, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: c54479e557561\ntimestamp: \"2010-09-02T23:03:14Z\"\ntoken: EC-71H44442DK040940N\npending_reason: none\ntransaction_id: 2CU25036EE121700M\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"3.84\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"122.00\"\nack: Success\npayment_date: \"2010-09-02T23:03:12Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 5421ms (View: 31, DB: 101) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (113.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-05 15:23:29) [GET]
  [4;35;1mBride Load (729.7ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (50.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 1120ms (View: 277, DB: 894) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-05 15:23:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (40.7ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (45.1ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (24.8ms)
Rendered gifts/_gift_listing (0.6ms)
Completed in 302ms (View: 205, DB: 91) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-05 15:23:51) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (46.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (64.8ms)
Completed in 225ms (View: 154, DB: 47) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-05 15:24:05) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"70", "authenticity_token"=>"d8Pnc+ZViQlIuwQMXj+QTh8+nCOFFByN+d5uDFaItjk=", "commit.y"=>"19", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"hernadnez", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (35.8ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-05 22:24:05', 'visa', NULL, NULL, '2010-09-05 22:24:05', 123.0, 'hernadnez', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (16.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.8ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-05 22:24:05', `paypal_donation` = 1 WHERE `id` = 66[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7BT522204T573324W
Completed in 1712ms (DB: 59) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-05 15:24:34) [GET]
  Parameters: {"token"=>"EC-7BT522204T573324W", "amount"=>"123.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (4.4ms)
Completed in 879ms (View: 28, DB: 3) | 200 OK [http://localhost/donations/new?amount=123.0&paypal_donation=true&token=EC-7BT522204T573324W&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-05 15:24:50) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"d8Pnc+ZViQlIuwQMXj+QTh8+nCOFFByN+d5uDFaItjk=", "donation"=>{"gift_id"=>"", "express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-7BT522204T573324W", "amount"=>"123.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-09-05 22:25:03', NULL, 'WR7XWRYN233AL', 'EC-7BT522204T573324W', '2010-09-05 22:25:03', 123.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (74.6ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (20.5ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-05 22:25:06', '2010-09-05 22:25:06', 'submit_donation', 12300.0, '9A122413UW6828944', 1, 67, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-05T22:25:06Z\"\ncorrelation_id: 33d93c6c37bcd\npending_reason: none\ntoken: EC-7BT522204T573324W\ntransaction_id: 9A122413UW6828944\nbuild: \"1482946\"\nfee_amount_currency_id: USD\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"3.87\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"123.00\"\nack: Success\npayment_date: \"2010-09-05T22:25:06Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (23.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 16530ms (View: 26, DB: 123) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (220.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 10:31:37) [GET]
  [4;35;1mBride Load (327.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (536.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 1534ms (View: 597, DB: 1085) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 10:31:39) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 7, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 10:31:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (73.9ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (44.8ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (27.9ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 230ms (View: 100, DB: 124) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:31:43) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (4.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (65.9ms)
Completed in 179ms (View: 139, DB: 5) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 10:31:51) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"87", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "commit.y"=>"9", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"444", "card_number"=>"", "last_name"=>"h", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (30.8ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (106.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-07 17:31:52', 'visa', NULL, NULL, '2010-09-07 17:31:52', 444.0, 'h', '127.0.0.1', 'f', NULL)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.6ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-07 17:31:52', `paypal_donation` = 1 WHERE `id` = 68[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0HU59635YF998963V
Completed in 1587ms (DB: 143) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:37:16) [GET]
  Parameters: {"token"=>"EC-0HU59635YF998963V", "amount"=>"444.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (31.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (4.1ms)
Completed in 957ms (View: 60, DB: 32) | 200 OK [http://localhost/donations/new?amount=444.0&paypal_donation=true&token=EC-0HU59635YF998963V&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 10:39:00) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "donation"=>{"gift_id"=>"", "express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-0HU59635YF998963V", "amount"=>"444.0", "paypal_donation"=>"true"}}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(NULL, NULL, '2010-09-07 17:39:00', NULL, 'WR7XWRYN233AL', 'EC-0HU59635YF998963V', '2010-09-07 17:39:00', 444.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (44.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (63.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.5ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-07 17:39:04', '2010-09-07 17:39:04', 'submit_donation', 44400.0, '1CY828419U502723X', 1, 69, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-07T17:39:04Z\"\ncorrelation_id: fe161c88647d8\npending_reason: none\ntoken: EC-0HU59635YF998963V\ntransaction_id: 1CY828419U502723X\nbuild: \"1482946\"\nfee_amount_currency_id: USD\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"13.18\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"444.00\"\nack: Success\npayment_date: \"2010-09-07T17:39:03Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 4750ms (View: 113, DB: 112) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 10:40:17) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 52ms (View: 45, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 10:40:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 105ms (View: 94, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:40:59) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (70.4ms)
Completed in 83ms (View: 73, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 10:41:05) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"83", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "commit.y"=>"21", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"333", "card_number"=>"", "last_name"=>"g", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (5.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (17.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-07 17:41:05', 'visa', NULL, NULL, '2010-09-07 17:41:05', 333.0, 'g', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-07 17:41:05', `paypal_donation` = 1 WHERE `id` = 70[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7GX1835265231564H
Completed in 781ms (DB: 25) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:41:33) [GET]
  Parameters: {"gift_id"=>"1", "token"=>"EC-7GX1835265231564H", "amount"=>"333.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.4ms)
Completed in 1241ms (View: 5, DB: 3) | 200 OK [http://localhost/donations/new?amount=333.0&gift_id=1&paypal_donation=true&token=EC-7GX1835265231564H&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 10:41:39) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "donation"=>{"gift_id"=>"1", "express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-7GX1835265231564H", "amount"=>"333.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (23.8ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, NULL, '2010-09-07 17:41:40', NULL, 'WR7XWRYN233AL', 'EC-7GX1835265231564H', '2010-09-07 17:41:40', 333.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-07 17:41:44', '2010-09-07 17:41:44', 'submit_donation', 33300.0, '27F775402H6841311', 1, 71, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-07T17:41:44Z\"\ncorrelation_id: b79fb1235af02\npending_reason: none\ntoken: EC-7GX1835265231564H\ntransaction_id: 27F775402H6841311\nbuild: \"1482946\"\nfee_amount_currency_id: USD\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"9.96\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"333.00\"\nack: Success\npayment_date: \"2010-09-07T17:41:43Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 4337ms (View: 2, DB: 31) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 10:44:55) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 106ms (View: 6, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 10:44:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.7ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 14, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:46:09) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.8ms)
Completed in 24ms (View: 14, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 10:46:23) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"79", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "commit.y"=>"12", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"599", "card_number"=>"", "last_name"=>"hernandez", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"frederick"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-07 17:46:23', 'visa', NULL, NULL, '2010-09-07 17:46:23', 599.0, 'hernandez', '127.0.0.1', 'frederick', NULL)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.3ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-07 17:46:23', `paypal_donation` = 1 WHERE `id` = 72[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-44420918YW115862S
Completed in 948ms (DB: 6) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:46:55) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-44420918YW115862S", "amount"=>"599.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.5ms)
Completed in 920ms (View: 6, DB: 2) | 200 OK [http://localhost/donations/new?amount=599.0&gift_id=2&paypal_donation=true&token=EC-44420918YW115862S&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:47:19) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-44420918YW115862S", "amount"=>"599.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.2ms)
Completed in 908ms (View: 10, DB: 3) | 200 OK [http://localhost/donations/new?amount=599.0&gift_id=2&paypal_donation=true&token=EC-44420918YW115862S&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 10:47:21) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "donation"=>{"gift_id"=>"2", "express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-44420918YW115862S", "amount"=>"599.0", "paypal_donation"=>"true"}}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, NULL, '2010-09-07 17:47:22', NULL, 'WR7XWRYN233AL', 'EC-44420918YW115862S', '2010-09-07 17:47:22', 599.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (24.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (1.0ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-07 17:47:25', '2010-09-07 17:47:25', 'submit_donation', 59900.0, '4EW49978CC277921D', 1, 73, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-07T17:47:25Z\"\ncorrelation_id: b638aa97a11f2\npending_reason: none\ntoken: EC-44420918YW115862S\ntransaction_id: 4EW49978CC277921D\nbuild: \"1482946\"\nfee_amount_currency_id: USD\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"17.67\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"599.00\"\nack: Success\npayment_date: \"2010-09-07T17:47:24Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 4102ms (View: 1, DB: 31) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 10:49:57) [GET]
  [4;35;1mBride Load (0.6ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 71ms (View: 41, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 10:49:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (18.0ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 66ms (View: 53, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:50:00) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (43.1ms)
Completed in 160ms (View: 145, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 10:50:12) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"37", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "commit.y"=>"10", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"699", "card_number"=>"", "last_name"=>"h", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (24.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (18.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-07 17:50:12', 'visa', NULL, NULL, '2010-09-07 17:50:12', 699.0, 'h', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (35.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-07 17:50:12', `paypal_donation` = 1 WHERE `id` = 74[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4V906556P9469712S
Completed in 888ms (DB: 80) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 10:51:22) [GET]
  Parameters: {"gift_id"=>"1", "token"=>"EC-4V906556P9469712S", "amount"=>"699.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (92.4ms)
Completed in 1043ms (View: 114, DB: 2) | 200 OK [http://localhost/donations/new?amount=699.0&gift_id=1&paypal_donation=true&token=EC-4V906556P9469712S&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 10:51:29) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "donation"=>{"gift_id"=>"1", "express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-4V906556P9469712S", "amount"=>"699.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, NULL, '2010-09-07 17:51:30', NULL, 'WR7XWRYN233AL', 'EC-4V906556P9469712S', '2010-09-07 17:51:30', 699.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (34.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.5ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-07 17:51:34', '2010-09-07 17:51:34', 'submit_donation', 69900.0, '67L74247T44339722', 1, 75, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-07T17:51:34Z\"\ncorrelation_id: 7657f8e7dacb0\npending_reason: none\ntoken: EC-4V906556P9469712S\ntransaction_id: 67L74247T44339722\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"20.57\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"699.00\"\nack: Success\npayment_date: \"2010-09-07T17:51:33Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
  [4;35;1mDonation Load (23.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`amount` = 699) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`amount` = 699) [0m
  [4;35;1mDonationTransaction Load (0.8ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.`success` = 1) [0m
  [4;36;1mDonationTransaction Load (77.8ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.`amount` = 699 AND `donation_transactions`.`success` = 1) [0m
  [4;35;1mDonationTransaction Load (0.8ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.`amount` = 599 AND `donation_transactions`.`success` = 1) [0m
  [4;36;1mDonationTransaction Load (1.1ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.`amount` = 59900 AND `donation_transactions`.`success` = 1) [0m
Completed in 1585523ms (View: 6, DB: 144) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (42.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (201.1ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (301.8ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (120.1ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (121.1ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (128.0ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gift_id` int(11), `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `amount` float, `express_token` varchar(255), `express_payer_id` varchar(255), `paypal_donation` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (109.5ms)[0m   [0mCREATE TABLE `donation_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `donation_id` int(11), `action` varchar(255), `amount` float, `success` tinyint(1), `authorization` varchar(255), `message` varchar(255), `params` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825203335')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (21.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (2.6ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mdescribe `donation_transactions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `donation_transactions`[0m
  [4;36;1mSQL (33.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (2.8ms)[0m   [0mdescribe `donations`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `donations`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 11:23:44) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 119ms (View: 87, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-09-07 11:23:46) [GET]
  [4;35;1mBride Columns (21.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (71.1ms)
Completed in 143ms (View: 93, DB: 24) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-09-07 11:24:16) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"7", "wedding_day(4i)"=>"18", "gifts_attributes"=>{"0"=>{"price"=>"500.00", "name"=>"iPhone", "total_donations"=>"0"}, "1"=>{"price"=>"700.00", "name"=>"Purse", "total_donations"=>"0"}}, "wedding_day(5i)"=>"23"}}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (0.3ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('Barbie', '2010-09-07 18:24:16', '2010-09-07 18:24:16', '2010-09-07')[0m
  [4;36;1mGift Create (0.2ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('iPhone', 500.0, '2010-09-07 18:24:16', '2010-09-07 18:24:16', 1, 0.0)[0m
  [4;35;1mGift Create (0.1ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('Purse', 700.0, '2010-09-07 18:24:16', '2010-09-07 18:24:16', 1, 0.0)[0m
  [4;36;1mSQL (29.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 60ms (DB: 35) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 11:24:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.2ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (30.1ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 106ms (View: 90, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 11:24:20) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (18.5ms)
Completed in 99ms (View: 81, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 11:24:33) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"89", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"299", "card_number"=>"", "last_name"=>"g", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (20.7ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-07 18:24:33', 'visa', NULL, NULL, '2010-09-07 18:24:33', 299.0, 'g', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-07 18:24:33', `paypal_donation` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-16429485L96206308
Completed in 1338ms (DB: 25) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 11:25:12) [GET]
  Parameters: {"gift_id"=>"1", "token"=>"EC-16429485L96206308", "amount"=>"299.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.9ms)
Completed in 832ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/new?amount=299.0&gift_id=1&paypal_donation=true&token=EC-16429485L96206308&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 11:25:22) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "donation"=>{"gift_id"=>"1", "express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-16429485L96206308", "amount"=>"299.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (36.9ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, NULL, '2010-09-07 18:25:22', NULL, 'WR7XWRYN233AL', 'EC-16429485L96206308', '2010-09-07 18:25:22', 299.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m

NameError (undefined local variable or method `response' for #<Donation:0x102fdaab8>):
  app/models/donation.rb:46:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:29:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.3ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 11:26:38) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "donation"=>{"gift_id"=>"1", "express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-16429485L96206308", "amount"=>"299.0", "paypal_donation"=>"true"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, NULL, '2010-09-07 18:26:39', NULL, 'WR7XWRYN233AL', 'EC-16429485L96206308', '2010-09-07 18:26:39', 299.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-07 18:26:39', '2010-09-07 18:26:39', 'submit_express_donation', 29900.0, NULL, 0, 3, '--- \ndo_express_checkout_payment_response_details: \ncorrelation_id: bbfed41782b68\ntimestamp: \"2010-09-07T18:26:39Z\"\nbuild: \"1482946\"\nerror_codes: \"10415\"\nversion: \"59.0\"\nack: Failure\nmessage: A successful transaction has already been completed for this token.\n', 'A successful transaction has already been completed for this token.')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1856ms (View: 39, DB: 9) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 11:26:54) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 16ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 11:26:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.8ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 29ms (View: 17, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 11:26:58) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.1ms)
Completed in 30ms (View: 17, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 11:27:06) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"73", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "commit.y"=>"22", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"499", "card_number"=>"", "last_name"=>"gg", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (11.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (33.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-07 18:27:06', 'visa', NULL, NULL, '2010-09-07 18:27:06', 499.0, 'gg', '127.0.0.1', 'fred', NULL)[0m
  [4;36;1mSQL (25.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-07 18:27:06', `paypal_donation` = 1 WHERE `id` = 4[0m
  [4;35;1mSQL (145.2ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9W066897449611728
Completed in 963ms (DB: 217) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-07 11:27:26) [GET]
  Parameters: {"gift_id"=>"1", "token"=>"EC-9W066897449611728", "amount"=>"499.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (4.0ms)
Completed in 1022ms (View: 6, DB: 2) | 200 OK [http://localhost/donations/new?amount=499.0&gift_id=1&paypal_donation=true&token=EC-9W066897449611728&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-07 11:27:31) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0t2DfjgSwlcTcD9FRojtCXkXxfzD4qUGcG0uzOM1XJc=", "donation"=>{"gift_id"=>"1", "express_payer_id"=>"WR7XWRYN233AL", "express_token"=>"EC-9W066897449611728", "amount"=>"499.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (20.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, NULL, '2010-09-07 18:27:32', NULL, 'WR7XWRYN233AL', 'EC-9W066897449611728', '2010-09-07 18:27:32', 499.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (213.2ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-07 18:27:36', '2010-09-07 18:27:36', 'submit_express_donation', 49900.0, '3T28807602353812D', 1, 5, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: a95ad31b2542\ntimestamp: \"2010-09-07T18:27:35Z\"\ntoken: EC-9W066897449611728\npending_reason: none\ntransaction_id: 3T28807602353812D\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"14.77\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"499.00\"\nack: Success\npayment_date: \"2010-09-07T18:27:35Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
  [4;36;1mSQL (39.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `donations` [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `donation_transactions` [0m
  [4;36;1mDonationTransaction Load (1.0ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.`success` = 1) [0m
Completed in 328303ms (View: 6, DB: 279) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-07 11:47:22) [GET]
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (38.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 161ms (View: 112, DB: 39) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-07 11:47:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 74ms (View: 62, DB: 3) | 200 OK [http://localhost/donations/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-07 11:47:28) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 32ms (View: 22, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-07 11:47:54) [GET]

ActionController::RoutingError (No route matches "/donationtransactions" with {:method=>:get}):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-07 11:47:58) [GET]

ActionController::RoutingError (No route matches "/donationtransaction" with {:method=>:get}):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-07 11:48:04) [GET]

ActionController::RoutingError (No route matches "/transactions" with {:method=>:get}):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 11:48:07) [GET]
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (24.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 72ms (View: 41, DB: 25) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 11:48:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (22.2ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 56ms (View: 44, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (24.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGift Load (24.8ms)[0m   [0mSELECT * FROM `gifts` [0m
  [4;36;1mGift Columns (64.0ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (49.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mGift Load (27.0ms)[0m   [0;1mSELECT * FROM `gifts` LIMIT 1[0m
  [4;35;1mGift Load (2.0ms)[0m   [0mSELECT * FROM `gifts` LIMIT 1[0m
  [4;36;1mDonation Load (22.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.7ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
  [4;35;1mDonation Load (66.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1 AND (`donations`.`amount` = 299)) [0m
  [4;36;1mSQL (63.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mDonation Load (0.8ms)[0m   [0mSELECT * FROM `donations` [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `donations` [0m
  [4;35;1mDonation Load (1.9ms)[0m   [0mSELECT * FROM `donations` LIMIT 1[0m
  [4;36;1mDonationTransaction Load (38.7ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 1) [0m
  [4;35;1mSQL (56.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mDonation Load (0.7ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 3) [0m
  [4;35;1mDonationTransaction Load (0.7ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 3) [0m
  [4;36;1mDonationTransaction Columns (91.6ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (31.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 14:28:40) [GET]
  [4;35;1mBride Load (31.2ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 318ms (View: 223, DB: 64) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 14:28:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (22.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (5.9ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show

ActionView::TemplateError (/Users/FreddyHernandezJr/code/profile/app/models/gift.rb:10: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.') on line #12 of app/views/brides/show.html.erb:
9:   <%=h @bride.wedding_day %>
10: </p>
11:   <h2>Gifts:</h2>
12: 	<% @bride.gifts.each do |g| %>
13: 	<%= render "gifts/gift_listing", :g => g %>
14: 	<% end %>
15: 

    app/views/brides/show.html.erb:12
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (72.9ms)
Rendered rescues/_request_and_response (23.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 14:31:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.9ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (28.9ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 82ms (View: 71, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 14:32:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (28.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show

ActionView::TemplateError (/Users/FreddyHernandezJr/code/profile/app/models/gift.rb:10: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.') on line #12 of app/views/brides/show.html.erb:
9:   <%=h @bride.wedding_day %>
10: </p>
11:   <h2>Gifts:</h2>
12: 	<% @bride.gifts.each do |g| %>
13: 	<%= render "gifts/gift_listing", :g => g %>
14: 	<% end %>
15: 

    app/views/brides/show.html.erb:12
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (68.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 14:33:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show

ActionView::TemplateError (/Users/FreddyHernandezJr/code/profile/app/models/gift.rb:10: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.') on line #12 of app/views/brides/show.html.erb:
9:   <%=h @bride.wedding_day %>
10: </p>
11:   <h2>Gifts:</h2>
12: 	<% @bride.gifts.each do |g| %>
13: 	<%= render "gifts/gift_listing", :g => g %>
14: 	<% end %>
15: 

    app/views/brides/show.html.erb:12
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (70.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 14:33:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show

ActionView::TemplateError (/Users/FreddyHernandezJr/code/profile/app/models/gift.rb:10: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.') on line #12 of app/views/brides/show.html.erb:
9:   <%=h @bride.wedding_day %>
10: </p>
11:   <h2>Gifts:</h2>
12: 	<% @bride.gifts.each do |g| %>
13: 	<%= render "gifts/gift_listing", :g => g %>
14: 	<% end %>
15: 

    app/views/brides/show.html.erb:12
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (159.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 14:33:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.8ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show

ActionView::TemplateError (/Users/FreddyHernandezJr/code/profile/app/models/gift.rb:10: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.') on line #12 of app/views/brides/show.html.erb:
9:   <%=h @bride.wedding_day %>
10: </p>
11:   <h2>Gifts:</h2>
12: 	<% @bride.gifts.each do |g| %>
13: 	<%= render "gifts/gift_listing", :g => g %>
14: 	<% end %>
15: 

    app/views/brides/show.html.erb:12
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (159.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (57.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 15:42:18) [GET]
  [4;35;1mBride Load (182.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (126.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 590ms (View: 217, DB: 366) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 15:42:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (46.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (44.8ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (18.1ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 284ms (View: 181, DB: 96) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 15:57:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (54.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (10.6ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (8.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (8.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (31.2ms)
Rendered gifts/_gift_listing (0.6ms)
Completed in 543ms (View: 312, DB: 82) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 15:57:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.9ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 156ms (View: 116, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 15:57:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 58ms (View: 31, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 16:07:09) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (31.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 2215ms (View: 2178, DB: 32) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-09-07 16:07:13) [GET]
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (525.5ms)
Completed in 606ms (View: 592, DB: 3) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-07 16:07:19) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (33.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 47ms (View: 8, DB: 34) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-07 16:07:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 27ms (View: 16, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` [0m
  [4;36;1mGift Columns (19.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (13.6ms)[0m   [0mSELECT * FROM `gifts` LIMIT 1[0m
  [4;36;1mDonation Load (104.0ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
  [4;35;1mDonation Columns (20.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (89.0ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 1) [0m
  [4;35;1mDonation Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'donations.name' in 'where clause': SELECT * FROM `donations` WHERE (`donations`.gift_id = 1 AND (`donations`.`name` = 'fred')) [0m
  [4;36;1mSQL (116.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (192.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 11:06:21) [GET]
  [4;35;1mBride Load (519.1ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (305.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 1244ms (View: 294, DB: 1017) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 11:06:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (42.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (74.8ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.7ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (15.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (58.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (17.1ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 1) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 2) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 3) [0m
  [4;35;1mDonationTransaction Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 5) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+) on line #11 of app/views/gifts/_gift_listing.html.erb:
8: </p>
9: <p>
10:   <strong>Total Donations:</strong>
11:   <%=h g.sum_of_donations %>
12: </p>
13: <%= link_to "Make a Donation", new_donation_path(:gift_id => g.id) %>

    app/models/gift.rb:10:in `sum_of_donations'
    app/models/gift.rb:8:in `sum_of_donations'
    app/models/gift.rb:7:in `sum_of_donations'
    app/views/gifts/_gift_listing.html.erb:11
    app/views/brides/show.html.erb:13
    app/views/brides/show.html.erb:12
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (174.4ms)
Rendered rescues/_request_and_response (40.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
  [4;36;1mBride Columns (19.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.7ms)[0m   [0mSELECT * FROM `brides` LIMIT 1[0m
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
  [4;35;1mDonation Columns (45.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 1) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 2) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 3) [0m
  [4;35;1mDonationTransaction Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 11:26:17) [GET]
  [4;35;1mBride Load (21.0ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (39.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 205ms (View: 96, DB: 61) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 11:26:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (39.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (11.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.8ms)
Rendered gifts/_gift_listing (0.6ms)
Completed in 96ms (View: 38, DB: 52) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:26:21) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (251.9ms)
Completed in 406ms (View: 317, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:26:27) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"58", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"3", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (41.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (69.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:26:44) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"75", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"7", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (39.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (308.1ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 18:26:44', 'visa', NULL, NULL, '2010-09-08 18:26:44', 123.0, 'd', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (79.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (144.0ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 18:26:45', `paypal_donation` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9M588993TK345792L
Completed in 2035ms (DB: 572) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (37.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:31:47) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (131.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (158.5ms)
Completed in 340ms (View: 199, DB: 169) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:31:53) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"88", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"25", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"222", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (29.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (14.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 18:31:53', 'visa', NULL, NULL, '2010-09-08 18:31:53', 222.0, 'dd', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (38.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (59.6ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 18:31:53', `paypal_donation` = 1 WHERE `id` = 7[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-97508351PJ235224G
Completed in 921ms (DB: 143) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:32:25) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"89", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"17", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"222", "card_type"=>"visa", "amount"=>"222", "card_number"=>"232", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (135.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:32:58) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.6ms)
Completed in 26ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:33:23) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"54", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"20", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"333", "card_type"=>"visa", "amount"=>"3222", "card_number"=>"123", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"frederick"}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:35:49) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"73", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"33", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"333", "card_type"=>"visa", "amount"=>"3222", "card_number"=>"123", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"frederick"}}
  [4;35;1mDonation Columns (42.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:36:31) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"96", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"17", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"3222", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"frederick"}}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (38.5ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 18:36:31', 'visa', NULL, NULL, '2010-09-08 18:36:31', 3222.0, 'ddd', '127.0.0.1', 'frederick', NULL)[0m
  [4;36;1mSQL (26.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 18:36:32', `paypal_donation` = 1 WHERE `id` = 8[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0B0472559J563731K
Completed in 927ms (DB: 69) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 11:39:02) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (39.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 81ms (View: 36, DB: 40) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 11:39:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 37ms (View: 26, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:39:06) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (39.4ms)
Completed in 73ms (View: 63, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:39:11) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"82", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"14", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"544", "card_number"=>"", "last_name"=>"d", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"f"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 18:39:11', 'visa', NULL, NULL, '2010-09-08 18:39:11', 544.0, 'd', '127.0.0.1', 'f', NULL)[0m
  [4;36;1mSQL (41.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 18:39:11', `paypal_donation` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-01C772602X836202S
Completed in 814ms (DB: 46) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 11:39:39) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 103ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 11:39:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.2ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 25ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:39:42) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (11.9ms)
Completed in 24ms (View: 14, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:39:46) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"88", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"21", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"321", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 18:39:46', 'visa', NULL, NULL, '2010-09-08 18:39:46', 321.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (27.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 18:39:46', `paypal_donation` = 1 WHERE `id` = 10[0m
  [4;35;1mSQL (14.9ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0RR6396330435024V
Completed in 844ms (DB: 46) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:40:06) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-0RR6396330435024V", "amount"=>"321.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.5ms)
Completed in 941ms (View: 6, DB: 2) | 200 OK [http://localhost/donations/new?amount=321.0&gift_id=2&paypal_donation=true&token=EC-0RR6396330435024V&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:45:44) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-0RR6396330435024V", "amount"=>"321.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.3ms)
Completed in 841ms (View: 10, DB: 2) | 200 OK [http://localhost/donations/new?amount=321.0&gift_id=2&paypal_donation=true&token=EC-0RR6396330435024V&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:46:27) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-0RR6396330435024V", "amount"=>"321.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.3ms)
Completed in 921ms (View: 11, DB: 3) | 200 OK [http://localhost/donations/new?amount=321.0&gift_id=2&paypal_donation=true&token=EC-0RR6396330435024V&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 11:47:34) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 6, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 11:47:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.0ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.7ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 26ms (View: 13, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 11:47:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 14, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:47:44) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (109.4ms)
Completed in 122ms (View: 111, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:47:50) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"69", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"16", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"299", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 18:47:50', 'visa', NULL, NULL, '2010-09-08 18:47:50', 299.0, '', '127.0.0.1', '', NULL)[0m
  [4;35;1mSQL (51.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-08 18:47:50', `paypal_donation` = 1 WHERE `id` = 11[0m
  [4;36;1mSQL (25.3ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-1975102983720390P
Completed in 930ms (DB: 81) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:48:08) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-1975102983720390P", "amount"=>"299.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.5ms)
Completed in 913ms (View: 6, DB: 3) | 200 OK [http://localhost/donations/new?amount=299.0&gift_id=2&paypal_donation=true&token=EC-1975102983720390P&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:48:29) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-1975102983720390P", "amount"=>"299.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.6ms)
Completed in 878ms (View: 11, DB: 3) | 200 OK [http://localhost/donations/new?amount=299.0&gift_id=2&paypal_donation=true&token=EC-1975102983720390P&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 11:49:45) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 112ms (View: 80, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 11:49:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (29.3ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 115ms (View: 102, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:49:48) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (40.6ms)
Completed in 111ms (View: 72, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 11:49:53) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"88", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"9", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"566", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 18:49:53', 'visa', NULL, NULL, '2010-09-08 18:49:53', 566.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 18:49:53', `paypal_donation` = 1 WHERE `id` = 12[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4H833912YU138674E
Completed in 996ms (DB: 5) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:50:11) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-4H833912YU138674E", "amount"=>"566.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (9.3ms)
Completed in 151305ms (View: 19, DB: 2) | 200 OK [http://localhost/donations/new?amount=566.0&gift_id=2&paypal_donation=true&token=EC-4H833912YU138674E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 11:52:57) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-4H833912YU138674E", "amount"=>"566.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (6.8ms)
Completed in 1085ms (View: 13, DB: 3) | 200 OK [http://localhost/donations/new?amount=566.0&gift_id=2&paypal_donation=true&token=EC-4H833912YU138674E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 12:03:20) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-4H833912YU138674E", "amount"=>"566.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (89.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (36.5ms)
Completed in 1454ms (View: 67, DB: 89) | 200 OK [http://localhost/donations/new?amount=566.0&gift_id=2&paypal_donation=true&token=EC-4H833912YU138674E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 12:03:30) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (28.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 119ms (View: 83, DB: 29) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 12:03:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (10.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (274.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 317ms (View: 20, DB: 289) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 12:03:34) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (41.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (146.7ms)
Completed in 203ms (View: 150, DB: 42) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 12:03:41) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"100", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"20", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"90", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (86.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (52.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 19:03:41', 'visa', NULL, NULL, '2010-09-08 19:03:41', 90.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (101.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 19:03:41', `paypal_donation` = 1 WHERE `id` = 13[0m
  [4;35;1mSQL (12.1ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-2DS10373MR687673L
Completed in 1177ms (DB: 254) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 12:04:10) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-2DS10373MR687673L", "amount"=>"90.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (4.5ms)
Completed in 1131ms (View: 29, DB: 2) | 200 OK [http://localhost/donations/new?amount=90.0&gift_id=2&paypal_donation=true&token=EC-2DS10373MR687673L&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 12:07:22) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (39.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 184ms (View: 67, DB: 40) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 12:07:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.9ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 72ms (View: 60, DB: 4) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 12:07:27) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.6ms)
Completed in 72ms (View: 60, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 12:07:32) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"61", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"16", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"899", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (20.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.5ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 19:07:32', 'visa', NULL, NULL, '2010-09-08 19:07:32', 899.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (27.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (10.1ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 19:07:32', `paypal_donation` = 1 WHERE `id` = 14[0m
  [4;35;1mSQL (22.7ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5HJ10229A66885427
Completed in 1192ms (DB: 84) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 12:07:53) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-5HJ10229A66885427", "amount"=>"899.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

NoMethodError (undefined method `amount' for #<ActiveMerchant::Billing::PaypalExpressResponse:0x102fe46a8>):
  app/models/donation.rb:30:in `express_token='
  app/controllers/donations_controller.rb:21:in `new'
  app/controllers/donations_controller.rb:21:in `new'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (155.0ms)
Rendered rescues/_request_and_response (24.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 13:20:52) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (39.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 101ms (View: 55, DB: 40) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 13:20:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.7ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (23.2ms)
Rendered gifts/_gift_listing (0.8ms)
Completed in 52ms (View: 40, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:20:55) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (41.9ms)
Completed in 95ms (View: 69, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:20:59) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"70", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"14", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"322", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 20:20:59', 'visa', NULL, NULL, '2010-09-08 20:20:59', 322.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (45.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (21.7ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 20:20:59', `paypal_donation` = 1 WHERE `id` = 15[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-2TC25922K0029010J
Completed in 1391ms (DB: 71) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:21:30) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-2TC25922K0029010J", "amount"=>"322.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (58.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (5.6ms)
Completed in 1132ms (View: 38, DB: 58) | 200 OK [http://localhost/donations/new?amount=322.0&gift_id=2&paypal_donation=true&token=EC-2TC25922K0029010J&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:21:53) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-2TC25922K0029010J", "amount"=>"322.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (82.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (6.6ms)
Completed in 990ms (View: 13, DB: 82) | 200 OK [http://localhost/donations/new?amount=322.0&gift_id=2&paypal_donation=true&token=EC-2TC25922K0029010J&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 13:36:30) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 109ms (View: 73, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 13:36:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.7ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (1.0ms)
Rendered gifts/_gift_listing (0.7ms)
Completed in 72ms (View: 60, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:36:33) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (188.7ms)
Completed in 231ms (View: 215, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:36:37) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"92", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"23", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"899", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 20:36:37', 'visa', NULL, NULL, '2010-09-08 20:36:37', 899.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (46.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.5ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 20:36:37', `paypal_donation` = 1 WHERE `id` = 16[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-2TT380660B7507735
Completed in 967ms (DB: 50) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:36:56) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-2TT380660B7507735", "amount"=>"899.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (3.9ms)
Completed in 861ms (View: 6, DB: 2) | 200 OK [http://localhost/donations/new?amount=899.0&gift_id=2&paypal_donation=true&token=EC-2TT380660B7507735&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 13:37:32) [GET]
  [4;35;1mDonation Load (22.7ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 106ms (View: 74, DB: 25) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 13:48:45) [GET]
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 18ms (View: 8, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 13:48:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.8ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 28ms (View: 17, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:48:48) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (16.5ms)
Completed in 36ms (View: 23, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:48:51) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"77", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"17", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"433", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 20:48:51', 'visa', NULL, NULL, '2010-09-08 20:48:51', 433.0, '', '127.0.0.1', '', NULL)[0m
  [4;35;1mSQL (18.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-08 20:48:52', `paypal_donation` = 1 WHERE `id` = 17[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7K579305EW380493D
Completed in 820ms (DB: 23) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:49:09) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-7K579305EW380493D", "amount"=>"433.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (4.0ms)
Completed in 854ms (View: 7, DB: 3) | 200 OK [http://localhost/donations/new?amount=433.0&gift_id=2&paypal_donation=true&token=EC-7K579305EW380493D&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:49:19) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-7K579305EW380493D", "amount"=>"433.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new

ActionView::TemplateError (undefined method `gifts' for #<Donation:0x103262650>) on line #37 of app/views/donations/_form.html.erb:
34: 		<%#= link_to image_tag("https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif"), create_express_new_donation_path(:gift_id => @donation.gift_id, :amount => @donation.amount, :first_name => @donation.first_name, :last_name => @donation.last_name, :paypal_donation => true) %>
35: 	  <p><%= f.submit "paypal_express", :type => "image", :src => "https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif" %></p>
36: 	<% else %>
37: 		<p> <%=h @donation.first_name %> <%=h @donation.last_name  %> <%=h @donation.gifts %></p>
38: 	  <p>
39: 			<%= f.hidden_field :express_token%>
40: 			<%= f.hidden_field :amount, :value => params[:amount] %>

    app/views/donations/_form.html.erb:37
    app/views/donations/_form.html.erb:1
    app/views/donations/new.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (182.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:49:34) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-7K579305EW380493D", "amount"=>"433.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;35;1mGift Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mGift Load (0.8ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendered donations/_form (78.8ms)
Completed in 913ms (View: 107, DB: 6) | 200 OK [http://localhost/donations/new?amount=433.0&gift_id=2&paypal_donation=true&token=EC-7K579305EW380493D&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:49:42) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-7K579305EW380493D", "amount"=>"433.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendered donations/_form (17.9ms)
Completed in 952ms (View: 122, DB: 5) | 200 OK [http://localhost/donations/new?amount=433.0&gift_id=2&paypal_donation=true&token=EC-7K579305EW380493D&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:51:44) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-7K579305EW380493D", "amount"=>"433.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;35;1mGift Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendered donations/_form (100.1ms)
Completed in 899ms (View: 104, DB: 5) | 200 OK [http://localhost/donations/new?amount=433.0&gift_id=2&paypal_donation=true&token=EC-7K579305EW380493D&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:51:51) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"gift_id"=>"2", "amount"=>"433.0", "paypal_donation"=>"true"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, NULL, '2010-09-08 20:51:51', NULL, NULL, NULL, '2010-09-08 20:51:51', 433.0, NULL, '127.0.0.1', NULL, 1)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-74009156SK764811W
Completed in 760ms (DB: 4) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:52:12) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-7K579305EW380493D", "amount"=>"433.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;36;1mGift Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendered donations/_form (16.0ms)
Completed in 896ms (View: 20, DB: 6) | 200 OK [http://localhost/donations/new?amount=433.0&gift_id=2&paypal_donation=true&token=EC-7K579305EW380493D&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:52:19) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"gift_id"=>"2", "express_token"=>"EC-7K579305EW380493D", "amount"=>"433.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, NULL, '2010-09-08 20:52:19', NULL, 'WR7XWRYN233AL', 'EC-7K579305EW380493D', '2010-09-08 20:52:19', 433.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (19.3ms)[0m   [0;1mCOMMIT[0m

NameError (undefined local variable or method `transactions' for #<Donation:0x1035eea58>):
  app/models/donation.rb:49:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:29:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (59.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:53:06) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"gift_id"=>"2", "express_token"=>"EC-7K579305EW380493D", "amount"=>"433.0", "paypal_donation"=>"true"}}
  [4;36;1mDonation Columns (25.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, NULL, '2010-09-08 20:53:07', NULL, 'WR7XWRYN233AL', 'EC-7K579305EW380493D', '2010-09-08 20:53:07', 433.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Load (37.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 20) LIMIT 1[0m

NoMethodError (undefined method `create!' for nil:NilClass):
  app/models/donation.rb:49:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:29:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (60.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 13:53:21) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 57ms (View: 48, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 13:53:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 120ms (View: 17, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:53:24) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.7ms)
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:53:31) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"83", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"3", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"100", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 20:53:31', 'visa', NULL, NULL, '2010-09-08 20:53:31', 100.0, '', '127.0.0.1', '', NULL)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.3ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-08 20:53:31', `paypal_donation` = 1 WHERE `id` = 21[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-84F36510AF628714V
Completed in 843ms (DB: 5) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:53:49) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-84F36510AF628714V", "amount"=>"100.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;35;1mGift Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendered donations/_form (13.6ms)
Completed in 962ms (View: 14, DB: 5) | 200 OK [http://localhost/donations/new?amount=100.0&gift_id=2&paypal_donation=true&token=EC-84F36510AF628714V&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:53:53) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"gift_id"=>"2", "express_token"=>"EC-84F36510AF628714V", "amount"=>"100.0", "paypal_donation"=>"true"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, NULL, '2010-09-08 20:53:54', NULL, 'WR7XWRYN233AL', 'EC-84F36510AF628714V', '2010-09-08 20:53:54', 100.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 22) LIMIT 1[0m

NoMethodError (undefined method `create!' for nil:NilClass):
  app/models/donation.rb:49:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:29:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (152.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:54:29) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"gift_id"=>"2", "express_token"=>"EC-84F36510AF628714V", "amount"=>"100.0", "paypal_donation"=>"true"}}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, NULL, '2010-09-08 20:54:29', NULL, 'WR7XWRYN233AL', 'EC-84F36510AF628714V', '2010-09-08 20:54:29', 100.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 23) LIMIT 1[0m

NoMethodError (undefined method `create' for nil:NilClass):
  app/models/donation.rb:49:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:29:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (60.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 13:57:51) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (39.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 88ms (View: 42, DB: 40) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 13:57:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.8ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 27ms (View: 16, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:57:53) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (48.9ms)
Completed in 63ms (View: 51, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:57:57) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"115", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"19", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"111", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 20:57:57', 'visa', NULL, NULL, '2010-09-08 20:57:57', 111.0, '', '127.0.0.1', '', NULL)[0m
  [4;35;1mSQL (12.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.3ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-08 20:57:57', `paypal_donation` = 1 WHERE `id` = 24[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-41P91753VB512694D
Completed in 765ms (DB: 17) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 13:58:33) [GET]
  Parameters: {"gift_id"=>"1", "token"=>"EC-41P91753VB512694D", "amount"=>"111.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;35;1mGift Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 1) [0m
Rendered donations/_form (12.9ms)
Completed in 817ms (View: 13, DB: 5) | 200 OK [http://localhost/donations/new?amount=111.0&gift_id=1&paypal_donation=true&token=EC-41P91753VB512694D&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 13:58:40) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"gift_id"=>"1", "express_token"=>"EC-41P91753VB512694D", "amount"=>"111.0", "paypal_donation"=>"true"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, NULL, '2010-09-08 20:58:41', NULL, 'WR7XWRYN233AL', 'EC-41P91753VB512694D', '2010-09-08 20:58:41', 111.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 25) LIMIT 1[0m

NoMethodError (undefined method `create!' for nil:NilClass):
  app/models/donation.rb:49:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:29:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 14:03:33) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 122ms (View: 77, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 14:03:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (31.6ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 161ms (View: 149, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 14:03:37) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (41.9ms)
Completed in 102ms (View: 89, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 14:03:46) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"106", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"25", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"5", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 21:03:46', 'visa', NULL, NULL, '2010-09-08 21:03:46', 5.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 21:03:46', `paypal_donation` = 1 WHERE `id` = 26[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-74R45863HV727482U
Completed in 1057ms (DB: 4) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 14:04:04) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-74R45863HV727482U", "amount"=>"5.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;36;1mGift Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendered donations/_form (11.8ms)
Completed in 967ms (View: 11, DB: 5) | 200 OK [http://localhost/donations/new?amount=5.0&gift_id=2&paypal_donation=true&token=EC-74R45863HV727482U&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 14:04:08) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"gift_id"=>"2", "express_token"=>"EC-74R45863HV727482U", "amount"=>"5.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, NULL, '2010-09-08 21:04:09', NULL, 'WR7XWRYN233AL', 'EC-74R45863HV727482U', '2010-09-08 21:04:09', 5.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 27) LIMIT 1[0m

NoMethodError (undefined method `create!' for nil:NilClass):
  app/models/donation.rb:49:in `process_donation'
  app/models/donation.rb:15:in `submit_donation'
  app/controllers/donations_controller.rb:29:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (138.4ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 14:04:51) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 18ms (View: 9, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 14:04:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 24ms (View: 13, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 14:04:53) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.5ms)
Completed in 26ms (View: 15, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 14:04:55) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"4", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 21:04:55', 'visa', NULL, NULL, '2010-09-08 21:04:55', 4.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 21:04:55', `paypal_donation` = 1 WHERE `id` = 28[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0FE38020C1827604L
Completed in 784ms (DB: 5) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 14:05:06) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"96", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"9", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"4", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 21:05:06', 'visa', NULL, NULL, '2010-09-08 21:05:06', 4.0, '', '127.0.0.1', '', NULL)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-08 21:05:06', `paypal_donation` = 1 WHERE `id` = 29[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-197356407B392100B
Completed in 742ms (DB: 5) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 14:05:24) [GET]
  Parameters: {"gift_id"=>"1", "token"=>"EC-197356407B392100B", "amount"=>"4.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;36;1mGift Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 1) [0m
Rendered donations/_form (11.5ms)
Completed in 845ms (View: 11, DB: 5) | 200 OK [http://localhost/donations/new?amount=4.0&gift_id=1&paypal_donation=true&token=EC-197356407B392100B&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 14:05:27) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"gift_id"=>"1", "express_token"=>"EC-197356407B392100B", "amount"=>"4.0", "paypal_donation"=>"true"}}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, NULL, '2010-09-08 21:05:28', NULL, 'WR7XWRYN233AL', 'EC-197356407B392100B', '2010-09-08 21:05:28', 4.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (32.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 21:05:32', '2010-09-08 21:05:32', 'submit_express_donation', 400.0, '4ST24522MN635613B', 1, 30, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: 79bbf3a0dd3d0\ntimestamp: \"2010-09-08T21:05:32Z\"\ntoken: EC-197356407B392100B\npending_reason: none\ntransaction_id: 4ST24522MN635613B\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"0.42\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"4.00\"\nack: Success\npayment_date: \"2010-09-08T21:05:31Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (22.3ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 4898ms (View: 25, DB: 61) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 14:05:42) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (8.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 21ms (View: 7, DB: 9) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 14:05:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 23ms (View: 13, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 14:48:36) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (48.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (70.6ms)
Completed in 166ms (View: 109, DB: 49) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 14:55:09) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"73", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"13", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"22", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 21:55:09', 'visa', NULL, NULL, '2010-09-08 21:55:09', 22.0, '', '127.0.0.1', '', NULL)[0m
  [4;35;1mSQL (66.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-08 21:55:09', `paypal_donation` = 1 WHERE `id` = 31[0m
  [4;36;1mSQL (24.1ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-82668024XW840861L
Completed in 911ms (DB: 94) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 14:55:32) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-82668024XW840861L", "amount"=>"22.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;35;1mGift Columns (29.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendered donations/_form (48.3ms)
Completed in 927ms (View: 20, DB: 32) | 200 OK [http://localhost/donations/new?amount=22.0&gift_id=2&paypal_donation=true&token=EC-82668024XW840861L&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 15:05:14) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 53ms (View: 46, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:05:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.6ms)
Rendered gifts/_gift_listing (0.4ms)
Completed in 109ms (View: 99, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:05:17) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.7ms)
Completed in 27ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:05:22) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"68", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"18", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"11", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 22:05:22', 'visa', NULL, NULL, '2010-09-08 22:05:22', 11.0, '', '127.0.0.1', '', 1)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-2CT336402N404000E
Completed in 722ms (DB: 3) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:05:42) [GET]
  Parameters: {"gift_id"=>"2", "token"=>"EC-2CT336402N404000E", "amount"=>"11.0", "PayerID"=>"WR7XWRYN233AL", "paypal_donation"=>"true"}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
  [4;36;1mGift Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 2) [0m
Rendered donations/_form (11.2ms)
Completed in 813ms (View: 11, DB: 5) | 200 OK [http://localhost/donations/new?amount=11.0&gift_id=2&paypal_donation=true&token=EC-2CT336402N404000E&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 15:17:59) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (25.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 203ms (View: 139, DB: 26) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:18:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (31.3ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 117ms (View: 105, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:18:03) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (87.2ms)
Completed in 256ms (View: 243, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:18:07) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"4", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (24.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 22:18:07', 'visa', NULL, NULL, '2010-09-08 22:18:07', 4.0, '', '127.0.0.1', '', 1)[0m
  [4;36;1mSQL (24.9ms)[0m   [0;1mCOMMIT[0m

ActionController::RoutingError (paypal_response_donation_url failed to generate from {:gift_id=>2, :controller=>"donations", :amount=>4.0, :action=>"paypal_response", :paypal_donation=>true}, expected: {:controller=>"donations", :action=>"paypal_response"}, diff: {:gift_id=>2, :amount=>4.0, :paypal_donation=>true}):
  (eval):17:in `paypal_response_donation_url'
  app/controllers/donations_controller.rb:38:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:18:10) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"77", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"25", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"4", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 22:18:10', 'visa', NULL, NULL, '2010-09-08 22:18:10', 4.0, '', '127.0.0.1', '', 1)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m

ActionController::RoutingError (paypal_response_donation_url failed to generate from {:gift_id=>2, :controller=>"donations", :amount=>4.0, :action=>"paypal_response", :paypal_donation=>true}, expected: {:controller=>"donations", :action=>"paypal_response"}, diff: {:gift_id=>2, :amount=>4.0, :paypal_donation=>true}):
  (eval):17:in `paypal_response_donation_url'
  app/controllers/donations_controller.rb:38:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:19:01) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (32.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (16.3ms)
Completed in 89ms (View: 45, DB: 32) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:19:04) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"92", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"31", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"5", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 22:19:04', 'visa', NULL, NULL, '2010-09-08 22:19:04', 5.0, '', '127.0.0.1', '', 1)[0m
  [4;36;1mSQL (11.4ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7AV366331Y755512D
Completed in 978ms (DB: 14) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:19:22) [GET]
  Parameters: {"token"=>"EC-7AV366331Y755512D", "id"=>"35", "PayerID"=>"WR7XWRYN233AL"}

ActionView::MissingTemplate (Missing template donations/paypal_response.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:25:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (7.8ms)
Rendered gifts/_gift_listing (0.8ms)
Completed in 345ms (View: 169, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:25:23) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (480.8ms)
Completed in 552ms (View: 483, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:25:27) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"110", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"18", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"5", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 22:25:27', 'visa', NULL, NULL, '2010-09-08 22:25:27', 5.0, '', '127.0.0.1', '', 1)[0m
  [4;35;1mSQL (38.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0KW00390GK470612B
Completed in 1326ms (DB: 41) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:25:54) [GET]
  Parameters: {"token"=>"EC-0KW00390GK470612B", "id"=>"36", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.7ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 36) [0m

NoMethodError (undefined method `submit_donation' for nil:NilClass):
  app/controllers/donations_controller.rb:49:in `paypal_response'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:26:06) [GET]
  Parameters: {"token"=>"EC-0KW00390GK470612B", "id"=>"36", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 36) [0m
  [4;36;1mDonationTransaction Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (12.7ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:26:10', '2010-09-08 22:26:10', 'submit_express_donation', 500.0, '2EK71294CX285762J', 1, 36, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: f7f1c7d3b9d0c\ntimestamp: \"2010-09-08T22:26:10Z\"\ntoken: EC-0KW00390GK470612B\npending_reason: none\ntransaction_id: 2EK71294CX285762J\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"0.45\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"5.00\"\nack: Success\npayment_date: \"2010-09-08T22:26:09Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (22.2ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/success
Completed in 3818ms (View: 59, DB: 40) | 200 OK [http://localhost/donations/36/paypal_response?token=EC-0KW00390GK470612B&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:29:07) [GET]
  Parameters: {"token"=>"EC-0KW00390GK470612B", "id"=>"36", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (30.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 36) [0m
  [4;35;1mDonationTransaction Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:29:07', '2010-09-08 22:29:07', 'submit_express_donation', 500.0, NULL, 0, 36, '--- \ndo_express_checkout_payment_response_details: \ncorrelation_id: 8f0463ba6e541\ntimestamp: \"2010-09-08T22:29:07Z\"\nbuild: \"1482946\"\nerror_codes: \"10415\"\nversion: \"59.0\"\nack: Failure\nmessage: A successful transaction has already been completed for this token.\n', 'A successful transaction has already been completed for this token.')[0m
  [4;36;1mSQL (36.5ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 838ms (View: 53, DB: 69) | 200 OK [http://localhost/donations/36/paypal_response?token=EC-0KW00390GK470612B&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 15:29:15) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 48ms (View: 39, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:29:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.1ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 28ms (View: 15, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:29:18) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (36.9ms)
Completed in 55ms (View: 43, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:29:22) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"55", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"6", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}}
  [4;36;1mDonation Columns (20.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (20.0ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 22:29:22', 'visa', NULL, NULL, '2010-09-08 22:29:22', 6.0, '', '127.0.0.1', '', 1)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5MS99431H0286011L
Completed in 676ms (DB: 42) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:29:44) [GET]
  Parameters: {"token"=>"EC-5MS99431H0286011L", "id"=>"37", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 37) [0m
  [4;35;1mDonationTransaction Columns (19.8ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:29:48', '2010-09-08 22:29:48', 'submit_express_donation', 600.0, '4YS83159N98572700', 1, 37, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: 410e2d5a5ac1a\ntimestamp: \"2010-09-08T22:29:48Z\"\ntoken: EC-5MS99431H0286011L\npending_reason: none\ntransaction_id: 4YS83159N98572700\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"0.47\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"6.00\"\nack: Success\npayment_date: \"2010-09-08T22:29:47Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (27.1ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/show

ActionView::TemplateError (undefined method `first_name' for nil:NilClass) on line #5 of app/views/donations/show.html.erb:
2: 
3: <p>
4:   <strong>First Name:</strong>
5:   <%=h @donation.first_name %>
6: </p>
7: <p>
8:   <strong>Last Name:</strong>

    app/views/donations/show.html.erb:5
    app/controllers/donations_controller.rb:50:in `paypal_response'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:31:17) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"121", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"13", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"6", "card_number"=>"", "last_name"=>"gg", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;36;1mDonation Columns (13.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (29.7ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 22:31:17', 'visa', NULL, NULL, '2010-09-08 22:31:17', 6.0, 'gg', '127.0.0.1', 'fredd', 1)[0m
  [4;35;1mSQL (22.4ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-13N21063W1873004R
Completed in 819ms (DB: 66) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:31:35) [GET]
  Parameters: {"token"=>"EC-13N21063W1873004R", "id"=>"38", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 38) [0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:31:38', '2010-09-08 22:31:38', 'submit_express_donation', 600.0, '26J53138XE717633J', 1, 38, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: a99bb6752a968\ntimestamp: \"2010-09-08T22:31:38Z\"\ntoken: EC-13N21063W1873004R\npending_reason: none\ntransaction_id: 26J53138XE717633J\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"0.47\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"6.00\"\nack: Success\npayment_date: \"2010-09-08T22:31:38Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/show

ActionView::TemplateError (undefined method `first_name' for nil:NilClass) on line #5 of app/views/donations/show.html.erb:
2: 
3: <p>
4:   <strong>First Name:</strong>
5:   <%=h @donation.first_name %>
6: </p>
7: <p>
8:   <strong>Last Name:</strong>

    app/views/donations/show.html.erb:5
    app/controllers/donations_controller.rb:50:in `paypal_response'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (163.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:36:34) [GET]
  Parameters: {"token"=>"EC-13N21063W1873004R", "id"=>"38", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (47.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 38) [0m
  [4;36;1mDonationTransaction Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:36:37', '2010-09-08 22:36:37', 'submit_express_donation', 600.0, NULL, 0, 38, '--- \ndo_express_checkout_payment_response_details: \ncorrelation_id: 6b93e6ab9f789\ntimestamp: \"2010-09-08T22:36:36Z\"\nbuild: \"1482946\"\nerror_codes: \"10415\"\nversion: \"59.0\"\nack: Failure\nmessage: A successful transaction has already been completed for this token.\n', 'A successful transaction has already been completed for this token.')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 2320ms (View: 2, DB: 52) | 200 OK [http://localhost/donations/38/paypal_response?token=EC-13N21063W1873004R&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 15:36:46) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 68ms (View: 59, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:36:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.0ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 28ms (View: 16, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:36:49) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (46.7ms)
Completed in 146ms (View: 49, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:37:01) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"72", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"19", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"3", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"frederick"}}
  [4;35;1mDonation Columns (9.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (18.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 22:37:01', 'visa', NULL, NULL, '2010-09-08 22:37:01', 3.0, 'dd', '127.0.0.1', 'frederick', 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-214139680V164291A
Completed in 2548ms (DB: 29) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:37:34) [GET]
  Parameters: {"token"=>"EC-214139680V164291A", "id"=>"39", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 39) [0m
  [4;36;1mDonationTransaction Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.5ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:37:39', '2010-09-08 22:37:39', 'submit_express_donation', 300.0, '8JG548094V4767933', 1, 39, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: 8cef86ffe1ea5\ntimestamp: \"2010-09-08T22:37:38Z\"\ntoken: EC-214139680V164291A\npending_reason: none\ntransaction_id: 8JG548094V4767933\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"0.39\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"3.00\"\nack: Success\npayment_date: \"2010-09-08T22:37:37Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/show
Completed in 4934ms (View: 7, DB: 7) | 200 OK [http://localhost/donations/39/paypal_response?token=EC-214139680V164291A&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 15:37:54) [GET]
  [4;35;1mDonation Load (0.7ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 153ms (View: 142, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (20.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 15:43:24) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (239.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 337ms (View: 91, DB: 260) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:43:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.8ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 28ms (View: 16, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:43:29) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (41.4ms)
Completed in 107ms (View: 94, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:47:06) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"76", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"9", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"9", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;36;1mDonation Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (36.6ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 22:47:06', 'visa', NULL, NULL, '2010-09-08 22:47:06', 9.0, 'dd', '127.0.0.1', 'fredd', 1)[0m
  [4;35;1mSQL (34.3ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9EV976299N8533405
Completed in 749ms (DB: 76) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:50:09) [GET]
  Parameters: {"token"=>"EC-9EV976299N8533405", "id"=>"40", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 40) [0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:50:13', '2010-09-08 22:50:13', 'submit_express_donation', 900.0, '6EX174643C848793B', 1, 40, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: 5514984bcfee1\ntimestamp: \"2010-09-08T22:50:13Z\"\ntoken: EC-9EV976299N8533405\npending_reason: none\ntransaction_id: 6EX174643C848793B\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"0.56\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"9.00\"\nack: Success\npayment_date: \"2010-09-08T22:50:12Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations/40
Completed in 4108ms (DB: 7) | 302 Found [http://localhost/donations/40/paypal_response?token=EC-9EV976299N8533405&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-08 15:50:13) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 40) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 20ms (View: 9, DB: 3) | 200 OK [http://localhost/donations/40]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 15:51:40) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 16ms (View: 7, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:51:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.2ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 28ms (View: 15, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:51:46) [GET]
  Parameters: {"gift_id"=>"1"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.6ms)
Completed in 29ms (View: 17, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:51:57) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"105", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"18", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"1", "card_verification"=>"", "card_type"=>"visa", "amount"=>"33", "card_number"=>"", "last_name"=>"ggg", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(1, '2010-09-01', '2010-09-08 22:51:57', 'visa', NULL, NULL, '2010-09-08 22:51:57', 33.0, 'ggg', '127.0.0.1', 'fred', 1)[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-51X40708S8840912W
Completed in 731ms (DB: 4) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:52:26) [GET]
  Parameters: {"token"=>"EC-51X40708S8840912W", "id"=>"41", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 41) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-08 22:52:27', `express_token` = 'EC-51X40708S8840912W', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 41[0m
  [4;36;1mSQL (43.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:52:30', '2010-09-08 22:52:30', 'submit_express_donation', 3300.0, '8R169735M9029962R', 1, 41, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: ba80bf8c6606b\ntimestamp: \"2010-09-08T22:52:30Z\"\ntoken: EC-51X40708S8840912W\npending_reason: none\ntransaction_id: 8R169735M9029962R\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"1.26\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"33.00\"\nack: Success\npayment_date: \"2010-09-08T22:52:29Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (20.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations/41
Completed in 3242ms (DB: 70) | 302 Found [http://localhost/donations/41/paypal_response?token=EC-51X40708S8840912W&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-08 15:52:30) [GET]
  Parameters: {"id"=>"41"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 41) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 19ms (View: 9, DB: 3) | 200 OK [http://localhost/donations/41]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 15:52:34) [GET]
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 224ms (View: 213, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 15:52:37) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 16ms (View: 7, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:53:10) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.1ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered gifts/_gift_listing (0.7ms)
Rendered gifts/_gift_listing (0.5ms)
Completed in 27ms (View: 15, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:54:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (26.2ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.8ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 1) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 2) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 3) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 4) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 5) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 6) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 7) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 8) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 24) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 25) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 28) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 29) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 30) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 37) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 38) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 39) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 40) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 41) [0m
Rendered gifts/_gift_listing (109.3ms)
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 9) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 10) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 11) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 12) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 13) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 14) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 15) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 16) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 17) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 18) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 19) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 20) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 21) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 22) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 23) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 26) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 27) [0m
  [4;36;1mDonationTransaction Load (54.6ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 31) [0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 32) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 33) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 34) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 35) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 36) [0m
Rendered gifts/_gift_listing (81.8ms)
Completed in 371ms (View: 224, DB: 97) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 15:54:48) [GET]
  Parameters: {"gift_id"=>"2"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (15.6ms)
Completed in 29ms (View: 18, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 15:54:55) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"88", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"4", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"2", "card_verification"=>"", "card_type"=>"visa", "amount"=>"55", "card_number"=>"", "last_name"=>"ddd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;35;1mDonation Columns (74.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(2, '2010-09-01', '2010-09-08 22:54:55', 'visa', NULL, NULL, '2010-09-08 22:54:55', 55.0, 'ddd', '127.0.0.1', 'fred', 1)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-06R81938P93906722
Completed in 741ms (DB: 76) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 15:55:22) [GET]
  Parameters: {"token"=>"EC-06R81938P93906722", "id"=>"42", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 42) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.4ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-08 22:55:22', `express_token` = 'EC-06R81938P93906722', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 42[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (1.0ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-08 22:55:25', '2010-09-08 22:55:25', 'submit_express_donation', 5500.0, '9CF43017KS838240M', 1, 42, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: 59d90aa8139b3\ntimestamp: \"2010-09-08T22:55:25Z\"\ntoken: EC-06R81938P93906722\npending_reason: none\ntransaction_id: 9CF43017KS838240M\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nfee_amount: \"1.90\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"55.00\"\nack: Success\npayment_date: \"2010-09-08T22:55:24Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations/42
Completed in 3182ms (DB: 9) | 302 Found [http://localhost/donations/42/paypal_response?token=EC-06R81938P93906722&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-08 15:55:25) [GET]
  Parameters: {"id"=>"42"}
  [4;36;1mDonation Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (3.8ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 42) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 27ms (View: 11, DB: 8) | 200 OK [http://localhost/donations/42]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 15:55:28) [GET]
  [4;35;1mDonation Load (0.9ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 224ms (View: 213, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 15:55:31) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 15ms (View: 7, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 15:55:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.8ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 1) [0m
  [4;36;1mDonationTransaction Load (1.0ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 2) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 3) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 5) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 6) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 7) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 8) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 24) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 25) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 28) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 29) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 30) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 37) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 38) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 39) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 40) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 41) [0m
Rendered gifts/_gift_listing (35.8ms)
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 9) [0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 10) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 11) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 12) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 13) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 14) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 15) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 16) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 17) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 18) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 19) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 20) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 21) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 22) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 23) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 26) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 27) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 31) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 32) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 33) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 34) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 35) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 36) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 42) [0m
Rendered gifts/_gift_listing (107.4ms)
Completed in 170ms (View: 143, DB: 19) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 17:10:04) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 80ms (View: 38, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 17:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.6ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 1) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 2) [0m
  [4;36;1mDonationTransaction Load (1.1ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 3) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 4) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 5) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 6) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 7) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 8) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 24) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 25) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 28) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 29) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 30) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 37) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 38) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 39) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 40) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 41) [0m
Rendered gifts/_gift_listing (32.0ms)
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 9) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 10) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 11) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 12) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 13) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 14) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 15) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 16) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 17) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 18) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 19) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 20) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 21) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 22) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 23) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 26) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 27) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 31) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 32) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 33) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 34) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 35) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 36) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 42) [0m
Rendered gifts/_gift_listing (22.7ms)
Completed in 199ms (View: 174, DB: 19) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 17:11:31) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 14ms (View: 6, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-09-08 17:13:01) [GET]
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_form (142.1ms)
Completed in 221ms (View: 207, DB: 3) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-09-08 17:13:21) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "bride"=>{"name"=>"j", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"9", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"500", "name"=>"iPhone", "total_donations"=>"0"}, "1"=>{"price"=>"800", "name"=>"bag", "total_donations"=>"0"}}, "wedding_day(5i)"=>"13"}}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBride Create (39.7ms)[0m   [0mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('j', '2010-09-09 00:13:21', '2010-09-09 00:13:21', '2010-09-09')[0m
  [4;36;1mGift Create (0.8ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('iPhone', 500.0, '2010-09-09 00:13:21', '2010-09-09 00:13:21', 2, 0.0)[0m
  [4;35;1mGift Create (0.2ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('bag', 800.0, '2010-09-09 00:13:21', '2010-09-09 00:13:21', 2, 0.0)[0m
  [4;36;1mSQL (22.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/2
Completed in 90ms (DB: 67) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 17:13:21) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
Rendered gifts/_gift_listing (6.0ms)
  [4;35;1mDonation Load (0.7ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
Rendered gifts/_gift_listing (2.4ms)
Completed in 32ms (View: 20, DB: 6) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 17:13:26) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.4ms)
Completed in 251ms (View: 240, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 17:13:36) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"78", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"16", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"3", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(3, '2010-09-01', '2010-09-09 00:13:36', 'visa', NULL, NULL, '2010-09-09 00:13:36', 123.0, 'dd', '127.0.0.1', 'fredd', 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m

SocketError (getaddrinfo: nodename nor servname provided, or not known):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `initialize'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `open'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `connect'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/timeout.rb:62:in `timeout'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/timeout.rb:93:in `timeout'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `connect'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:553:in `do_start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:542:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:1035:in `request'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:845:in `post'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:67:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:60:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:25:in `setup_purchase'
  app/controllers/donations_controller.rb:36:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (57.2ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 17:13:36) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"78", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"16", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"3", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(3, '2010-09-01', '2010-09-09 00:13:36', 'visa', NULL, NULL, '2010-09-09 00:13:36', 123.0, 'dd', '127.0.0.1', 'fredd', 1)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m

SocketError (getaddrinfo: nodename nor servname provided, or not known):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `initialize'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `open'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `connect'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/timeout.rb:62:in `timeout'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/timeout.rb:93:in `timeout'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `connect'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:553:in `do_start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:542:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:1035:in `request'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:845:in `post'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:67:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:60:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:25:in `setup_purchase'
  app/controllers/donations_controller.rb:36:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (142.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 17:13:43) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"84", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"3", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(3, '2010-09-01', '2010-09-09 00:13:43', 'visa', NULL, NULL, '2010-09-09 00:13:43', 123.0, 'dd', '127.0.0.1', 'fredd', 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m

SocketError (getaddrinfo: nodename nor servname provided, or not known):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `initialize'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `open'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `connect'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/timeout.rb:62:in `timeout'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/timeout.rb:93:in `timeout'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `connect'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:553:in `do_start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:542:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:1035:in `request'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:845:in `post'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:67:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:60:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:25:in `setup_purchase'
  app/controllers/donations_controller.rb:36:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 17:14:11) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"90", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"18", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"3", "card_verification"=>"", "card_type"=>"visa", "amount"=>"123", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredd"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(3, '2010-09-01', '2010-09-09 00:14:11', 'visa', NULL, NULL, '2010-09-09 00:14:11', 123.0, 'dd', '127.0.0.1', 'fredd', 1)[0m
  [4;35;1mSQL (24.5ms)[0m   [0mCOMMIT[0m

SocketError (getaddrinfo: nodename nor servname provided, or not known):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `initialize'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `open'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `connect'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/timeout.rb:62:in `timeout'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/timeout.rb:93:in `timeout'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:560:in `connect'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:553:in `do_start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:542:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:1035:in `request'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/net/http.rb:845:in `post'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:67:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:60:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:138:in `retry_exceptions'
  activemerchant (1.7.1) lib/active_merchant/common/connection.rb:54:in `request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:43:in `ssl_request'
  activemerchant (1.7.1) lib/active_merchant/common/posts_data.rb:26:in `ssl_post'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal/paypal_common_api.rb:298:in `commit'
  activemerchant (1.7.1) lib/active_merchant/billing/gateways/paypal_express.rb:25:in `setup_purchase'
  app/controllers/donations_controller.rb:36:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 17:16:49) [GET]
  [4;35;1mDonation Load (0.8ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 255ms (View: 246, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 17:16:52) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (4.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 10, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 17:16:54) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 43) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 44) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 45) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 46) [0m
Rendered gifts/_gift_listing (17.2ms)
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
Rendered gifts/_gift_listing (2.6ms)
Completed in 43ms (View: 28, DB: 10) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-08 17:17:00) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (92.1ms)
Completed in 104ms (View: 94, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-08 17:17:10) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"74", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "commit.y"=>"24", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"3", "card_verification"=>"", "card_type"=>"visa", "amount"=>"122", "card_number"=>"", "last_name"=>"k", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"adil"}}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(3, '2010-09-01', '2010-09-09 00:17:10', 'visa', NULL, NULL, '2010-09-09 00:17:10', 122.0, 'k', '127.0.0.1', 'adil', 1)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9N313994FE500311R
Completed in 926ms (DB: 4) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-08 17:17:51) [GET]
  Parameters: {"token"=>"EC-9N313994FE500311R", "id"=>"47", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.7ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 47) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.3ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-09 00:17:51', `express_token` = 'EC-9N313994FE500311R', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 47[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.5ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 00:17:54', '2010-09-09 00:17:54', 'submit_express_donation', 12200.0, '89166376MG943090K', 1, 47, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-09T00:17:54Z\"\ncorrelation_id: cb15f0d4e281a\ntoken: EC-9N313994FE500311R\npending_reason: none\ntransaction_id: 89166376MG943090K\nbuild: \"1482946\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"122.00\"\nfee_amount: \"3.84\"\nack: Success\npayment_date: \"2010-09-09T00:17:53Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (27.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations/47
Completed in 2966ms (DB: 35) | 302 Found [http://localhost/donations/47/paypal_response?token=EC-9N313994FE500311R&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-08 17:17:54) [GET]
  Parameters: {"id"=>"47"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 47) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 37ms (View: 28, DB: 2) | 200 OK [http://localhost/donations/47]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 17:19:06) [GET]
  [4;35;1mDonation Load (0.7ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 135ms (View: 125, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-08 17:25:20) [DELETE]
  Parameters: {"authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"1"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (53.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 66ms (DB: 57) | 302 Found [http://localhost/donations/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 17:25:20) [GET]
  [4;36;1mDonation Load (0.7ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 210ms (View: 202, DB: 2) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-08 17:25:23) [DELETE]
  Parameters: {"authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"6"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.3ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 6[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 12ms (DB: 4) | 302 Found [http://localhost/donations/6]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 17:25:23) [GET]
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 208ms (View: 198, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-08 17:25:24) [DELETE]
  Parameters: {"authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"7"}
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Destroy (0.2ms)[0m   [0mDELETE FROM `donations` WHERE `id` = 7[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 11ms (DB: 3) | 302 Found [http://localhost/donations/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 17:25:24) [GET]
  [4;36;1mDonation Load (0.7ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (207.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 411ms (View: 195, DB: 208) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#destroy (for 127.0.0.1 at 2010-09-08 17:25:25) [DELETE]
  Parameters: {"authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"8"}
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 8) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Destroy (0.2ms)[0m   [0;1mDELETE FROM `donations` WHERE `id` = 8[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations
Completed in 13ms (DB: 4) | 302 Found [http://localhost/donations/8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-08 17:25:25) [GET]
  [4;35;1mDonation Load (0.7ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 123ms (View: 114, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDonation Delete all (11.5ms)[0m   [0mDELETE FROM `donations` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 17:29:37) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (80.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 339ms (View: 140, DB: 81) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 17:29:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
Rendered gifts/_gift_listing (6.2ms)
  [4;36;1mDonation Load (1.0ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
Rendered gifts/_gift_listing (2.4ms)
Completed in 33ms (View: 20, DB: 7) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-08 17:32:24) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 16ms (View: 9, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-08 17:32:27) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
Rendered gifts/_gift_listing (5.6ms)
  [4;36;1mDonation Load (0.2ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
Rendered gifts/_gift_listing (2.3ms)
Completed in 30ms (View: 19, DB: 6) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (76.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 10:21:47) [GET]
  [4;35;1mBride Load (343.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (205.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 892ms (View: 247, DB: 626) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:21:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (63.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (54.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (41.8ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (1.0ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
Rendered gifts/_gift_listing (90.1ms)
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
Rendered gifts/_gift_listing (1.5ms)
Completed in 806ms (View: 635, DB: 164) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 10:22:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (24.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_form (57.1ms)
Completed in 117ms (View: 84, DB: 27) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-09-09 10:22:28) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"1", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"7", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"500", "name"=>"iPhone", "id"=>"1", "_destroy"=>"1", "total_donations"=>"0"}, "1"=>{"price"=>"700", "name"=>"Purse", "id"=>"2", "_destroy"=>"0", "total_donations"=>"0"}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;36;1mGift Load (33.6ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('1','2')) AND (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 59ms (DB: 40) | 302 Found [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:22:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
Rendered gifts/_gift_listing (5.8ms)
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
Rendered gifts/_gift_listing (4.6ms)
Completed in 116ms (View: 105, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:23:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.6ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 1) [0m
Rendered gifts/_gift_listing (5.5ms)
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
Rendered gifts/_gift_listing (1.6ms)
Completed in 33ms (View: 20, DB: 7) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 10:23:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_form (31.2ms)
Completed in 43ms (View: 32, DB: 5) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-09-09 10:23:35) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"1", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"7", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"500", "name"=>"iPhone", "id"=>"1", "_destroy"=>"1", "total_donations"=>"0"}, "1"=>{"price"=>"700", "name"=>"Purse", "id"=>"2", "_destroy"=>"0", "total_donations"=>"0"}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;36;1mGift Load (0.6ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('1','2')) AND (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Destroy (102.7ms)[0m   [0mDELETE FROM `gifts` WHERE `id` = 1[0m
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mSQL (64.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 274ms (DB: 172) | 302 Found [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:23:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
Rendered gifts/_gift_listing (5.6ms)
Completed in 30ms (View: 19, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:38:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (70.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
Rendered gifts/_gift_listing (6.5ms)
Completed in 120ms (View: 39, DB: 75) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:38:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
Rendered gifts/_gift_listing (6.0ms)
Completed in 113ms (View: 19, DB: 7) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 10:38:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m

ActionView::TemplateError (Missing template brides/_gift_fields.erb in view path app/views) on line #22 of app/views/brides/_form.html.erb:
19: 		<%= link_to_remove_fields "remove", builder %>
20: 	</p>
21: 	<% end %>
22: 	<p><%= link_to_add_fields "Add Gift", f, :gifts %>
23:   <p><%= f.submit %></p>
24: <% end %>

    app/helpers/application_helper.rb:10:in `link_to_add_fields'
    app/helpers/application_helper.rb:9:in `link_to_add_fields'
    app/views/brides/_form.html.erb:22
    app/views/brides/_form.html.erb:1
    app/views/brides/edit.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (164.9ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 10:46:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (36.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m

ActionView::TemplateError (undefined local variable or method `builder' for #<ActionView::Base:0x103227c58>) on line #9 of app/views/brides/_gift_fields.html.erb:
6: 		<%= f.text_field :price %><br/>
7: 		<%= f.label :total_donations, "Donations:" %>
8: 		<%= f.text_field :total_donations %>
9: 		<%= link_to_remove_fields "remove", builder %>
10: 	</p>
11: </div>

    app/views/brides/_gift_fields.html.erb:9
    app/views/brides/_form.html.erb:12
    app/views/brides/_form.html.erb:11
    app/views/brides/_form.html.erb:1
    app/views/brides/edit.html.erb:3
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (91.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 10:47:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_gift_fields (4.2ms)
Rendered brides/_gift_fields (2.5ms)
Rendered brides/_form (130.2ms)
Completed in 143ms (View: 132, DB: 5) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-09-09 10:47:29) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"1", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"7", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"700", "name"=>"Purse", "id"=>"2", "_destroy"=>"", "total_donations"=>"0"}, "1284054436446"=>{"price"=>"700", "name"=>"iPhone", "_destroy"=>"", "total_donations"=>"0"}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;36;1mGift Load (198.7ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('2')) AND (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (13.3ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Create (211.3ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('iPhone', 700.0, '2010-09-09 17:47:29', '2010-09-09 17:47:29', 1, 0.0)[0m
  [4;36;1mSQL (134.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 601ms (DB: 578) | 302 Found [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:47:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (2.8ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 2) [0m
Rendered gifts/_gift_listing (5.8ms)
  [4;35;1mDonation Load (1.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 5) [0m
Rendered gifts/_gift_listing (3.0ms)
Completed in 39ms (View: 24, DB: 8) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 10:47:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (5.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_gift_fields (3.2ms)
Rendered brides/_gift_fields (2.4ms)
Rendered brides/_gift_fields (2.5ms)
Rendered brides/_form (38.4ms)
Completed in 55ms (View: 40, DB: 8) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-09-09 10:47:51) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"1", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"7", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"700", "name"=>"Purse", "id"=>"2", "_destroy"=>"1", "total_donations"=>"0"}, "1"=>{"price"=>"700", "name"=>"iPhone", "id"=>"5", "_destroy"=>"", "total_donations"=>"0"}, "1284054459900"=>{"price"=>"89", "name"=>"plates", "_destroy"=>"", "total_donations"=>"0"}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('2','5')) AND (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Destroy (0.3ms)[0m   [0mDELETE FROM `gifts` WHERE `id` = 2[0m
  [4;36;1mGift Load (0.2ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Create (0.2ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('plates', 89.0, '2010-09-09 17:47:51', '2010-09-09 17:47:51', 1, 0.0)[0m
  [4;36;1mSQL (41.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 68ms (DB: 47) | 302 Found [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:47:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (4.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 5) [0m
Rendered gifts/_gift_listing (5.5ms)
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 6) [0m
Rendered gifts/_gift_listing (83.5ms)
Completed in 118ms (View: 104, DB: 9) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 10:47:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_gift_fields (2.5ms)
Rendered brides/_gift_fields (2.5ms)
Rendered brides/_gift_fields (3.2ms)
Rendered brides/_form (37.7ms)
Completed in 51ms (View: 40, DB: 5) | 200 OK [http://localhost/brides/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 10:48:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.6ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_gift_fields (2.9ms)
Rendered brides/_gift_fields (1.8ms)
Rendered brides/_gift_fields (1.9ms)
Rendered brides/_form (119.0ms)
Completed in 133ms (View: 121, DB: 6) | 200 OK [http://localhost/brides/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-09-09 10:48:36) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"KlHjw1WghzatiPyxrcRYEgE8UH9ShswbgCKJvUf/5zw=", "id"=>"1", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"7", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"1284054507058"=>{"price"=>"", "name"=>"", "_destroy"=>""}, "0"=>{"price"=>"700", "name"=>"iPhone", "id"=>"5", "_destroy"=>""}, "1"=>{"price"=>"89", "name"=>"plates", "id"=>"6", "_destroy"=>""}}, "wedding_day(5i)"=>"00"}}
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('5','6')) AND (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 24ms (DB: 5) | 302 Found [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:48:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (2.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 5) [0m
Rendered gifts/_gift_listing (7.1ms)
  [4;35;1mDonation Load (0.2ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 6) [0m
Rendered gifts/_gift_listing (1.4ms)
Completed in 38ms (View: 23, DB: 9) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 10:48:41) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:48:42) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
Rendered gifts/_gift_listing (5.6ms)
  [4;35;1mDonation Load (0.2ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
Rendered gifts/_gift_listing (1.5ms)
Completed in 32ms (View: 21, DB: 6) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:49:58) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (68.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (105.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (6.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (555.1ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (173.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
Rendered gifts/_gift_listing (178.9ms)
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
Rendered gifts/_gift_listing (1.6ms)
Completed in 2846ms (View: 1926, DB: 909) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 10:52:19) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;36;1mDonation Columns (28.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (177.7ms)
Completed in 345ms (View: 263, DB: 28) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 10:52:50) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"82", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"17", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"3", "card_verification"=>"", "card_type"=>"visa", "amount"=>"99", "card_number"=>"", "last_name"=>"money", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (60.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (102.2ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(3, '2010-09-01', '2010-09-09 17:52:51', 'visa', NULL, NULL, '2010-09-09 17:52:51', 99.0, 'money', '127.0.0.1', 'fred', 1)[0m
  [4;35;1mSQL (30.9ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4BM10926F0958845S
Completed in 2048ms (DB: 194) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 10:53:13) [GET]
  Parameters: {"token"=>"EC-4BM10926F0958845S", "id"=>"48", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 48) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (108.7ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-09 17:53:13', `express_token` = 'EC-4BM10926F0958845S', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 48[0m
  [4;35;1mSQL (16.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (16.3ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (91.0ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 17:53:16', '2010-09-09 17:53:16', 'submit_express_donation', 9900.0, '7EL92785VK1041030', 1, 48, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: 88ce60f85c4f\ntimestamp: \"2010-09-09T17:53:17Z\"\ntoken: EC-4BM10926F0958845S\npending_reason: none\ntransaction_id: 7EL92785VK1041030\nbuild: \"1496296\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\ngross_amount: \"99.00\"\nfee_amount: \"3.17\"\nparent_transaction_id: \nexchange_rate: \nack: Success\npayment_date: \"2010-09-09T17:53:16Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations/48
Completed in 3533ms (DB: 237) | 302 Found [http://localhost/donations/48/paypal_response?token=EC-4BM10926F0958845S&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-09 10:53:16) [GET]
  Parameters: {"id"=>"48"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.9ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 48) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 162ms (View: 151, DB: 3) | 200 OK [http://localhost/donations/48]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-09 10:53:24) [GET]
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (27.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 67ms (View: 33, DB: 28) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 10:53:28) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 58ms (View: 50, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:53:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (19.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.1ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 5) [0m
Rendered gifts/_gift_listing (6.1ms)
  [4;35;1mDonation Load (0.2ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 6) [0m
Rendered gifts/_gift_listing (1.4ms)
Completed in 52ms (View: 21, DB: 25) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 10:53:34) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 100ms (View: 11, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:53:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.1ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 5) [0m
Rendered gifts/_gift_listing (5.7ms)
  [4;35;1mDonation Load (0.9ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 6) [0m
Rendered gifts/_gift_listing (2.5ms)
Completed in 34ms (View: 21, DB: 7) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 10:53:36) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 20ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 10:53:38) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.0ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (65.0ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;35;1mDonation Columns (9.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (86.1ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
Rendered gifts/_gift_listing (174.8ms)
  [4;35;1mDonation Load (53.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
Rendered gifts/_gift_listing (56.0ms)
Completed in 259ms (View: 32, DB: 219) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 11:00:01) [GET]
  Parameters: {"gift_id"=>"4"}
  [4;35;1mDonation Columns (39.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (43.1ms)
Completed in 117ms (View: 68, DB: 40) | 200 OK [http://localhost/donations/new?gift_id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:00:31) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"59", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"19", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"", "card_type"=>"visa", "amount"=>"99", "card_number"=>"", "last_name"=>"m", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"jo"}}
  [4;35;1mDonation Columns (5.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (36.9ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(4, '2010-09-01', '2010-09-09 18:00:31', 'visa', NULL, NULL, '2010-09-09 18:00:31', 99.0, 'm', '127.0.0.1', 'jo', 1)[0m
  [4;36;1mSQL (25.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6EU02070SV892652H
Completed in 848ms (DB: 68) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 11:00:56) [GET]
  Parameters: {"token"=>"EC-6EU02070SV892652H", "id"=>"49", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 49) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.3ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-09 18:00:56', `express_token` = 'EC-6EU02070SV892652H', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 49[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.6ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 18:00:59', '2010-09-09 18:00:59', 'submit_express_donation', 9900.0, '1M443792GT4483056', 1, 49, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: aa1549398ec18\ntimestamp: \"2010-09-09T18:01:00Z\"\ntoken: EC-6EU02070SV892652H\npending_reason: none\ntransaction_id: 1M443792GT4483056\nbuild: \"1496296\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\ngross_amount: \"99.00\"\nfee_amount: \"3.17\"\nparent_transaction_id: \nexchange_rate: \nack: Success\npayment_date: \"2010-09-09T18:00:59Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations/49
Completed in 3365ms (DB: 7) | 302 Found [http://localhost/donations/49/paypal_response?token=EC-6EU02070SV892652H&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-09 11:00:59) [GET]
  Parameters: {"id"=>"49"}
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 49) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 17ms (View: 9, DB: 2) | 200 OK [http://localhost/donations/49]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-09 11:01:08) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (54.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 78ms (View: 17, DB: 55) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 11:03:56) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (39.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 82ms (View: 36, DB: 40) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 11:03:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 5) [0m
Rendered gifts/_gift_listing (8.4ms)
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 6) [0m
Rendered gifts/_gift_listing (1.7ms)
Completed in 63ms (View: 53, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 11:04:03) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 21ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 11:04:05) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
Rendered gifts/_gift_listing (15.1ms)
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
Rendered gifts/_gift_listing (2.7ms)
Completed in 44ms (View: 29, DB: 9) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 11:04:34) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.5ms)
Completed in 72ms (View: 61, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:05:04) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"3", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"999", "card_number"=>"4841232554653570", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"1", "first_name"=>"freddy"}}
  [4;35;1mDonation Columns (9.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (22.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(3, '2015-01-01', '2010-09-09 18:05:04', 'visa', NULL, NULL, '2010-09-09 18:05:04', 999.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;36;1mSQL (41.4ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6RU8828863450591P
Completed in 803ms (DB: 74) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 11:05:31) [GET]
  Parameters: {"token"=>"EC-6RU8828863450591P", "id"=>"50", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 50) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (58.3ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-09 18:05:31', `express_token` = 'EC-6RU8828863450591P', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 50[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.4ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 18:05:34', '2010-09-09 18:05:34', 'submit_express_donation', 99900.0, '1CM33568RD941605C', 1, 50, '--- \ntax_amount_currency_id: USD\npayment_status: Completed\ncorrelation_id: 8cb9af3ad817a\ntimestamp: \"2010-09-09T18:05:35Z\"\ntoken: EC-6RU8828863450591P\npending_reason: none\ntransaction_id: 1CM33568RD941605C\nbuild: \"1496296\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nversion: \"59.0\"\nreceipt_id: \ngross_amount_currency_id: USD\ngross_amount: \"999.00\"\nfee_amount: \"29.27\"\nparent_transaction_id: \nexchange_rate: \nack: Success\npayment_date: \"2010-09-09T18:05:34Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations/50
Completed in 3204ms (DB: 83) | 302 Found [http://localhost/donations/50/paypal_response?token=EC-6RU8828863450591P&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-09 11:05:34) [GET]
  Parameters: {"id"=>"50"}
  [4;36;1mDonation Columns (13.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 50) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 29ms (View: 8, DB: 14) | 200 OK [http://localhost/donations/50]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 11:05:49) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 11:05:51) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
Rendered gifts/_gift_listing (18.0ms)
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
Rendered gifts/_gift_listing (2.5ms)
Completed in 127ms (View: 30, DB: 10) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 11:09:39) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;36;1mDonation Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;36;1mDonationTransaction Load (0.8ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
Rendered gifts/_gift_listing (22.1ms)
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
Rendered gifts/_gift_listing (3.4ms)
Completed in 113ms (View: 63, DB: 8) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 11:09:42) [GET]
  Parameters: {"gift_id"=>"4"}
  [4;36;1mDonation Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (61.8ms)
Completed in 310ms (View: 296, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:10:37) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"88", "card_number"=>"4841232554653570", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"1", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(4, '2015-01-01', '2010-09-09 18:14:51', 'visa', NULL, NULL, '2010-09-09 18:14:51', 88.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-8KN34173F4379460X
Completed in 253924ms (DB: 5) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 11:26:54) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (25.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 135ms (View: 85, DB: 26) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 11:26:59) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (68.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (2.0ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;35;1mDonation Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
Rendered gifts/_gift_listing (19.4ms)
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
Rendered gifts/_gift_listing (4.4ms)
Completed in 245ms (View: 162, DB: 77) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 11:27:02) [GET]
  Parameters: {"gift_id"=>"4"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (74.8ms)
Completed in 152ms (View: 142, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:27:29) [POST]
  Parameters: {"commit"=>"Submit Donation", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"899", "card_number"=>"4841232554653570", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"1", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (58.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m

NoMethodError (undefined method `paypal' for #<Donation:0x103247558>):
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (139.5ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:28:20) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"84", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"13", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"000", "card_type"=>"visa", "amount"=>"899", "card_number"=>"4841232554653570", "last_name"=>"hernandez", "card_expiration(1i)"=>"2015", "card_expiration(2i)"=>"1", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (41.6ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.8ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(4, '2015-01-01', '2010-09-09 18:28:20', 'visa', NULL, NULL, '2010-09-09 18:28:20', 899.0, 'hernandez', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (26.5ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0PS66666GC7432012
Completed in 1116ms (DB: 69) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 11:29:27) [GET]
  Parameters: {"token"=>"EC-0PS66666GC7432012", "id"=>"52", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 52) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-09 18:29:27', `express_token` = 'EC-0PS66666GC7432012', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 52[0m
  [4;35;1mSQL (20.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (29.9ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 18:29:31', '2010-09-09 18:29:31', 'submit_express_donation', 89900.0, '99N4729973134743W', 1, 52, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: d79e8936c6f\ntimestamp: \"2010-09-09T18:29:32Z\"\npending_reason: none\ntoken: EC-0PS66666GC7432012\ntransaction_id: 99N4729973134743W\nbuild: \"1496296\"\nfee_amount_currency_id: USD\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"26.37\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"899.00\"\nack: Success\npayment_date: \"2010-09-09T18:29:30Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations/52
Completed in 3647ms (DB: 58) | 302 Found [http://localhost/donations/52/paypal_response?token=EC-0PS66666GC7432012&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-09 11:29:31) [GET]
  Parameters: {"id"=>"52"}
  [4;35;1mDonation Columns (75.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.8ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 52) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 251ms (View: 71, DB: 77) | 200 OK [http://localhost/donations/52]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 11:29:51) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 55ms (View: 47, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 11:29:53) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (1.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;36;1mDonation Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
Rendered gifts/_gift_listing (19.8ms)
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 52) [0m
Rendered gifts/_gift_listing (5.6ms)
Completed in 50ms (View: 34, DB: 10) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 11:29:54) [GET]
  Parameters: {"gift_id"=>"4"}
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (14.2ms)
Completed in 113ms (View: 18, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:30:02) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"86", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"12", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"", "card_type"=>"visa", "amount"=>"65", "card_number"=>"", "last_name"=>"dd", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"gf"}}
  [4;36;1mDonation Columns (14.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (57.6ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(4, '2010-09-01', '2010-09-09 18:30:02', 'visa', NULL, NULL, '2010-09-09 18:30:02', 65.0, 'dd', '127.0.0.1', 'gf', 1)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4883171200621072V
Completed in 944ms (DB: 73) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 11:30:23) [GET]
  Parameters: {"token"=>"EC-4883171200621072V", "id"=>"53", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 53) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-09 18:30:23', `express_token` = 'EC-4883171200621072V' WHERE `id` = 53[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 18:30:24', '2010-09-09 18:30:24', 'submit_express_donation', 6500.0, NULL, 0, 53, '--- \ndo_express_checkout_payment_response_details: \ncorrelation_id: d6dd7d0b53940\ntimestamp: \"2010-09-09T18:30:24Z\"\nbuild: \"1496296\"\nerror_codes: \"10419,10406\"\nversion: \"59.0\"\nack: Failure\nmessage: Express Checkout PayerID is missing.. The PayerID value is invalid.\n', 'Express Checkout PayerID is missing.. The PayerID value is invalid.')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1849ms (View: 36, DB: 7) | 200 OK [http://localhost/donations/53/paypal_response?token=EC-4883171200621072V&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 11:33:00) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 71ms (View: 64, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 11:33:02) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (16.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
Rendered gifts/_gift_listing (31.7ms)
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 52) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 53) [0m
Rendered gifts/_gift_listing (6.4ms)
Completed in 64ms (View: 31, DB: 26) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 11:33:03) [GET]
  Parameters: {"gift_id"=>"4"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (57.6ms)
Completed in 72ms (View: 61, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:33:17) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"53", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"15", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"", "card_type"=>"visa", "amount"=>"90", "card_number"=>"", "last_name"=>"ll", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"pl"}}
  [4;36;1mDonation Columns (25.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (3.5ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(4, '2010-09-01', '2010-09-09 18:33:17', 'visa', NULL, NULL, '2010-09-09 18:33:17', 90.0, 'll', '127.0.0.1', 'pl', 1)[0m
  [4;35;1mSQL (29.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6RY38109L7402430N
Completed in 738ms (DB: 59) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 11:55:05) [GET]
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 194ms (View: 151, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 11:55:07) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.5ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (33.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
Rendered gifts/_gift_listing (18.6ms)
  [4;36;1mDonation Load (0.6ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 52) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 53) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 54) [0m
Rendered gifts/_gift_listing (7.2ms)
Completed in 200ms (View: 151, DB: 42) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 11:55:09) [GET]
  Parameters: {"gift_id"=>"4"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (39.0ms)
Completed in 85ms (View: 74, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:55:18) [POST]
  Parameters: {"lc"=>"US", "bn"=>"PP-DonationsBF:btn_donate_SM.gif:NonHostedGuest", "business"=>"fheez_1282856089_biz@gmail.com", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "cmd"=>"_donations", "item_name"=>"ptn", "no_note"=>"0", "submit.x"=>"56", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"", "card_type"=>"visa", "amount"=>"", "card_number"=>"", "last_name"=>"", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>""}, "submit.y"=>"7", "currency_code"=>"USD"}
  [4;35;1mDonation Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `donations`[0m

NoMethodError (undefined method `paypal' for #<Donation:0x10322caa0>):
  app/controllers/donations_controller.rb:27:in `create'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.4ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 11:57:09) [GET]
  Parameters: {"gift_id"=>"4"}
  [4;35;1mDonation Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (12.0ms)
Completed in 26ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:57:19) [POST]
  Parameters: {"lc"=>"US", "bn"=>"PP-DonationsBF:btn_donate_SM.gif:NonHostedGuest", "business"=>"fheez_1282856089_biz@gmail.com", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "cmd"=>"_donations", "item_name"=>"ptn", "no_note"=>"0", "submit.x"=>"35", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"", "card_type"=>"visa", "amount"=>"77", "card_number"=>"", "last_name"=>"ggg", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}, "submit.y"=>"12", "currency_code"=>"USD"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 11:57:36) [POST]
  Parameters: {"lc"=>"US", "bn"=>"PP-DonationsBF:btn_donate_SM.gif:NonHostedGuest", "business"=>"fheez_1282856089_biz@gmail.com", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "cmd"=>"_donations", "item_name"=>"ptn", "no_note"=>"0", "submit.x"=>"34", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"", "card_type"=>"visa", "amount"=>"77", "card_number"=>"", "last_name"=>"ggg", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fred"}, "submit.y"=>"6", "currency_code"=>"USD"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:02:15) [GET]
  Parameters: {"gift_id"=>"4"}
  [4;35;1mDonation Columns (34.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (154.4ms)
Completed in 552ms (View: 331, DB: 35) | 200 OK [http://localhost/donations/new?gift_id=4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:02:37) [POST]
  Parameters: {"commit"=>"paypal_express", "lc"=>"US", "bn"=>"PP-DonationsBF:btn_donate_SM.gif:NonHostedGuest", "business"=>"fheez_1282856089_biz@gmail.com", "commit.x"=>"49", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"7", "cmd"=>"_donations", "item_name"=>"ptn", "no_note"=>"0", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"4", "card_verification"=>"", "card_type"=>"visa", "amount"=>"12", "card_number"=>"", "last_name"=>"ee", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"ff"}, "currency_code"=>"USD"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.4ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(4, '2010-09-01', '2010-09-09 20:02:37', 'visa', NULL, NULL, '2010-09-09 20:02:37', 12.0, 'ee', '127.0.0.1', 'ff', 1)[0m
  [4;36;1mSQL (28.6ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5KU484815K897750N
Completed in 1643ms (DB: 31) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 13:02:51) [GET]
  Parameters: {"token"=>"EC-5KU484815K897750N"}
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 193ms (View: 184, DB: 2) | 200 OK [http://localhost/brides?token=EC-5KU484815K897750N]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:24:18) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (37.0ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (55.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;36;1mDonationTransaction Load (2.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
Rendered gifts/_gift_listing (76.7ms)
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 52) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 53) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 54) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 55) [0m
Rendered gifts/_gift_listing (7.5ms)
Completed in 251ms (View: 142, DB: 102) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:26:46) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (39.1ms)
Completed in 78ms (View: 67, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:26:58) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (13.8ms)
Completed in 112ms (View: 100, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:27:09) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"78", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"3", "donation"=>{"card_expiration(3i)"=>"1", "gift_id"=>"3", "card_verification"=>"", "card_type"=>"visa", "amount"=>"55", "card_number"=>"", "last_name"=>"qq", "card_expiration(1i)"=>"2010", "card_expiration(2i)"=>"9", "first_name"=>"fredddd"}}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(3, '2010-09-01', '2010-09-09 20:27:09', 'visa', NULL, NULL, '2010-09-09 20:27:09', 55.0, 'qq', '127.0.0.1', 'fredddd', 1)[0m
  [4;36;1mSQL (41.2ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-1HD83876CB381330V
Completed in 805ms (DB: 44) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 13:28:33) [GET]
  Parameters: {"token"=>"EC-1HD83876CB381330V", "id"=>"56", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (42.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (1.6ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 56) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.8ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-09 20:28:33', `express_token` = 'EC-1HD83876CB381330V', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 56[0m
  [4;36;1mSQL (25.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (2.8ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 20:28:36', '2010-09-09 20:28:36', 'submit_express_donation', 5500.0, '2WT03824J3815530N', 1, 56, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-09T20:28:36Z\"\ncorrelation_id: 2fc575c972eaa\npending_reason: none\ntoken: EC-1HD83876CB381330V\ntransaction_id: 2WT03824J3815530N\nbuild: \"1496296\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"1.90\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"55.00\"\nack: Success\npayment_date: \"2010-09-09T20:28:36Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/donations/56
Completed in 2986ms (DB: 80) | 302 Found [http://localhost/donations/56/paypal_response?token=EC-1HD83876CB381330V&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-09 13:28:36) [GET]
  Parameters: {"id"=>"56"}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.8ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 56) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 65ms (View: 56, DB: 3) | 200 OK [http://localhost/donations/56]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-09 13:28:45) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 63ms (View: 54, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 13:28:49) [GET]
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (922.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 1024ms (View: 95, DB: 923) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:28:52) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (1.2ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;36;1mDonationTransaction Load (1.1ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 56) [0m
Rendered gifts/_gift_listing (22.6ms)
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 52) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 53) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 54) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 55) [0m
Rendered gifts/_gift_listing (7.0ms)
Completed in 142ms (View: 123, DB: 13) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:32:31) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;36;1mDonation Columns (25.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (118.6ms)
Completed in 159ms (View: 125, DB: 26) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:34:00) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (8.7ms)
Completed in 26ms (View: 15, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 13:36:50) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 11, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:36:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.9ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 5) [0m
Rendered gifts/_gift_listing (8.0ms)
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 6) [0m
Rendered gifts/_gift_listing (1.4ms)
Completed in 38ms (View: 26, DB: 6) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 13:36:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_gift_fields (2.4ms)
Rendered brides/_gift_fields (2.7ms)
Rendered brides/_gift_fields (1.8ms)
Rendered brides/_form (65.6ms)
Completed in 106ms (View: 96, DB: 4) | 200 OK [http://localhost/brides/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-09-09 13:37:04) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "id"=>"1", "bride"=>{"name"=>"Barbie", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"7", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"1284064619325"=>{"price"=>"123", "name"=>"gg", "_destroy"=>""}, "0"=>{"price"=>"700", "name"=>"iPhone", "id"=>"5", "_destroy"=>"1"}, "1"=>{"price"=>"89", "name"=>"plates", "id"=>"6", "_destroy"=>"1"}}, "wedding_day(5i)"=>"00"}}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('5','6')) AND (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (4.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mGift Destroy (0.3ms)[0m   [0;1mDELETE FROM `gifts` WHERE `id` = 5[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Destroy (0.2ms)[0m   [0;1mDELETE FROM `gifts` WHERE `id` = 6[0m
  [4;35;1mGift Create (0.2ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('gg', 123.0, '2010-09-09 20:37:04', '2010-09-09 20:37:04', 1, NULL)[0m
  [4;36;1mSQL (48.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/1
Completed in 78ms (DB: 57) | 302 Found [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:37:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 7) [0m
Rendered gifts/_gift_listing (5.8ms)
Completed in 30ms (View: 19, DB: 5) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:37:08) [GET]
  Parameters: {"gift_id"=>"7"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (8.0ms)
Completed in 22ms (View: 11, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:37:17) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"76", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"12", "donation"=>{"gift_id"=>"7", "amount"=>"123", "last_name"=>"ggg", "first_name"=>"freddy"}}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(7, NULL, '2010-09-09 20:37:17', NULL, NULL, NULL, '2010-09-09 20:37:17', 123.0, 'ggg', '127.0.0.1', 'freddy', 1)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-4E553222UX487961K
Completed in 1698ms (DB: 4) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 13:37:51) [GET]
  Parameters: {"token"=>"EC-4E553222UX487961K", "id"=>"57", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 57) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-09 20:37:51', `express_token` = 'EC-4E553222UX487961K', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 57[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (1.1ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 20:37:54', '2010-09-09 20:37:54', 'submit_express_donation', 12300.0, '0J913217J9088130U', 1, 57, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-09T20:37:55Z\"\ncorrelation_id: 1e39c018a53b6\npending_reason: none\ntoken: EC-4E553222UX487961K\ntransaction_id: 0J913217J9088130U\nbuild: \"1496296\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"3.87\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"123.00\"\nack: Success\npayment_date: \"2010-09-09T20:37:54Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations/57
Completed in 3069ms (DB: 9) | 302 Found [http://localhost/donations/57/paypal_response?token=EC-4E553222UX487961K&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-09 13:37:54) [GET]
  Parameters: {"id"=>"57"}
  [4;35;1mDonation Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 57) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 9, DB: 2) | 200 OK [http://localhost/donations/57]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 13:38:03) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 20ms (View: 11, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:38:05) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.8ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;36;1mDonation Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 56) [0m
Rendered gifts/_gift_listing (16.4ms)
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;36;1mDonationTransaction Load (0.9ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 52) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 53) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 54) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 55) [0m
Rendered gifts/_gift_listing (8.8ms)
Completed in 51ms (View: 33, DB: 12) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:38:12) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 56) [0m
Rendered gifts/_gift_listing (18.5ms)
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 52) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 53) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 54) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 55) [0m
Rendered gifts/_gift_listing (7.7ms)
Completed in 130ms (View: 113, DB: 10) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 13:38:15) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 18ms (View: 10, DB: 2) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:38:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.2ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 7) [0m
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.6ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 57) [0m
Rendered gifts/_gift_listing (16.9ms)
Completed in 43ms (View: 28, DB: 8) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:38:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;35;1mGift Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 7) [0m
  [4;35;1mDonation Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 57) [0m
Rendered gifts/_gift_listing (98.5ms)
Completed in 132ms (View: 118, DB: 8) | 200 OK [http://localhost/brides/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:51:30) [GET]
  Parameters: {"gift_id"=>"7"}
  [4;36;1mDonation Columns (45.8ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (34.1ms)
Completed in 124ms (View: 69, DB: 46) | 200 OK [http://localhost/donations/new?gift_id=7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:51:33) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"100", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"16", "donation"=>{"gift_id"=>"7", "amount"=>"", "last_name"=>"", "first_name"=>""}}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:51:55) [GET]
  Parameters: {"gift_id"=>"7"}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (8.8ms)
Completed in 28ms (View: 16, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:51:57) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"63", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"10", "donation"=>{"gift_id"=>"7", "amount"=>"", "last_name"=>"", "first_name"=>""}}
  [4;36;1mDonation Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ActionView::MissingTemplate (Missing template donations/create.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 13:52:35) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 52ms (View: 45, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:52:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 7) [0m
  [4;36;1mDonation Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.4ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 57) [0m
Rendered gifts/_gift_listing (15.7ms)
Completed in 42ms (View: 28, DB: 9) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:52:38) [GET]
  Parameters: {"gift_id"=>"7"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (9.5ms)
Completed in 106ms (View: 16, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=7]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:52:44) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"68", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"3", "donation"=>{"gift_id"=>"7", "amount"=>"23", "last_name"=>"dd", "first_name"=>"ff"}}
  [4;35;1mDonation Columns (27.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (28.7ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(7, NULL, '2010-09-09 20:52:44', NULL, NULL, NULL, '2010-09-09 20:52:44', 23.0, 'dd', '127.0.0.1', 'ff', 1)[0m
  [4;36;1mSQL (91.2ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-63718177PT102545E
Completed in 878ms (DB: 147) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:53:12) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"74", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"24", "donation"=>{"gift_id"=>"7", "amount"=>"23", "last_name"=>"dd", "first_name"=>"ff"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(7, NULL, '2010-09-09 20:53:12', NULL, NULL, NULL, '2010-09-09 20:53:12', 23.0, 'dd', '127.0.0.1', 'ff', 1)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0U581179A6741711W
Completed in 649ms (DB: 3) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 13:53:29) [GET]
  Parameters: {"token"=>"EC-0U581179A6741711W", "id"=>"59", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 59) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-09 20:53:29', `express_token` = 'EC-0U581179A6741711W', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 59[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 20:53:32', '2010-09-09 20:53:32', 'submit_express_donation', 2300.0, '30757134VY3790005', 1, 59, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-09T20:53:33Z\"\ncorrelation_id: d8352bad86854\npending_reason: none\ntoken: EC-0U581179A6741711W\ntransaction_id: 30757134VY3790005\nbuild: \"1496296\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"0.97\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"23.00\"\nack: Success\npayment_date: \"2010-09-09T20:53:32Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/donations/59
Completed in 3564ms (DB: 9) | 302 Found [http://localhost/donations/59/paypal_response?token=EC-0U581179A6741711W&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-09 13:53:32) [GET]
  Parameters: {"id"=>"59"}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 59) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 19ms (View: 9, DB: 4) | 200 OK [http://localhost/donations/59]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#show (for 127.0.0.1 at 2010-09-09 13:54:38) [GET]
  Parameters: {"id"=>"59"}
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 59) [0m
Rendering template within layouts/application
Rendering donations/show
Completed in 18ms (View: 8, DB: 3) | 200 OK [http://localhost/donations/59]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 13:54:42) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:54:43) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.5ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 3) [0m
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 48) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 50) [0m
  [4;36;1mDonationTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 56) [0m
Rendered gifts/_gift_listing (19.6ms)
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 4) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 49) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 51) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 52) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 53) [0m
  [4;36;1mDonationTransaction Load (0.2ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 54) [0m
  [4;35;1mDonationTransaction Load (0.2ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 55) [0m
Rendered gifts/_gift_listing (6.8ms)
Completed in 52ms (View: 34, DB: 12) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:54:45) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.5ms)
Completed in 21ms (View: 11, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:54:48) [GET]
  Parameters: {"gift_id"=>"3"}
  [4;35;1mDonation Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.1ms)
Completed in 22ms (View: 10, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 13:54:50) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.7ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_gift_fields (2.3ms)
Rendered brides/_gift_fields (2.1ms)
Rendered brides/_gift_fields (3.6ms)
Rendered brides/_form (127.4ms)
Completed in 140ms (View: 129, DB: 5) | 200 OK [http://localhost/brides/2/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-09-09 13:55:00) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "id"=>"2", "bride"=>{"name"=>"j", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"9", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"1284065694862"=>{"price"=>"", "name"=>"", "_destroy"=>"1"}, "0"=>{"price"=>"500", "name"=>"iPhone", "id"=>"3", "_destroy"=>"1"}, "1"=>{"price"=>"800", "name"=>"bag", "id"=>"4", "_destroy"=>"1"}, "1284065696193"=>{"price"=>"123", "name"=>"f", "_destroy"=>""}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (17.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (2.8ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
  [4;36;1mGift Load (1.2ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('3','4')) AND (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Destroy (0.3ms)[0m   [0mDELETE FROM `gifts` WHERE `id` = 3[0m
  [4;36;1mGift Load (0.2ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Destroy (0.2ms)[0m   [0mDELETE FROM `gifts` WHERE `id` = 4[0m
  [4;36;1mGift Create (0.2ms)[0m   [0;1mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('f', 123.0, '2010-09-09 20:55:00', '2010-09-09 20:55:00', 2, NULL)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/brides/2
Completed in 47ms (DB: 26) | 302 Found [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:55:00) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.0ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 8) [0m
Rendered gifts/_gift_listing (6.1ms)
Completed in 33ms (View: 20, DB: 6) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:55:01) [GET]
  Parameters: {"gift_id"=>"8"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (7.4ms)
Completed in 103ms (View: 11, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:55:06) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"85", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"2", "donation"=>{"gift_id"=>"8", "amount"=>"12", "last_name"=>"d", "first_name"=>"frederick"}}
  [4;35;1mDonation Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Create (0.3ms)[0m   [0mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(8, NULL, '2010-09-09 20:55:06', NULL, NULL, NULL, '2010-09-09 20:55:06', 12.0, 'd', '127.0.0.1', 'frederick', 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-6LW78988C0159283N
Completed in 701ms (DB: 4) | 302 Found [http://localhost/donations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 13:55:22) [GET]
  Parameters: {"token"=>"EC-6LW78988C0159283N", "id"=>"60", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 60) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonation Update (0.3ms)[0m   [0mUPDATE `donations` SET `updated_at` = '2010-09-09 20:55:22', `express_token` = 'EC-6LW78988C0159283N', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 60[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (0.3ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 20:55:25', '2010-09-09 20:55:25', 'submit_express_donation', 1200.0, '1VM406131S3864143', 1, 60, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-09T20:55:26Z\"\ncorrelation_id: 52c7d8bb449d\npending_reason: none\ntoken: EC-6LW78988C0159283N\ntransaction_id: 1VM406131S3864143\nbuild: \"1496296\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"0.65\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"12.00\"\nack: Success\npayment_date: \"2010-09-09T20:55:25Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;36;1mSQL (22.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mGift Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mGift Load (0.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 8) [0m
Redirected to http://localhost:3000/brides.2
Completed in 3099ms (DB: 32) | 302 Found [http://localhost/donations/60/paypal_response?token=EC-6LW78988C0159283N&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index to 2 (for 127.0.0.1 at 2010-09-09 13:55:25) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m

ActionView::MissingTemplate (Missing template brides/index.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index to 2 (for 127.0.0.1 at 2010-09-09 13:55:46) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m

ActionView::MissingTemplate (Missing template brides/index.erb in view path app/views):
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/FreddyHernandezJr/.rvm/rubies/ruby-1.8.7-p174/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-09 13:55:57) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"91", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "commit.y"=>"23", "donation"=>{"gift_id"=>"8", "amount"=>"12", "last_name"=>"d", "first_name"=>"frederick"}}
  [4;36;1mDonation Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.3ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(8, NULL, '2010-09-09 20:55:57', NULL, NULL, NULL, '2010-09-09 20:55:57', 12.0, 'd', '127.0.0.1', 'frederick', 1)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9KF82397EP345543G
Completed in 737ms (DB: 3) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 13:56:14) [GET]
  Parameters: {"token"=>"EC-9KF82397EP345543G", "id"=>"61", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 61) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-09 20:56:14', `express_token` = 'EC-9KF82397EP345543G', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 61[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (1.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 20:56:17', '2010-09-09 20:56:17', 'submit_express_donation', 1200.0, '4UL26421Y03489742', 1, 61, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ntimestamp: \"2010-09-09T20:56:18Z\"\ncorrelation_id: ac86512731aaf\npending_reason: none\ntoken: EC-9KF82397EP345543G\ntransaction_id: 4UL26421Y03489742\nbuild: \"1496296\"\ntransaction_type: express-checkout\ntax_amount: \"0.00\"\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"0.65\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"12.00\"\nack: Success\npayment_date: \"2010-09-09T20:56:17Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 8) [0m
Redirected to http://localhost:3000/brides/2
Completed in 3696ms (DB: 10) | 302 Found [http://localhost/donations/61/paypal_response?token=EC-9KF82397EP345543G&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 13:56:17) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 8) [0m
  [4;36;1mDonation Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 60) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 61) [0m
Rendered gifts/_gift_listing (17.2ms)
Completed in 128ms (View: 114, DB: 8) | 200 OK [http://localhost/brides/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-09 13:57:27) [GET]
  Parameters: {"gift_id"=>"8"}
  [4;36;1mDonation Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (34.3ms)
Completed in 118ms (View: 107, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=8]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mDonation Load (0.6ms)[0m   [0mSELECT * FROM `donations` [0m
  [4;36;1mDonation Columns (14.7ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.8ms)[0m   [0mSELECT * FROM `donation_transactions` [0m
  [4;36;1mDonationTransaction Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mDonationTransaction Load (0.9ms)[0m   [0mSELECT * FROM `donation_transactions` LIMIT 1[0m
  [4;36;1mSQL (116.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mDonationTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.`id` = '--- :second\n') [0m
  [4;35;1mDonationTransaction Load (1.0ms)[0m   [0mSELECT * FROM `donation_transactions` [0m
  [4;36;1mDonationTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.`id` = 23) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 14:07:19) [GET]
  [4;36;1mBride Load (24.8ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (39.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 162ms (View: 50, DB: 65) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-09 14:07:24) [GET]
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Completed in 163ms (View: 154, DB: 3) | 200 OK [http://localhost/donations]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 14:07:55) [GET]
  Parameters: {"token"=>"EC-9KF82397EP345543G", "id"=>"61", "PayerID"=>"WR7XWRYN233AL"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonation Load (0.3ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.`id` = 61) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 21:07:56', '2010-09-09 21:07:56', 'submit_express_donation', 1200.0, NULL, 0, 61, '--- \ndo_express_checkout_payment_response_details: \ntimestamp: \"2010-09-09T21:07:56Z\"\ncorrelation_id: 367441dfcac27\nbuild: \"1496296\"\nerror_codes: \"10415\"\nversion: \"59.0\"\nack: Failure\nmessage: A successful transaction has already been completed for this token.\n', 'A successful transaction has already been completed for this token.')[0m
  [4;35;1mSQL (41.3ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 1086ms (View: 43, DB: 47) | 200 OK [http://localhost/donations/61/paypal_response?token=EC-9KF82397EP345543G&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 14:08:07) [GET]
  Parameters: {"token"=>"EC-9KF82397EP345543G", "id"=>"60", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (1.8ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 60) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-09 21:08:07', `express_token` = 'EC-9KF82397EP345543G' WHERE `id` = 60[0m
  [4;35;1mSQL (30.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 21:08:08', '2010-09-09 21:08:08', 'submit_express_donation', 1200.0, NULL, 0, 60, '--- \ndo_express_checkout_payment_response_details: \ntimestamp: \"2010-09-09T21:08:08Z\"\ncorrelation_id: 1073359ac5e32\nbuild: \"1496296\"\nerror_codes: \"10415\"\nversion: \"59.0\"\nack: Failure\nmessage: A successful transaction has already been completed for this token.\n', 'A successful transaction has already been completed for this token.')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 795ms (View: 3, DB: 40) | 200 OK [http://localhost/donations/60/paypal_response?token=EC-9KF82397EP345543G&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-09 14:08:11) [GET]
  Parameters: {"token"=>"EC-9KF82397EP345543G", "id"=>"60", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 60) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mDonationTransaction Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDonationTransaction Create (162.8ms)[0m   [0mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-09 21:08:11', '2010-09-09 21:08:11', 'submit_express_donation', 1200.0, NULL, 0, 60, '--- \ndo_express_checkout_payment_response_details: \ntimestamp: \"2010-09-09T21:08:12Z\"\ncorrelation_id: 6b3861cd3ee3e\nbuild: \"1496296\"\nerror_codes: \"10415\"\nversion: \"59.0\"\nack: Failure\nmessage: A successful transaction has already been completed for this token.\n', 'A successful transaction has already been completed for this token.')[0m
  [4;36;1mSQL (17.1ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering donations/failure
Completed in 968ms (View: 4, DB: 186) | 200 OK [http://localhost/donations/60/paypal_response?token=EC-9KF82397EP345543G&PayerID=WR7XWRYN233AL]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 14:09:50) [GET]
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 18ms (View: 10, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-09-09 14:09:52) [GET]
  [4;35;1mBride Columns (24.8ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_gift_fields (1.7ms)
Rendered brides/_gift_fields (1.6ms)
Rendered brides/_gift_fields (1.8ms)
Rendered brides/_form (59.1ms)
Completed in 131ms (View: 92, DB: 27) | 200 OK [http://localhost/brides/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 14:10:48) [GET]
  [4;36;1mBride Load (0.4ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;35;1mBride Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
Completed in 103ms (View: 12, DB: 3) | 200 OK [http://localhost/brides]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 14:11:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 1) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (1.6ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 1) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 7) [0m
  [4;36;1mDonation Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 57) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 58) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 59) [0m
Rendered gifts/_gift_listing (18.4ms)
Completed in 44ms (View: 27, DB: 11) | 200 OK [http://localhost/brides/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-09 14:11:16) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 18ms (View: 11, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 14:11:17) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (1.8ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 8) [0m
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 60) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 61) [0m
Rendered gifts/_gift_listing (16.5ms)
Completed in 42ms (View: 26, DB: 10) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-09 14:11:19) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBride Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_gift_fields (1.8ms)
Rendered brides/_gift_fields (1.8ms)
Rendered brides/_form (31.3ms)
Completed in 44ms (View: 33, DB: 5) | 200 OK [http://localhost/brides/2/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#update (for 127.0.0.1 at 2010-09-09 14:11:25) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"0V7Ky6J6n++EyjQrEscRbUk3J6fzX0Nq+zN/Z1xK8Tc=", "id"=>"2", "bride"=>{"name"=>"j", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"9", "wedding_day(4i)"=>"00", "gifts_attributes"=>{"0"=>{"price"=>"123", "name"=>"f", "id"=>"8", "_destroy"=>""}, "1284066681281"=>{"price"=>"3232", "name"=>"ad", "_destroy"=>""}}, "wedding_day(5i)"=>"00"}}
  [4;36;1mBride Columns (19.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (2.1ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.`id` IN ('8')) AND (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGift Create (0.3ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('ad', 3232.0, '2010-09-09 21:11:25', '2010-09-09 21:11:25', 2, NULL)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/2
Completed in 46ms (DB: 24) | 302 Found [http://localhost/brides/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-09 14:11:25) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 2) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 2) [0m
  [4;35;1mGift Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 8) [0m
  [4;35;1mDonation Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.5ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 60) [0m
  [4;35;1mDonationTransaction Load (0.3ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 61) [0m
Rendered gifts/_gift_listing (17.8ms)
  [4;36;1mDonation Load (0.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 9) [0m
Rendered gifts/_gift_listing (1.6ms)
Completed in 43ms (View: 27, DB: 10) | 200 OK [http://localhost/brides/2]
  [4;36;1mSQL (103.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-10 00:32:55) [GET]
  [4;35;1mBride Load (137.0ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (92.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 529ms (View: 192, DB: 333) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#new (for 127.0.0.1 at 2010-09-10 00:32:59) [GET]
  [4;36;1mBride Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mGift Columns (42.9ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendering template within layouts/application
Rendering brides/new
Rendered brides/_gift_fields (20.5ms)
Rendered brides/_gift_fields (1.6ms)
Rendered brides/_gift_fields (1.8ms)
Rendered brides/_form (115.8ms)
Completed in 359ms (View: 157, DB: 56) | 200 OK [http://localhost/brides/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#create (for 127.0.0.1 at 2010-09-10 00:33:27) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"oWI4ycYGJFoDYOxCr4yk1Oj01PHyvNRtadvNILrLjss=", "bride"=>{"name"=>"rebecca daniel", "wedding_day(1i)"=>"2010", "wedding_day(2i)"=>"9", "wedding_day(3i)"=>"10", "wedding_day(4i)"=>"07", "gifts_attributes"=>{"1284103991130"=>{"price"=>"9000", "name"=>"Diamond Ring", "_destroy"=>""}, "0"=>{"price"=>"", "name"=>"", "_destroy"=>"1"}, "1"=>{"price"=>"", "name"=>"", "_destroy"=>"1"}, "1284103992385"=>{"price"=>"", "name"=>"", "_destroy"=>"1"}}, "wedding_day(5i)"=>"32"}}
  [4;35;1mBride Columns (5.5ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mGift Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mSQL (9.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBride Create (184.2ms)[0m   [0;1mINSERT INTO `brides` (`name`, `created_at`, `updated_at`, `wedding_day`) VALUES('rebecca daniel', '2010-09-10 07:33:27', '2010-09-10 07:33:27', '2010-09-10')[0m
  [4;35;1mGift Create (33.6ms)[0m   [0mINSERT INTO `gifts` (`name`, `price`, `created_at`, `updated_at`, `bride_id`, `total_donations`) VALUES('Diamond Ring', 9000.0, '2010-09-10 07:33:27', '2010-09-10 07:33:27', 3, NULL)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/brides/3
Completed in 261ms (DB: 238) | 302 Found [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-10 00:33:27) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mBride Columns (6.1ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (57.1ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 3) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (36.3ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 10) [0m
Rendered gifts/_gift_listing (85.3ms)
Completed in 200ms (View: 90, DB: 102) | 200 OK [http://localhost/brides/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-10 00:33:32) [GET]
  Parameters: {"gift_id"=>"10"}
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (30.7ms)
Completed in 135ms (View: 124, DB: 2) | 200 OK [http://localhost/donations/new?gift_id=10]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-10 00:33:42) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"63", "authenticity_token"=>"oWI4ycYGJFoDYOxCr4yk1Oj01PHyvNRtadvNILrLjss=", "commit.y"=>"14", "donation"=>{"gift_id"=>"10", "amount"=>"9000", "last_name"=>"money", "first_name"=>"fred"}}
  [4;36;1mDonation Columns (55.0ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(10, NULL, '2010-09-10 07:33:42', NULL, NULL, NULL, '2010-09-10 07:33:42', 9000.0, 'money', '127.0.0.1', 'fred', 1)[0m
  [4;35;1mSQL (17.4ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-74W03347KR373374R
Completed in 1231ms (DB: 73) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-10 00:34:09) [GET]
  Parameters: {"token"=>"EC-74W03347KR373374R", "id"=>"62", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 62) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.4ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-10 07:34:09', `express_token` = 'EC-74W03347KR373374R', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 62[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (42.4ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-10 07:34:12', '2010-09-10 07:34:12', 'submit_express_donation', 900000.0, '5GF11733W12006520', 1, 62, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: f3d9d1c4f899\ntimestamp: \"2010-09-10T07:34:12Z\"\npending_reason: none\ntoken: EC-74W03347KR373374R\ntransaction_id: 5GF11733W12006520\nbuild: \"1500373\"\ntax_amount: \"0.00\"\ntransaction_type: express-checkout\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"261.30\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"9000.00\"\nack: Success\npayment_date: \"2010-09-10T07:34:11Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mGift Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (0.3ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 10) [0m
Redirected to http://localhost:3000/brides/3
Completed in 3038ms (DB: 50) | 302 Found [http://localhost/donations/62/paypal_response?token=EC-74W03347KR373374R&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-10 00:34:12) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mBride Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.3ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 3) [0m
  [4;36;1mGift Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.5ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 10) [0m
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 62) [0m
Rendered gifts/_gift_listing (16.0ms)
Completed in 81ms (View: 67, DB: 8) | 200 OK [http://localhost/brides/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-10 00:34:21) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 20ms (View: 13, DB: 2) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#edit (for 127.0.0.1 at 2010-09-10 00:34:24) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mBride Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (1.0ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/edit
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 3) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
Rendered brides/_gift_fields (1.9ms)
Rendered brides/_gift_fields (1.8ms)
Rendered brides/_form (30.1ms)
Completed in 152ms (View: 61, DB: 6) | 200 OK [http://localhost/brides/3/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-10 00:34:31) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 21ms (View: 13, DB: 3) | 200 OK [http://localhost/brides]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-10 00:34:36) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 3) [0m
  [4;35;1mGift Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 10) [0m
  [4;35;1mDonation Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 62) [0m
Rendered gifts/_gift_listing (15.0ms)
Completed in 41ms (View: 26, DB: 9) | 200 OK [http://localhost/brides/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-10 00:34:42) [GET]
  Parameters: {"gift_id"=>"10"}
  [4;36;1mDonation Columns (48.4ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (87.5ms)
Completed in 149ms (View: 91, DB: 49) | 200 OK [http://localhost/donations/new?gift_id=10]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#index (for 127.0.0.1 at 2010-09-10 00:34:45) [GET]
  [4;36;1mDonation Load (0.5ms)[0m   [0;1mSELECT * FROM `donations` [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
Completed in 77ms (View: 68, DB: 3) | 200 OK [http://localhost/donations]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-10 00:35:10) [GET]
  [4;35;1mBride Load (0.4ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 63ms (View: 56, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-10 00:35:12) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mBride Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (0.3ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (0.4ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 3) [0m
  [4;35;1mGift Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 10) [0m
  [4;35;1mDonation Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (0.4ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 62) [0m
Rendered gifts/_gift_listing (16.1ms)
Completed in 43ms (View: 28, DB: 9) | 200 OK [http://localhost/brides/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#new (for 127.0.0.1 at 2010-09-10 00:35:19) [GET]
  Parameters: {"gift_id"=>"10"}
  [4;36;1mDonation Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (6.7ms)
Completed in 103ms (View: 11, DB: 3) | 200 OK [http://localhost/donations/new?gift_id=10]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#create (for 127.0.0.1 at 2010-09-10 00:35:29) [POST]
  Parameters: {"commit"=>"paypal_express", "commit.x"=>"70", "authenticity_token"=>"oWI4ycYGJFoDYOxCr4yk1Oj01PHyvNRtadvNILrLjss=", "commit.y"=>"11", "donation"=>{"gift_id"=>"10", "amount"=>"99", "last_name"=>"eee", "first_name"=>"jjj"}}
  [4;36;1mDonation Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Create (0.4ms)[0m   [0;1mINSERT INTO `donations` (`gift_id`, `card_expiration`, `created_at`, `card_type`, `express_payer_id`, `express_token`, `updated_at`, `amount`, `last_name`, `ip_address`, `first_name`, `paypal_donation`) VALUES(10, NULL, '2010-09-10 07:35:29', NULL, NULL, NULL, '2010-09-10 07:35:29', 99.0, 'eee', '127.0.0.1', 'jjj', 1)[0m
  [4;35;1mSQL (20.1ms)[0m   [0mCOMMIT[0m
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3030564970514725L
Completed in 666ms (DB: 23) | 302 Found [http://localhost/donations]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DonationsController#paypal_response (for 127.0.0.1 at 2010-09-10 00:35:49) [GET]
  Parameters: {"token"=>"EC-3030564970514725L", "id"=>"63", "PayerID"=>"WR7XWRYN233AL"}
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonation Load (0.4ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.`id` = 63) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDonation Update (0.3ms)[0m   [0;1mUPDATE `donations` SET `updated_at` = '2010-09-10 07:35:49', `express_token` = 'EC-3030564970514725L', `express_payer_id` = 'WR7XWRYN233AL' WHERE `id` = 63[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDonationTransaction Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donation_transactions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mDonationTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `donation_transactions` (`created_at`, `updated_at`, `action`, `amount`, `authorization`, `success`, `donation_id`, `params`, `message`) VALUES('2010-09-10 07:35:52', '2010-09-10 07:35:52', 'submit_express_donation', 9900.0, '8WH62524T87790746', 1, 63, '--- \npayment_status: Completed\ntax_amount_currency_id: USD\ncorrelation_id: a2b36584bb1a6\ntimestamp: \"2010-09-10T07:35:52Z\"\npending_reason: none\ntoken: EC-3030564970514725L\ntransaction_id: 8WH62524T87790746\nbuild: \"1500373\"\ntax_amount: \"0.00\"\ntransaction_type: express-checkout\nfee_amount_currency_id: USD\nreceipt_id: \nversion: \"59.0\"\ngross_amount_currency_id: USD\nfee_amount: \"3.17\"\nparent_transaction_id: \nexchange_rate: \ngross_amount: \"99.00\"\nack: Success\npayment_date: \"2010-09-10T07:35:51Z\"\nprotection_eligibility: Eligible\npayment_type: instant\nreason_code: none\n', 'Success')[0m
  [4;35;1mSQL (34.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mGift Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mGift Load (2.5ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.`id` = 10) [0m
Redirected to http://localhost:3000/brides/3
Completed in 3126ms (DB: 46) | 302 Found [http://localhost/donations/63/paypal_response?token=EC-3030564970514725L&PayerID=WR7XWRYN233AL]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-10 00:35:52) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mBride Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `brides`[0m
  [4;36;1mBride Load (0.6ms)[0m   [0;1mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;35;1mGift Load (0.4ms)[0m   [0mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 3) [0m
  [4;36;1mGift Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `gifts`[0m
  [4;35;1mDonation Load (0.4ms)[0m   [0mSELECT * FROM `donations` WHERE (`donations`.gift_id = 10) [0m
  [4;36;1mDonation Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mDonationTransaction Load (0.5ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 62) [0m
  [4;36;1mDonationTransaction Load (0.3ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 63) [0m
Rendered gifts/_gift_listing (17.6ms)
Completed in 188ms (View: 174, DB: 8) | 200 OK [http://localhost/brides/3]
  [4;36;1mSQL (198.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-11 13:15:47) [GET]
  [4;35;1mBride Load (480.7ms)[0m   [0mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
  [4;36;1mBride Columns (181.4ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
Completed in 1439ms (View: 602, DB: 860) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#show (for 127.0.0.1 at 2010-09-11 13:15:53) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mBride Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mBride Load (73.4ms)[0m   [0mSELECT * FROM `brides` WHERE (`brides`.`id` = 3) [0m
Rendering template within layouts/application
Rendering brides/show
  [4;36;1mGift Load (28.3ms)[0m   [0;1mSELECT * FROM `gifts` WHERE (`gifts`.bride_id = 3) [0m
  [4;35;1mGift Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mDonation Load (2.1ms)[0m   [0;1mSELECT * FROM `donations` WHERE (`donations`.gift_id = 10) [0m
  [4;35;1mDonation Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `donations`[0m
  [4;36;1mDonationTransaction Load (19.8ms)[0m   [0;1mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 62) [0m
  [4;35;1mDonationTransaction Load (0.6ms)[0m   [0mSELECT * FROM `donation_transactions` WHERE (`donation_transactions`.donation_id = 63) [0m
Rendered gifts/_gift_listing (96.2ms)
Completed in 292ms (View: 155, DB: 130) | 200 OK [http://localhost/brides/3]
  [4;36;1mSQL (82.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (181.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (493.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
Migrating to CreateBrides (20100824213338)
Migrating to CreateDonations (20100825185248)
Migrating to CreateDonationTransactions (20100825203335)
Migrating to DeviseCreateUsers (20100913211756)
  [4;35;1mSQL (264.3ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(128) DEFAULT '' NOT NULL, `password_salt` varchar(255) DEFAULT '' NOT NULL, `confirmation_token` varchar(255), `confirmed_at` datetime, `confirmation_sent_at` datetime, `reset_password_token` varchar(255), `remember_token` varchar(255), `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (631.3ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (323.0ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_confirmation_token` ON `users` (`confirmation_token`)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (310.5ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_reset_password_token` ON `users` (`reset_password_token`)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Key column 'facebook_uid' doesn't exist in table: CREATE UNIQUE INDEX `index_users_on_facebook_uid` ON `users` (`facebook_uid`)[0m
  [4;36;1mSQL (59.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (115.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (85.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
Migrating to CreateBrides (20100824213338)
Migrating to CreateDonations (20100825185248)
Migrating to CreateDonationTransactions (20100825203335)
Migrating to DeviseCreateUsers (20100913211756)
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(128) DEFAULT '' NOT NULL, `password_salt` varchar(255) DEFAULT '' NOT NULL, `confirmation_token` varchar(255), `confirmed_at` datetime, `confirmation_sent_at` datetime, `reset_password_token` varchar(255), `remember_token` varchar(255), `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (49.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
Migrating to CreateBrides (20100824213338)
Migrating to CreateDonations (20100825185248)
Migrating to CreateDonationTransactions (20100825203335)
Migrating to DeviseCreateUsers (20100913211756)
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(128) DEFAULT '' NOT NULL, `password_salt` varchar(255) DEFAULT '' NOT NULL, `confirmation_token` varchar(255), `confirmed_at` datetime, `confirmation_sent_at` datetime, `reset_password_token` varchar(255), `remember_token` varchar(255), `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (100.1ms)[0m   [0mSELECT * FROM `users` [0m
  [4;36;1mUser Columns (151.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (384.1ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (10.7ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (420.8ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (32.0ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (31.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (113.8ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (115.8ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gift_id` int(11), `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `amount` float, `express_token` varchar(255), `express_payer_id` varchar(255), `paypal_donation` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (125.8ms)[0m   [0mCREATE TABLE `donation_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `donation_id` int(11), `action` varchar(255), `amount` float, `success` tinyint(1), `authorization` varchar(255), `message` varchar(255), `params` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825203335')[0m
Migrating to DeviseCreateUsers (20100913211756)
  [4;35;1mSQL (114.0ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(128) DEFAULT '' NOT NULL, `password_salt` varchar(255) DEFAULT '' NOT NULL, `confirmation_token` varchar(255), `confirmed_at` datetime, `confirmation_sent_at` datetime, `reset_password_token` varchar(255), `remember_token` varchar(255), `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (250.6ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (212.0ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_confirmation_token` ON `users` (`confirmation_token`)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (221.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_reset_password_token` ON `users` (`reset_password_token`)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Key column 'facebook_uid' doesn't exist in table: CREATE UNIQUE INDEX `index_users_on_facebook_uid` ON `users` (`facebook_uid`)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
Migrating to CreateBrides (20100824213338)
Migrating to CreateDonations (20100825185248)
Migrating to CreateDonationTransactions (20100825203335)
Migrating to DeviseCreateUsers (20100913211756)
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(128) DEFAULT '' NOT NULL, `password_salt` varchar(255) DEFAULT '' NOT NULL, `confirmation_token` varchar(255), `confirmed_at` datetime, `confirmation_sent_at` datetime, `reset_password_token` varchar(255), `remember_token` varchar(255), `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (174.8ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `schema_migrations`[0m
  [4;36;1mSQL (225.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateGifts (20100824213302)
  [4;35;1mSQL (134.1ms)[0m   [0mCREATE TABLE `gifts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` float, `total_donations` float, `bride_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213302')[0m
Migrating to CreateBrides (20100824213338)
  [4;35;1mSQL (115.2ms)[0m   [0mCREATE TABLE `brides` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `wedding_day` date, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100824213338')[0m
Migrating to CreateDonations (20100825185248)
  [4;35;1mSQL (134.5ms)[0m   [0mCREATE TABLE `donations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `gift_id` int(11), `ip_address` varchar(255), `first_name` varchar(255), `last_name` varchar(255), `card_type` varchar(255), `card_expiration` date, `amount` float, `express_token` varchar(255), `express_payer_id` varchar(255), `paypal_donation` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825185248')[0m
Migrating to CreateDonationTransactions (20100825203335)
  [4;35;1mSQL (132.1ms)[0m   [0mCREATE TABLE `donation_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `donation_id` int(11), `action` varchar(255), `amount` float, `success` tinyint(1), `authorization` varchar(255), `message` varchar(255), `params` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100825203335')[0m
Migrating to DeviseCreateUsers (20100913211756)
  [4;35;1mSQL (119.9ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(128) DEFAULT '' NOT NULL, `password_salt` varchar(255) DEFAULT '' NOT NULL, `confirmation_token` varchar(255), `confirmed_at` datetime, `confirmation_sent_at` datetime, `reset_password_token` varchar(255), `remember_token` varchar(255), `remember_created_at` datetime, `sign_in_count` int(11) DEFAULT 0, `current_sign_in_at` datetime, `last_sign_in_at` datetime, `current_sign_in_ip` varchar(255), `last_sign_in_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (237.0ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (211.3ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_confirmation_token` ON `users` (`confirmation_token`)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (234.2ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_reset_password_token` ON `users` (`reset_password_token`)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100913211756')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (15.3ms)[0m   [0;1mSHOW FIELDS FROM `brides`[0m
  [4;35;1mSQL (20.0ms)[0m   [0mdescribe `brides`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `brides`[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSHOW FIELDS FROM `donation_transactions`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mdescribe `donation_transactions`[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSHOW KEYS FROM `donation_transactions`[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSHOW FIELDS FROM `donations`[0m
  [4;35;1mSQL (2.1ms)[0m   [0mdescribe `donations`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `donations`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `gifts`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mdescribe `gifts`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSHOW KEYS FROM `gifts`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (2.5ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-14 10:29:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"brides"}
Redirected to http://www.facebook.com/install.php?api_key=API_KEY&v=1.0&next=http%3A%2F%2Flocalhost%3A3000%2Fbrides
Filter chain halted as [:ensure_application_is_installed_by_facebook_user] rendered_or_redirected.
Completed in 492ms (DB: 0) | 302 Found [http://localhost/]
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-14 10:29:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"brides"}
Redirected to http://www.facebook.com/install.php?api_key=API_KEY&v=1.0&next=http%3A%2F%2Flocalhost%3A3000%2Fbrides
Filter chain halted as [:ensure_application_is_installed_by_facebook_user] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-14 10:33:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"brides"}
Redirected to http://www.facebook.com/install.php?api_key=API_KEY&v=1.0&next=http%3A%2F%2Flocalhost%3A3000%2Fbrides
Filter chain halted as [:ensure_application_is_installed_by_facebook_user] rendered_or_redirected.
Completed in 18ms (DB: 0) | 302 Found [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing BridesController#index (for 127.0.0.1 at 2010-09-14 10:37:49) [GET]
  [4;36;1mBride Load (0.5ms)[0m   [0;1mSELECT * FROM `brides` [0m
Rendering template within layouts/application
Rendering brides/index
Completed in 701ms (View: 289, DB: 1) | 200 OK [http://localhost/]
